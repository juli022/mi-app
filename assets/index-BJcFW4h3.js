function L_(i,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(i,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Cg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ch={exports:{}},ta={},hh={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function M_(){if(Xp)return Ce;Xp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,q={};function z(L,Q,fe){this.props=L,this.context=Q,this.refs=q,this.updater=fe||O}z.prototype.isReactComponent={},z.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Z(){}Z.prototype=z.prototype;function ne(L,Q,fe){this.props=L,this.context=Q,this.refs=q,this.updater=fe||O}var re=ne.prototype=new Z;re.constructor=ne,U(re,z.prototype),re.isPureReactComponent=!0;var ve=Array.isArray,be=Object.prototype.hasOwnProperty,De={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(L,Q,fe){var Te,Se={},Pe=null,Le=null;if(Q!=null)for(Te in Q.ref!==void 0&&(Le=Q.ref),Q.key!==void 0&&(Pe=""+Q.key),Q)be.call(Q,Te)&&!D.hasOwnProperty(Te)&&(Se[Te]=Q[Te]);var Me=arguments.length-2;if(Me===1)Se.children=fe;else if(1<Me){for(var Be=Array(Me),yt=0;yt<Me;yt++)Be[yt]=arguments[yt+2];Se.children=Be}if(L&&L.defaultProps)for(Te in Me=L.defaultProps,Me)Se[Te]===void 0&&(Se[Te]=Me[Te]);return{$$typeof:i,type:L,key:Pe,ref:Le,props:Se,_owner:De.current}}function P(L,Q){return{$$typeof:i,type:L.type,key:Q,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function N(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return Q[fe]})}var M=/\/+/g;function A(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):Q.toString(36)}function tt(L,Q,fe,Te,Se){var Pe=typeof L;(Pe==="undefined"||Pe==="boolean")&&(L=null);var Le=!1;if(L===null)Le=!0;else switch(Pe){case"string":case"number":Le=!0;break;case"object":switch(L.$$typeof){case i:case e:Le=!0}}if(Le)return Le=L,Se=Se(Le),L=Te===""?"."+A(Le,0):Te,ve(Se)?(fe="",L!=null&&(fe=L.replace(M,"$&/")+"/"),tt(Se,Q,fe,"",function(yt){return yt})):Se!=null&&(V(Se)&&(Se=P(Se,fe+(!Se.key||Le&&Le.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+L)),Q.push(Se)),1;if(Le=0,Te=Te===""?".":Te+":",ve(L))for(var Me=0;Me<L.length;Me++){Pe=L[Me];var Be=Te+A(Pe,Me);Le+=tt(Pe,Q,fe,Be,Se)}else if(Be=I(L),typeof Be=="function")for(L=Be.call(L),Me=0;!(Pe=L.next()).done;)Pe=Pe.value,Be=Te+A(Pe,Me++),Le+=tt(Pe,Q,fe,Be,Se);else if(Pe==="object")throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Le}function Vt(L,Q,fe){if(L==null)return L;var Te=[],Se=0;return tt(L,Te,"","",function(Pe){return Q.call(fe,Pe,Se++)}),Te}function Dt(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var Ue={current:null},te={transition:null},pe={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:te,ReactCurrentOwner:De};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Vt,forEach:function(L,Q,fe){Vt(L,function(){Q.apply(this,arguments)},fe)},count:function(L){var Q=0;return Vt(L,function(){Q++}),Q},toArray:function(L){return Vt(L,function(Q){return Q})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=z,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=g,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ce.act=se,Ce.cloneElement=function(L,Q,fe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Te=U({},L.props),Se=L.key,Pe=L.ref,Le=L._owner;if(Q!=null){if(Q.ref!==void 0&&(Pe=Q.ref,Le=De.current),Q.key!==void 0&&(Se=""+Q.key),L.type&&L.type.defaultProps)var Me=L.type.defaultProps;for(Be in Q)be.call(Q,Be)&&!D.hasOwnProperty(Be)&&(Te[Be]=Q[Be]===void 0&&Me!==void 0?Me[Be]:Q[Be])}var Be=arguments.length-2;if(Be===1)Te.children=fe;else if(1<Be){Me=Array(Be);for(var yt=0;yt<Be;yt++)Me[yt]=arguments[yt+2];Te.children=Me}return{$$typeof:i,type:L.type,key:Se,ref:Pe,props:Te,_owner:Le}},Ce.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},Ce.createElement=C,Ce.createFactory=function(L){var Q=C.bind(null,L);return Q.type=L,Q},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:m,render:L}},Ce.isValidElement=V,Ce.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:Dt}},Ce.memo=function(L,Q){return{$$typeof:v,type:L,compare:Q===void 0?null:Q}},Ce.startTransition=function(L){var Q=te.transition;te.transition={};try{L()}finally{te.transition=Q}},Ce.unstable_act=se,Ce.useCallback=function(L,Q){return Ue.current.useCallback(L,Q)},Ce.useContext=function(L){return Ue.current.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L){return Ue.current.useDeferredValue(L)},Ce.useEffect=function(L,Q){return Ue.current.useEffect(L,Q)},Ce.useId=function(){return Ue.current.useId()},Ce.useImperativeHandle=function(L,Q,fe){return Ue.current.useImperativeHandle(L,Q,fe)},Ce.useInsertionEffect=function(L,Q){return Ue.current.useInsertionEffect(L,Q)},Ce.useLayoutEffect=function(L,Q){return Ue.current.useLayoutEffect(L,Q)},Ce.useMemo=function(L,Q){return Ue.current.useMemo(L,Q)},Ce.useReducer=function(L,Q,fe){return Ue.current.useReducer(L,Q,fe)},Ce.useRef=function(L){return Ue.current.useRef(L)},Ce.useState=function(L){return Ue.current.useState(L)},Ce.useSyncExternalStore=function(L,Q,fe){return Ue.current.useSyncExternalStore(L,Q,fe)},Ce.useTransition=function(){return Ue.current.useTransition()},Ce.version="18.3.1",Ce}var Jp;function Jh(){return Jp||(Jp=1,hh.exports=M_()),hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function F_(){if(Zp)return ta;Zp=1;var i=Jh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var E,T={},I=null,O=null;v!==void 0&&(I=""+v),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(O=g.ref);for(E in g)s.call(g,E)&&!c.hasOwnProperty(E)&&(T[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)T[E]===void 0&&(T[E]=g[E]);return{$$typeof:e,type:m,key:I,ref:O,props:T,_owner:a.current}}return ta.Fragment=n,ta.jsx=h,ta.jsxs=h,ta}var em;function j_(){return em||(em=1,ch.exports=F_()),ch.exports}var R=j_(),H=Jh();const Ag=Cg(H),b_=L_({__proto__:null,default:Ag},[H]);var Wl={},fh={exports:{}},Xt={},dh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function U_(){return tm||(tm=1,function(i){function e(te,pe){var se=te.length;te.push(pe);e:for(;0<se;){var L=se-1>>>1,Q=te[L];if(0<a(Q,pe))te[L]=pe,te[se]=Q,se=L;else break e}}function n(te){return te.length===0?null:te[0]}function s(te){if(te.length===0)return null;var pe=te[0],se=te.pop();if(se!==pe){te[0]=se;e:for(var L=0,Q=te.length,fe=Q>>>1;L<fe;){var Te=2*(L+1)-1,Se=te[Te],Pe=Te+1,Le=te[Pe];if(0>a(Se,se))Pe<Q&&0>a(Le,Se)?(te[L]=Le,te[Pe]=se,L=Pe):(te[L]=Se,te[Te]=se,L=Te);else if(Pe<Q&&0>a(Le,se))te[L]=Le,te[Pe]=se,L=Pe;else break e}}return pe}function a(te,pe){var se=te.sortIndex-pe.sortIndex;return se!==0?se:te.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],E=1,T=null,I=3,O=!1,U=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function re(te){for(var pe=n(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=te)s(v),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(v)}}function ve(te){if(q=!1,re(te),!U)if(n(g)!==null)U=!0,Dt(be);else{var pe=n(v);pe!==null&&Ue(ve,pe.startTime-te)}}function be(te,pe){U=!1,q&&(q=!1,Z(C),C=-1),O=!0;var se=I;try{for(re(pe),T=n(g);T!==null&&(!(T.expirationTime>pe)||te&&!N());){var L=T.callback;if(typeof L=="function"){T.callback=null,I=T.priorityLevel;var Q=L(T.expirationTime<=pe);pe=i.unstable_now(),typeof Q=="function"?T.callback=Q:T===n(g)&&s(g),re(pe)}else s(g);T=n(g)}if(T!==null)var fe=!0;else{var Te=n(v);Te!==null&&Ue(ve,Te.startTime-pe),fe=!1}return fe}finally{T=null,I=se,O=!1}}var De=!1,D=null,C=-1,P=5,V=-1;function N(){return!(i.unstable_now()-V<P)}function M(){if(D!==null){var te=i.unstable_now();V=te;var pe=!0;try{pe=D(!0,te)}finally{pe?A():(De=!1,D=null)}}else De=!1}var A;if(typeof ne=="function")A=function(){ne(M)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,Vt=tt.port2;tt.port1.onmessage=M,A=function(){Vt.postMessage(null)}}else A=function(){z(M,0)};function Dt(te){D=te,De||(De=!0,A())}function Ue(te,pe){C=z(function(){te(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(te){te.callback=null},i.unstable_continueExecution=function(){U||O||(U=!0,Dt(be))},i.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<te?Math.floor(1e3/te):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(te){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var se=I;I=pe;try{return te()}finally{I=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(te,pe){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=I;I=te;try{return pe()}finally{I=se}},i.unstable_scheduleCallback=function(te,pe,se){var L=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,te){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=se+Q,te={id:E++,callback:pe,priorityLevel:te,startTime:se,expirationTime:Q,sortIndex:-1},se>L?(te.sortIndex=se,e(v,te),n(g)===null&&te===n(v)&&(q?(Z(C),C=-1):q=!0,Ue(ve,se-L))):(te.sortIndex=Q,e(g,te),U||O||(U=!0,Dt(be))),te},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(te){var pe=I;return function(){var se=I;I=pe;try{return te.apply(this,arguments)}finally{I=se}}}}(ph)),ph}var nm;function z_(){return nm||(nm=1,dh.exports=U_()),dh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function B_(){if(rm)return Xt;rm=1;var i=Jh(),e=z_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function I(t){return g.call(T,t)?!0:g.call(E,t)?!1:v.test(t)?T[t]=!0:(E[t]=!0,!1)}function O(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function U(t,r,o,u){if(r===null||typeof r>"u"||O(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,u,f,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Z,ne);z[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Z,ne);z[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Z,ne);z[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function re(t,r,o,u){var f=z.hasOwnProperty(r)?z[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(U(r,o,f,u)&&(o=null),u||f===null?I(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var ve=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),De=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),te=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,L;function Q(t){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+t}var fe=!1;function Te(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),p=u.stack.split(`
`),_=f.length-1,S=p.length-1;1<=_&&0<=S&&f[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(f[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||f[_]!==p[S]){var x=`
`+f[_].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=_&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Se(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case De:return"Portal";case P:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case V:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vt:return r=t.displayName||null,r!==null?r:Pe(t.type)||"Memo";case Dt:r=t._payload,t=t._init;try{return Pe(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function yt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function er(t){t._valueTracker||(t._valueTracker=yt(t))}function Qi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hi(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Ki(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function oo(t,r){r=r.checked,r!=null&&re(t,"checked",r,!1)}function ao(t,r){oo(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Gi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Gi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Va(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Gi(t,r,o){(r!=="number"||Sr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var tr=Array.isArray;function nr(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function lo(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(tr(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Xi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function uo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,co=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},di=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(t){di.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),fi[r]=fi[t]})});function ho(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||fi.hasOwnProperty(t)&&fi[t]?(""+r).trim():r+"px"}function fo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=ho(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var po=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(t,r){if(r){if(po[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function go(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function Ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zi=null,cn=null,jn=null;function es(t){if(t=Uo(t)){if(typeof Zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=al(r),Zi(t.stateNode,t.type,r))}}function bn(t){cn?jn?jn.push(t):jn=[t]:cn=t}function yo(){if(cn){var t=cn,r=jn;if(jn=cn=null,es(t),r)for(t=0;t<r.length;t++)es(r[t])}}function mi(t,r){return t(r)}function vo(){}var ir=!1;function _o(t,r,o){if(ir)return t(r,o);ir=!0;try{return mi(t,r,o)}finally{ir=!1,(cn!==null||jn!==null)&&(vo(),yo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=al(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ts=!1;if(m)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){ts=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{ts=!1}function gi(t,r,o,u,f,p,_,S,x){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(Y){this.onError(Y)}}var yi=!1,ns=null,Tn=!1,Eo=null,ju={onError:function(t){yi=!0,ns=t}};function rs(t,r,o,u,f,p,_,S,x){yi=!1,ns=null,gi.apply(ju,arguments)}function Da(t,r,o,u,f,p,_,S,x){if(rs.apply(this,arguments),yi){if(yi){var B=ns;yi=!1,ns=null}else throw Error(n(198));Tn||(Tn=!0,Eo=B)}}function In(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function vi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Sn(t){if(In(t)!==t)throw Error(n(188))}function Na(t){var r=t.alternate;if(!r){if(r=In(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Sn(f),t;if(p===u)return Sn(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=p;else{for(var _=!1,S=f.child;S;){if(S===o){_=!0,o=f,u=p;break}if(S===u){_=!0,u=f,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,u=f;break}if(S===u){_=!0,u=p,o=f;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function wo(t){return t=Na(t),t!==null?is(t):null}function is(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=is(t);if(r!==null)return r;t=t.sibling}return null}var ss=e.unstable_scheduleCallback,To=e.unstable_cancelCallback,Oa=e.unstable_shouldYield,bu=e.unstable_requestPaint,$e=e.unstable_now,La=e.unstable_getCurrentPriorityLevel,_i=e.unstable_ImmediatePriority,Ar=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Io=e.unstable_LowPriority,Ma=e.unstable_IdlePriority,Ei=null,tn=null;function Fa(t){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ei,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:ba,So=Math.log,ja=Math.LN2;function ba(t){return t>>>=0,t===0?32:31-(So(t)/ja|0)|0}var os=64,as=4194304;function Rr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~f;S!==0?u=Rr(S):(p&=_,p!==0&&(u=Rr(p)))}else _=o&~f,_!==0?u=Rr(_):p!==0&&(u=Rr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&f)===0&&(f=u&-u,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),f=1<<o,u|=t[o],r&=~f;return u}function Uu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Ut(p),S=1<<_,x=f[_];x===-1?((S&o)===0||(S&u)!==0)&&(f[_]=Uu(S,r)):x<=r&&(t.expiredLanes|=S),p&=~S}}function nn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ti(){var t=os;return os<<=1,(os&4194240)===0&&(os=64),t}function Pr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function xr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Ut(o),p=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~p}}function kr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var Re=0;function Vr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ua,ls,za,Ba,$a,Co=!1,Un=[],It=null,Cn=null,An=null,Dr=new Map,fn=new Map,zn=[],zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qa(t,r){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Dr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(r.pointerId)}}function qt(t,r,o,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=Uo(r),r!==null&&ls(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Bu(t,r,o,u,f){switch(r){case"focusin":return It=qt(It,t,r,o,u,f),!0;case"dragenter":return Cn=qt(Cn,t,r,o,u,f),!0;case"mouseover":return An=qt(An,t,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return Dr.set(p,qt(Dr.get(p)||null,t,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,fn.set(p,qt(fn.get(p)||null,t,r,o,u,f)),!0}return!1}function Ha(t){var r=Ri(t.target);if(r!==null){var o=In(r);if(o!==null){if(r=o.tag,r===13){if(r=vi(o),r!==null){t.blockedOn=r,$a(t.priority,function(){za(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function or(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=us(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);pi=u,o.target.dispatchEvent(u),pi=null}else return r=Uo(o),r!==null&&ls(r),t.blockedOn=o,!1;r.shift()}return!0}function Ii(t,r,o){or(t)&&o.delete(r)}function Wa(){Co=!1,It!==null&&or(It)&&(It=null),Cn!==null&&or(Cn)&&(Cn=null),An!==null&&or(An)&&(An=null),Dr.forEach(Ii),fn.forEach(Ii)}function Rn(t,r){t.blockedOn===r&&(t.blockedOn=null,Co||(Co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wa)))}function Pn(t){function r(f){return Rn(f,t)}if(0<Un.length){Rn(Un[0],t);for(var o=1;o<Un.length;o++){var u=Un[o];u.blockedOn===t&&(u.blockedOn=null)}}for(It!==null&&Rn(It,t),Cn!==null&&Rn(Cn,t),An!==null&&Rn(An,t),Dr.forEach(r),fn.forEach(r),o=0;o<zn.length;o++)u=zn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)Ha(o),o.blockedOn===null&&zn.shift()}var ar=ve.ReactCurrentBatchConfig,Nr=!0;function Ke(t,r,o,u){var f=Re,p=ar.transition;ar.transition=null;try{Re=1,Ao(t,r,o,u)}finally{Re=f,ar.transition=p}}function $u(t,r,o,u){var f=Re,p=ar.transition;ar.transition=null;try{Re=4,Ao(t,r,o,u)}finally{Re=f,ar.transition=p}}function Ao(t,r,o,u){if(Nr){var f=us(t,r,o,u);if(f===null)ec(t,r,u,Si,o),qa(t,u);else if(Bu(f,t,r,o,u))u.stopPropagation();else if(qa(t,u),r&4&&-1<zu.indexOf(t)){for(;f!==null;){var p=Uo(f);if(p!==null&&Ua(p),p=us(t,r,o,u),p===null&&ec(t,r,u,Si,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else ec(t,r,u,null,o)}}var Si=null;function us(t,r,o,u){if(Si=null,t=Ji(u),t=Ri(t),t!==null)if(r=In(t),r===null)t=null;else if(o=r.tag,o===13){if(t=vi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Si=t,null}function Ro(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(La()){case _i:return 1;case Ar:return 4;case hn:case Io:return 16;case Ma:return 536870912;default:return 16}default:return 16}}var rn=null,cs=null,Ht=null;function Po(){if(Ht)return Ht;var t,r=cs,o=r.length,u,f="value"in rn?rn.value:rn.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===f[p-u];u++);return Ht=f.slice(t,1<u?1-u:void 0)}function hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Bn(){return!0}function xo(){return!1}function St(t){function r(o,u,f,p,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bn:xo,this.isPropagationStopped=xo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),r}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=St(xn),$n=se({},xn,{view:0,detail:0}),qu=St($n),ds,lr,Or,Ci=se({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(ds=t.screenX-Or.screenX,lr=t.screenY-Or.screenY):lr=ds=0,Or=t),ds)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),ps=St(Ci),ko=se({},Ci,{dataTransfer:0}),Qa=St(ko),ms=se({},$n,{relatedTarget:0}),gs=St(ms),Ka=se({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),ur=St(Ka),Ga=se({},xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=St(Ga),Xa=se({},xn,{data:0}),Vo=St(Xa),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ja={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Za(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ja[t])?!!r[t]:!1}function qn(){return Za}var l=se({},$n,{key:function(t){if(t.key){var r=ys[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(t){return t.type==="keypress"?hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),y=se({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=St(y),F=se({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),$=St(F),ee=se({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=St(ee),ft=se({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=St(ft),vt=[9,13,27,32],st=m&&"CompositionEvent"in window,dn=null;m&&"documentMode"in document&&(dn=document.documentMode);var sn=m&&"TextEvent"in window&&!dn,Ai=m&&(!st||dn&&8<dn&&11>=dn),vs=" ",Hf=!1;function Wf(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function Dv(t,r){switch(t){case"compositionend":return Qf(r);case"keypress":return r.which!==32?null:(Hf=!0,vs);case"textInput":return t=r.data,t===vs&&Hf?null:t;default:return null}}function Nv(t,r){if(_s)return t==="compositionend"||!st&&Wf(t,r)?(t=Po(),Ht=cs=rn=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ai&&r.locale!=="ko"?null:r.data;default:return null}}var Ov={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ov[t.type]:r==="textarea"}function Gf(t,r,o,u){bn(u),r=il(r,"onChange"),0<r.length&&(o=new fs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Do=null,No=null;function Lv(t){dd(t,0)}function el(t){var r=Ss(t);if(Qi(r))return t}function Mv(t,r){if(t==="change")return r}var Yf=!1;if(m){var Hu;if(m){var Wu="oninput"in document;if(!Wu){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),Wu=typeof Xf.oninput=="function"}Hu=Wu}else Hu=!1;Yf=Hu&&(!document.documentMode||9<document.documentMode)}function Jf(){Do&&(Do.detachEvent("onpropertychange",Zf),No=Do=null)}function Zf(t){if(t.propertyName==="value"&&el(No)){var r=[];Gf(r,No,t,Ji(t)),_o(Lv,r)}}function Fv(t,r,o){t==="focusin"?(Jf(),Do=r,No=o,Do.attachEvent("onpropertychange",Zf)):t==="focusout"&&Jf()}function jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return el(No)}function bv(t,r){if(t==="click")return el(r)}function Uv(t,r){if(t==="input"||t==="change")return el(r)}function zv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var kn=typeof Object.is=="function"?Object.is:zv;function Oo(t,r){if(kn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!g.call(r,f)||!kn(t[f],r[f]))return!1}return!0}function ed(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function td(t,r){var o=ed(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ed(o)}}function nd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?nd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function rd(){for(var t=window,r=Sr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Sr(t.document)}return r}function Qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Bv(t){var r=rd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&nd(o.ownerDocument.documentElement,o)){if(u!==null&&Qu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!t.extend&&p>u&&(f=u,u=p,p=f),f=td(o,p);var _=td(o,u);f&&_&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $v=m&&"documentMode"in document&&11>=document.documentMode,Es=null,Ku=null,Lo=null,Gu=!1;function id(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gu||Es==null||Es!==Sr(u)||(u=Es,"selectionStart"in u&&Qu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Lo&&Oo(Lo,u)||(Lo=u,u=il(Ku,"onSelect"),0<u.length&&(r=new fs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Es)))}function tl(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ws={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Yu={},sd={};m&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function nl(t){if(Yu[t])return Yu[t];if(!ws[t])return t;var r=ws[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in sd)return Yu[t]=r[o];return t}var od=nl("animationend"),ad=nl("animationiteration"),ld=nl("animationstart"),ud=nl("transitionend"),cd=new Map,hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,r){cd.set(t,r),c(r,[t])}for(var Xu=0;Xu<hd.length;Xu++){var Ju=hd[Xu],qv=Ju.toLowerCase(),Hv=Ju[0].toUpperCase()+Ju.slice(1);Lr(qv,"on"+Hv)}Lr(od,"onAnimationEnd"),Lr(ad,"onAnimationIteration"),Lr(ld,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(ud,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function fd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Da(u,r,void 0,t),t.currentTarget=null}function dd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],x=S.instance,B=S.currentTarget;if(S=S.listener,x!==p&&f.isPropagationStopped())break e;fd(f,S,B),p=x}else for(_=0;_<u.length;_++){if(S=u[_],x=S.instance,B=S.currentTarget,S=S.listener,x!==p&&f.isPropagationStopped())break e;fd(f,S,B),p=x}}}if(Tn)throw t=Eo,Tn=!1,Eo=null,t}function He(t,r){var o=r[oc];o===void 0&&(o=r[oc]=new Set);var u=t+"__bubble";o.has(u)||(pd(r,t,2,!1),o.add(u))}function Zu(t,r,o){var u=0;r&&(u|=4),pd(o,t,u,r)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Fo(t){if(!t[rl]){t[rl]=!0,s.forEach(function(o){o!=="selectionchange"&&(Wv.has(o)||Zu(o,!1,t),Zu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[rl]||(r[rl]=!0,Zu("selectionchange",!1,r))}}function pd(t,r,o,u){switch(Ro(r)){case 1:var f=Ke;break;case 4:f=$u;break;default:f=Ao}o=f.bind(null,r,o,t),f=void 0,!ts||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function ec(t,r,o,u,f){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;_=_.return}for(;S!==null;){if(_=Ri(S),_===null)return;if(x=_.tag,x===5||x===6){u=p=_;continue e}S=S.parentNode}}u=u.return}_o(function(){var B=p,Y=Ji(o),X=[];e:{var G=cd.get(t);if(G!==void 0){var ie=fs,ue=t;switch(t){case"keypress":if(hs(o)===0)break e;case"keydown":case"keyup":ie=d;break;case"focusin":ue="focus",ie=gs;break;case"focusout":ue="blur",ie=gs;break;case"beforeblur":case"afterblur":ie=gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=$;break;case od:case ad:case ld:ie=ur;break;case ud:ie=je;break;case"scroll":ie=qu;break;case"wheel":ie=xe;break;case"copy":case"cut":case"paste":ie=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=w}var ce=(r&4)!==0,rt=!ce&&t==="scroll",j=ce?G!==null?G+"Capture":null:G;ce=[];for(var k=B,b;k!==null;){b=k;var J=b.stateNode;if(b.tag===5&&J!==null&&(b=J,j!==null&&(J=nt(k,j),J!=null&&ce.push(jo(k,J,b)))),rt)break;k=k.return}0<ce.length&&(G=new ie(G,ue,null,o,Y),X.push({event:G,listeners:ce}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",G&&o!==pi&&(ue=o.relatedTarget||o.fromElement)&&(Ri(ue)||ue[cr]))break e;if((ie||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,ie?(ue=o.relatedTarget||o.toElement,ie=B,ue=ue?Ri(ue):null,ue!==null&&(rt=In(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=B),ie!==ue)){if(ce=ps,J="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ce=w,J="onPointerLeave",j="onPointerEnter",k="pointer"),rt=ie==null?G:Ss(ie),b=ue==null?G:Ss(ue),G=new ce(J,k+"leave",ie,o,Y),G.target=rt,G.relatedTarget=b,J=null,Ri(Y)===B&&(ce=new ce(j,k+"enter",ue,o,Y),ce.target=b,ce.relatedTarget=rt,J=ce),rt=J,ie&&ue)t:{for(ce=ie,j=ue,k=0,b=ce;b;b=Ts(b))k++;for(b=0,J=j;J;J=Ts(J))b++;for(;0<k-b;)ce=Ts(ce),k--;for(;0<b-k;)j=Ts(j),b--;for(;k--;){if(ce===j||j!==null&&ce===j.alternate)break t;ce=Ts(ce),j=Ts(j)}ce=null}else ce=null;ie!==null&&md(X,G,ie,ce,!1),ue!==null&&rt!==null&&md(X,rt,ue,ce,!0)}}e:{if(G=B?Ss(B):window,ie=G.nodeName&&G.nodeName.toLowerCase(),ie==="select"||ie==="input"&&G.type==="file")var he=Mv;else if(Kf(G))if(Yf)he=Uv;else{he=jv;var me=Fv}else(ie=G.nodeName)&&ie.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(he=bv);if(he&&(he=he(t,B))){Gf(X,he,o,Y);break e}me&&me(t,G,B),t==="focusout"&&(me=G._wrapperState)&&me.controlled&&G.type==="number"&&Gi(G,"number",G.value)}switch(me=B?Ss(B):window,t){case"focusin":(Kf(me)||me.contentEditable==="true")&&(Es=me,Ku=B,Lo=null);break;case"focusout":Lo=Ku=Es=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,id(X,o,Y);break;case"selectionchange":if($v)break;case"keydown":case"keyup":id(X,o,Y)}var ge;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else _s?Wf(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(Ai&&o.locale!=="ko"&&(_s||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&_s&&(ge=Po()):(rn=Y,cs="value"in rn?rn.value:rn.textContent,_s=!0)),me=il(B,_e),0<me.length&&(_e=new Vo(_e,t,null,o,Y),X.push({event:_e,listeners:me}),ge?_e.data=ge:(ge=Qf(o),ge!==null&&(_e.data=ge)))),(ge=sn?Dv(t,o):Nv(t,o))&&(B=il(B,"onBeforeInput"),0<B.length&&(Y=new Vo("onBeforeInput","beforeinput",null,o,Y),X.push({event:Y,listeners:B}),Y.data=ge))}dd(X,r)})}function jo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function il(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=nt(t,o),p!=null&&u.unshift(jo(t,p,f)),p=nt(t,r),p!=null&&u.push(jo(t,p,f))),t=t.return}return u}function Ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function md(t,r,o,u,f){for(var p=r._reactName,_=[];o!==null&&o!==u;){var S=o,x=S.alternate,B=S.stateNode;if(x!==null&&x===u)break;S.tag===5&&B!==null&&(S=B,f?(x=nt(o,p),x!=null&&_.unshift(jo(o,x,S))):f||(x=nt(o,p),x!=null&&_.push(jo(o,x,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var Qv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(Qv,`
`).replace(Kv,"")}function sl(t,r,o){if(r=gd(r),gd(t)!==r&&o)throw Error(n(425))}function ol(){}var tc=null,nc=null;function rc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ic=typeof setTimeout=="function"?setTimeout:void 0,Gv=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,Yv=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(t){return yd.resolve(null).then(t).catch(Xv)}:ic;function Xv(t){setTimeout(function(){throw t})}function sc(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),Pn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Pn(r)}function Mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function vd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Is,bo="__reactProps$"+Is,cr="__reactContainer$"+Is,oc="__reactEvents$"+Is,Jv="__reactListeners$"+Is,Zv="__reactHandles$"+Is;function Ri(t){var r=t[Hn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[cr]||o[Hn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=vd(t);t!==null;){if(o=t[Hn])return o;t=vd(t)}return r}t=o,o=t.parentNode}return null}function Uo(t){return t=t[Hn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function al(t){return t[bo]||null}var ac=[],Cs=-1;function Fr(t){return{current:t}}function We(t){0>Cs||(t.current=ac[Cs],ac[Cs]=null,Cs--)}function qe(t,r){Cs++,ac[Cs]=t.current,t.current=r}var jr={},Nt=Fr(jr),Wt=Fr(!1),Pi=jr;function As(t,r){var o=t.type.contextTypes;if(!o)return jr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Qt(t){return t=t.childContextTypes,t!=null}function ll(){We(Wt),We(Nt)}function _d(t,r,o){if(Nt.current!==jr)throw Error(n(168));qe(Nt,r),qe(Wt,o)}function Ed(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,Le(t)||"Unknown",f));return se({},o,u)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jr,Pi=Nt.current,qe(Nt,t),qe(Wt,Wt.current),!0}function wd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Ed(t,r,Pi),u.__reactInternalMemoizedMergedChildContext=t,We(Wt),We(Nt),qe(Nt,t)):We(Wt),qe(Wt,o)}var hr=null,cl=!1,lc=!1;function Td(t){hr===null?hr=[t]:hr.push(t)}function e_(t){cl=!0,Td(t)}function br(){if(!lc&&hr!==null){lc=!0;var t=0,r=Re;try{var o=hr;for(Re=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}hr=null,cl=!1}catch(f){throw hr!==null&&(hr=hr.slice(t+1)),ss(_i,br),f}finally{Re=r,lc=!1}}return null}var Rs=[],Ps=0,hl=null,fl=0,pn=[],mn=0,xi=null,fr=1,dr="";function ki(t,r){Rs[Ps++]=fl,Rs[Ps++]=hl,hl=t,fl=r}function Id(t,r,o){pn[mn++]=fr,pn[mn++]=dr,pn[mn++]=xi,xi=t;var u=fr;t=dr;var f=32-Ut(u)-1;u&=~(1<<f),o+=1;var p=32-Ut(r)+f;if(30<p){var _=f-f%5;p=(u&(1<<_)-1).toString(32),u>>=_,f-=_,fr=1<<32-Ut(r)+f|o<<f|u,dr=p+t}else fr=1<<p|o<<f|u,dr=t}function uc(t){t.return!==null&&(ki(t,1),Id(t,1,0))}function cc(t){for(;t===hl;)hl=Rs[--Ps],Rs[Ps]=null,fl=Rs[--Ps],Rs[Ps]=null;for(;t===xi;)xi=pn[--mn],pn[mn]=null,dr=pn[--mn],pn[mn]=null,fr=pn[--mn],pn[mn]=null}var on=null,an=null,Ge=!1,Vn=null;function Sd(t,r){var o=_n(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Cd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,on=t,an=Mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,on=t,an=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=xi!==null?{id:fr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=_n(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,on=t,an=null,!0):!1;default:return!1}}function hc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fc(t){if(Ge){var r=an;if(r){var o=r;if(!Cd(t,r)){if(hc(t))throw Error(n(418));r=Mr(o.nextSibling);var u=on;r&&Cd(t,r)?Sd(u,o):(t.flags=t.flags&-4097|2,Ge=!1,on=t)}}else{if(hc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,on=t}}}function Ad(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;on=t}function dl(t){if(t!==on)return!1;if(!Ge)return Ad(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!rc(t.type,t.memoizedProps)),r&&(r=an)){if(hc(t))throw Rd(),Error(n(418));for(;r;)Sd(t,r),r=Mr(r.nextSibling)}if(Ad(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){an=Mr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}an=null}}else an=on?Mr(t.stateNode.nextSibling):null;return!0}function Rd(){for(var t=an;t;)t=Mr(t.nextSibling)}function xs(){an=on=null,Ge=!1}function dc(t){Vn===null?Vn=[t]:Vn.push(t)}var t_=ve.ReactCurrentBatchConfig;function zo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var f=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=f.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function pl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Pd(t){var r=t._init;return r(t._payload)}function xd(t){function r(j,k){if(t){var b=j.deletions;b===null?(j.deletions=[k],j.flags|=16):b.push(k)}}function o(j,k){if(!t)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function u(j,k){for(j=new Map;k!==null;)k.key!==null?j.set(k.key,k):j.set(k.index,k),k=k.sibling;return j}function f(j,k){return j=Qr(j,k),j.index=0,j.sibling=null,j}function p(j,k,b){return j.index=b,t?(b=j.alternate,b!==null?(b=b.index,b<k?(j.flags|=2,k):b):(j.flags|=2,k)):(j.flags|=1048576,k)}function _(j){return t&&j.alternate===null&&(j.flags|=2),j}function S(j,k,b,J){return k===null||k.tag!==6?(k=ih(b,j.mode,J),k.return=j,k):(k=f(k,b),k.return=j,k)}function x(j,k,b,J){var he=b.type;return he===D?Y(j,k,b.props.children,J,b.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Dt&&Pd(he)===k.type)?(J=f(k,b.props),J.ref=zo(j,k,b),J.return=j,J):(J=jl(b.type,b.key,b.props,null,j.mode,J),J.ref=zo(j,k,b),J.return=j,J)}function B(j,k,b,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==b.containerInfo||k.stateNode.implementation!==b.implementation?(k=sh(b,j.mode,J),k.return=j,k):(k=f(k,b.children||[]),k.return=j,k)}function Y(j,k,b,J,he){return k===null||k.tag!==7?(k=ji(b,j.mode,J,he),k.return=j,k):(k=f(k,b),k.return=j,k)}function X(j,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return k=ih(""+k,j.mode,b),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case be:return b=jl(k.type,k.key,k.props,null,j.mode,b),b.ref=zo(j,null,k),b.return=j,b;case De:return k=sh(k,j.mode,b),k.return=j,k;case Dt:var J=k._init;return X(j,J(k._payload),b)}if(tr(k)||pe(k))return k=ji(k,j.mode,b,null),k.return=j,k;pl(j,k)}return null}function G(j,k,b,J){var he=k!==null?k.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return he!==null?null:S(j,k,""+b,J);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case be:return b.key===he?x(j,k,b,J):null;case De:return b.key===he?B(j,k,b,J):null;case Dt:return he=b._init,G(j,k,he(b._payload),J)}if(tr(b)||pe(b))return he!==null?null:Y(j,k,b,J,null);pl(j,b)}return null}function ie(j,k,b,J,he){if(typeof J=="string"&&J!==""||typeof J=="number")return j=j.get(b)||null,S(k,j,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case be:return j=j.get(J.key===null?b:J.key)||null,x(k,j,J,he);case De:return j=j.get(J.key===null?b:J.key)||null,B(k,j,J,he);case Dt:var me=J._init;return ie(j,k,b,me(J._payload),he)}if(tr(J)||pe(J))return j=j.get(b)||null,Y(k,j,J,he,null);pl(k,J)}return null}function ue(j,k,b,J){for(var he=null,me=null,ge=k,_e=k=0,wt=null;ge!==null&&_e<b.length;_e++){ge.index>_e?(wt=ge,ge=null):wt=ge.sibling;var Oe=G(j,ge,b[_e],J);if(Oe===null){ge===null&&(ge=wt);break}t&&ge&&Oe.alternate===null&&r(j,ge),k=p(Oe,k,_e),me===null?he=Oe:me.sibling=Oe,me=Oe,ge=wt}if(_e===b.length)return o(j,ge),Ge&&ki(j,_e),he;if(ge===null){for(;_e<b.length;_e++)ge=X(j,b[_e],J),ge!==null&&(k=p(ge,k,_e),me===null?he=ge:me.sibling=ge,me=ge);return Ge&&ki(j,_e),he}for(ge=u(j,ge);_e<b.length;_e++)wt=ie(ge,j,_e,b[_e],J),wt!==null&&(t&&wt.alternate!==null&&ge.delete(wt.key===null?_e:wt.key),k=p(wt,k,_e),me===null?he=wt:me.sibling=wt,me=wt);return t&&ge.forEach(function(Kr){return r(j,Kr)}),Ge&&ki(j,_e),he}function ce(j,k,b,J){var he=pe(b);if(typeof he!="function")throw Error(n(150));if(b=he.call(b),b==null)throw Error(n(151));for(var me=he=null,ge=k,_e=k=0,wt=null,Oe=b.next();ge!==null&&!Oe.done;_e++,Oe=b.next()){ge.index>_e?(wt=ge,ge=null):wt=ge.sibling;var Kr=G(j,ge,Oe.value,J);if(Kr===null){ge===null&&(ge=wt);break}t&&ge&&Kr.alternate===null&&r(j,ge),k=p(Kr,k,_e),me===null?he=Kr:me.sibling=Kr,me=Kr,ge=wt}if(Oe.done)return o(j,ge),Ge&&ki(j,_e),he;if(ge===null){for(;!Oe.done;_e++,Oe=b.next())Oe=X(j,Oe.value,J),Oe!==null&&(k=p(Oe,k,_e),me===null?he=Oe:me.sibling=Oe,me=Oe);return Ge&&ki(j,_e),he}for(ge=u(j,ge);!Oe.done;_e++,Oe=b.next())Oe=ie(ge,j,_e,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?_e:Oe.key),k=p(Oe,k,_e),me===null?he=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(O_){return r(j,O_)}),Ge&&ki(j,_e),he}function rt(j,k,b,J){if(typeof b=="object"&&b!==null&&b.type===D&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case be:e:{for(var he=b.key,me=k;me!==null;){if(me.key===he){if(he=b.type,he===D){if(me.tag===7){o(j,me.sibling),k=f(me,b.props.children),k.return=j,j=k;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Dt&&Pd(he)===me.type){o(j,me.sibling),k=f(me,b.props),k.ref=zo(j,me,b),k.return=j,j=k;break e}o(j,me);break}else r(j,me);me=me.sibling}b.type===D?(k=ji(b.props.children,j.mode,J,b.key),k.return=j,j=k):(J=jl(b.type,b.key,b.props,null,j.mode,J),J.ref=zo(j,k,b),J.return=j,j=J)}return _(j);case De:e:{for(me=b.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===b.containerInfo&&k.stateNode.implementation===b.implementation){o(j,k.sibling),k=f(k,b.children||[]),k.return=j,j=k;break e}else{o(j,k);break}else r(j,k);k=k.sibling}k=sh(b,j.mode,J),k.return=j,j=k}return _(j);case Dt:return me=b._init,rt(j,k,me(b._payload),J)}if(tr(b))return ue(j,k,b,J);if(pe(b))return ce(j,k,b,J);pl(j,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,k!==null&&k.tag===6?(o(j,k.sibling),k=f(k,b),k.return=j,j=k):(o(j,k),k=ih(b,j.mode,J),k.return=j,j=k),_(j)):o(j,k)}return rt}var ks=xd(!0),kd=xd(!1),ml=Fr(null),gl=null,Vs=null,pc=null;function mc(){pc=Vs=gl=null}function gc(t){var r=ml.current;We(ml),t._currentValue=r}function yc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ds(t,r){gl=t,pc=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Kt=!0),t.firstContext=null)}function gn(t){var r=t._currentValue;if(pc!==t)if(t={context:t,memoizedValue:r,next:null},Vs===null){if(gl===null)throw Error(n(308));Vs=t,gl.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return r}var Vi=null;function vc(t){Vi===null?Vi=[t]:Vi.push(t)}function Vd(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,vc(r)):(o.next=f.next,f.next=o),r.interleaved=o,pr(t,u)}function pr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ur=!1;function _c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ne&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,pr(t,o)}return f=u.interleaved,f===null?(r.next=r,vc(u)):(r.next=f.next,f.next=r),u.interleaved=r,pr(t,o)}function yl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,kr(t,o)}}function Nd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function vl(t,r,o,u){var f=t.updateQueue;Ur=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,B=x.next;x.next=null,_===null?p=B:_.next=B,_=x;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=B:S.next=B,Y.lastBaseUpdate=x))}if(p!==null){var X=f.baseState;_=0,Y=B=x=null,S=p;do{var G=S.lane,ie=S.eventTime;if((u&G)===G){Y!==null&&(Y=Y.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=t,ce=S;switch(G=r,ie=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){X=ue.call(ie,X,G);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,G=typeof ue=="function"?ue.call(ie,X,G):ue,G==null)break e;X=se({},X,G);break e;case 2:Ur=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=f.effects,G===null?f.effects=[S]:G.push(S))}else ie={eventTime:ie,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(B=Y=ie,x=X):Y=Y.next=ie,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(Y===null&&(x=X),f.baseState=x,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,r=f.shared.interleaved,r!==null){f=r;do _|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Oi|=_,t.lanes=_,t.memoizedState=X}}function Od(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Bo={},Wn=Fr(Bo),$o=Fr(Bo),qo=Fr(Bo);function Di(t){if(t===Bo)throw Error(n(174));return t}function Ec(t,r){switch(qe(qo,r),qe($o,t),qe(Wn,Bo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ht(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ht(r,t)}We(Wn),qe(Wn,r)}function Ns(){We(Wn),We($o),We(qo)}function Ld(t){Di(qo.current);var r=Di(Wn.current),o=ht(r,t.type);r!==o&&(qe($o,t),qe(Wn,o))}function wc(t){$o.current===t&&(We(Wn),We($o))}var Ye=Fr(0);function _l(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Tc=[];function Ic(){for(var t=0;t<Tc.length;t++)Tc[t]._workInProgressVersionPrimary=null;Tc.length=0}var El=ve.ReactCurrentDispatcher,Sc=ve.ReactCurrentBatchConfig,Ni=0,Xe=null,dt=null,_t=null,wl=!1,Ho=!1,Wo=0,n_=0;function Ot(){throw Error(n(321))}function Cc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!kn(t[o],r[o]))return!1;return!0}function Ac(t,r,o,u,f,p){if(Ni=p,Xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,El.current=t===null||t.memoizedState===null?o_:a_,t=o(u,f),Ho){p=0;do{if(Ho=!1,Wo=0,25<=p)throw Error(n(301));p+=1,_t=dt=null,r.updateQueue=null,El.current=l_,t=o(u,f)}while(Ho)}if(El.current=Sl,r=dt!==null&&dt.next!==null,Ni=0,_t=dt=Xe=null,wl=!1,r)throw Error(n(300));return t}function Rc(){var t=Wo!==0;return Wo=0,t}function Qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Xe.memoizedState=_t=t:_t=_t.next=t,_t}function yn(){if(dt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=_t===null?Xe.memoizedState:_t.next;if(r!==null)_t=r,dt=t;else{if(t===null)throw Error(n(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},_t===null?Xe.memoizedState=_t=t:_t=_t.next=t}return _t}function Qo(t,r){return typeof r=="function"?r(t):r}function Pc(t){var r=yn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=dt,f=u.baseQueue,p=o.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}u.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,u=u.baseState;var S=_=null,x=null,B=p;do{var Y=B.lane;if((Ni&Y)===Y)x!==null&&(x=x.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var X={lane:Y,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};x===null?(S=x=X,_=u):x=x.next=X,Xe.lanes|=Y,Oi|=Y}B=B.next}while(B!==null&&B!==p);x===null?_=u:x.next=S,kn(u,r.memoizedState)||(Kt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Xe.lanes|=p,Oi|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function xc(t){var r=yn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do p=t(p,_.action),_=_.next;while(_!==f);kn(p,r.memoizedState)||(Kt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Md(){}function Fd(t,r){var o=Xe,u=yn(),f=r(),p=!kn(u.memoizedState,f);if(p&&(u.memoizedState=f,Kt=!0),u=u.queue,kc(Ud.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,Ko(9,bd.bind(null,o,u,f,r),void 0,null),Et===null)throw Error(n(349));(Ni&30)!==0||jd(o,r,f)}return f}function jd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function bd(t,r,o,u){r.value=o,r.getSnapshot=u,zd(r)&&Bd(t)}function Ud(t,r,o){return o(function(){zd(r)&&Bd(t)})}function zd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!kn(t,o)}catch{return!0}}function Bd(t){var r=pr(t,1);r!==null&&Ln(r,t,1,-1)}function $d(t){var r=Qn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},r.queue=t,t=t.dispatch=s_.bind(null,Xe,t),[r.memoizedState,t]}function Ko(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Xe.updateQueue,r===null?(r={lastEffect:null,stores:null},Xe.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function qd(){return yn().memoizedState}function Tl(t,r,o,u){var f=Qn();Xe.flags|=t,f.memoizedState=Ko(1|r,o,void 0,u===void 0?null:u)}function Il(t,r,o,u){var f=yn();u=u===void 0?null:u;var p=void 0;if(dt!==null){var _=dt.memoizedState;if(p=_.destroy,u!==null&&Cc(u,_.deps)){f.memoizedState=Ko(r,o,p,u);return}}Xe.flags|=t,f.memoizedState=Ko(1|r,o,p,u)}function Hd(t,r){return Tl(8390656,8,t,r)}function kc(t,r){return Il(2048,8,t,r)}function Wd(t,r){return Il(4,2,t,r)}function Qd(t,r){return Il(4,4,t,r)}function Kd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Gd(t,r,o){return o=o!=null?o.concat([t]):null,Il(4,4,Kd.bind(null,r,t),o)}function Vc(){}function Yd(t,r){var o=yn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Cc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Xd(t,r){var o=yn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Cc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Jd(t,r,o){return(Ni&21)===0?(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=o):(kn(o,r)||(o=Ti(),Xe.lanes|=o,Oi|=o,t.baseState=!0),r)}function r_(t,r){var o=Re;Re=o!==0&&4>o?o:4,t(!0);var u=Sc.transition;Sc.transition={};try{t(!1),r()}finally{Re=o,Sc.transition=u}}function Zd(){return yn().memoizedState}function i_(t,r,o){var u=Hr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},ep(t))tp(r,o);else if(o=Vd(t,r,o,u),o!==null){var f=$t();Ln(o,t,u,f),np(o,r,u)}}function s_(t,r,o){var u=Hr(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(ep(t))tp(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(f.hasEagerState=!0,f.eagerState=S,kn(S,_)){var x=r.interleaved;x===null?(f.next=f,vc(r)):(f.next=x.next,x.next=f),r.interleaved=f;return}}catch{}finally{}o=Vd(t,r,f,u),o!==null&&(f=$t(),Ln(o,t,u,f),np(o,r,u))}}function ep(t){var r=t.alternate;return t===Xe||r!==null&&r===Xe}function tp(t,r){Ho=wl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function np(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,kr(t,o)}}var Sl={readContext:gn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},o_={readContext:gn,useCallback:function(t,r){return Qn().memoizedState=[t,r===void 0?null:r],t},useContext:gn,useEffect:Hd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,Tl(4194308,4,Kd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return Tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return Tl(4,2,t,r)},useMemo:function(t,r){var o=Qn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Qn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=i_.bind(null,Xe,t),[u.memoizedState,t]},useRef:function(t){var r=Qn();return t={current:t},r.memoizedState=t},useState:$d,useDebugValue:Vc,useDeferredValue:function(t){return Qn().memoizedState=t},useTransition:function(){var t=$d(!1),r=t[0];return t=r_.bind(null,t[1]),Qn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Xe,f=Qn();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Et===null)throw Error(n(349));(Ni&30)!==0||jd(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,Hd(Ud.bind(null,u,p,t),[t]),u.flags|=2048,Ko(9,bd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Qn(),r=Et.identifierPrefix;if(Ge){var o=dr,u=fr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Wo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=n_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},a_={readContext:gn,useCallback:Yd,useContext:gn,useEffect:kc,useImperativeHandle:Gd,useInsertionEffect:Wd,useLayoutEffect:Qd,useMemo:Xd,useReducer:Pc,useRef:qd,useState:function(){return Pc(Qo)},useDebugValue:Vc,useDeferredValue:function(t){var r=yn();return Jd(r,dt.memoizedState,t)},useTransition:function(){var t=Pc(Qo)[0],r=yn().memoizedState;return[t,r]},useMutableSource:Md,useSyncExternalStore:Fd,useId:Zd,unstable_isNewReconciler:!1},l_={readContext:gn,useCallback:Yd,useContext:gn,useEffect:kc,useImperativeHandle:Gd,useInsertionEffect:Wd,useLayoutEffect:Qd,useMemo:Xd,useReducer:xc,useRef:qd,useState:function(){return xc(Qo)},useDebugValue:Vc,useDeferredValue:function(t){var r=yn();return dt===null?r.memoizedState=t:Jd(r,dt.memoizedState,t)},useTransition:function(){var t=xc(Qo)[0],r=yn().memoizedState;return[t,r]},useMutableSource:Md,useSyncExternalStore:Fd,useId:Zd,unstable_isNewReconciler:!1};function Dn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Dc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Cl={isMounted:function(t){return(t=t._reactInternals)?In(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=$t(),f=Hr(t),p=mr(u,f);p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,f),r!==null&&(Ln(r,t,f,u),yl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=$t(),f=Hr(t),p=mr(u,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,f),r!==null&&(Ln(r,t,f,u),yl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=$t(),u=Hr(t),f=mr(o,u);f.tag=2,r!=null&&(f.callback=r),r=zr(t,f,u),r!==null&&(Ln(r,t,u,o),yl(r,t,u))}};function rp(t,r,o,u,f,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Oo(o,u)||!Oo(f,p):!0}function ip(t,r,o){var u=!1,f=jr,p=r.contextType;return typeof p=="object"&&p!==null?p=gn(p):(f=Qt(r)?Pi:Nt.current,u=r.contextTypes,p=(u=u!=null)?As(t,f):jr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Cl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function sp(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Cl.enqueueReplaceState(r,r.state,null)}function Nc(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},_c(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=gn(p):(p=Qt(r)?Pi:Nt.current,f.context=As(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Dc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&Cl.enqueueReplaceState(f,f.state,null),vl(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Os(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Oc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Lc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var u_=typeof WeakMap=="function"?WeakMap:Map;function op(t,r,o){o=mr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Dl||(Dl=!0,Yc=u),Lc(t,r)},o}function ap(t,r,o){o=mr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){Lc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Lc(t,r),typeof u!="function"&&($r===null?$r=new Set([this]):$r.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function lp(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new u_;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=I_.bind(null,t,r,o),r.then(t,t))}function up(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function cp(t,r,o,u,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=mr(-1,1),r.tag=2,zr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var c_=ve.ReactCurrentOwner,Kt=!1;function Bt(t,r,o,u){r.child=t===null?kd(r,null,o,u):ks(r,t.child,o,u)}function hp(t,r,o,u,f){o=o.render;var p=r.ref;return Ds(r,f),u=Ac(t,r,o,u,p,f),o=Rc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ge&&o&&uc(r),r.flags|=1,Bt(t,r,u,f),r.child)}function fp(t,r,o,u,f){if(t===null){var p=o.type;return typeof p=="function"&&!rh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,dp(t,r,p,u,f)):(t=jl(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&f)===0){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Oo,o(_,u)&&t.ref===r.ref)return gr(t,r,f)}return r.flags|=1,t=Qr(p,u),t.ref=r.ref,t.return=r,r.child=t}function dp(t,r,o,u,f){if(t!==null){var p=t.memoizedProps;if(Oo(p,u)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=u=p,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Kt=!0);else return r.lanes=t.lanes,gr(t,r,f)}return Mc(t,r,o,u,f)}function pp(t,r,o){var u=r.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ms,ln),ln|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Ms,ln),ln|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,qe(Ms,ln),ln|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,qe(Ms,ln),ln|=u;return Bt(t,r,f,o),r.child}function mp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Mc(t,r,o,u,f){var p=Qt(o)?Pi:Nt.current;return p=As(r,p),Ds(r,f),o=Ac(t,r,o,u,p,f),u=Rc(),t!==null&&!Kt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,gr(t,r,f)):(Ge&&u&&uc(r),r.flags|=1,Bt(t,r,o,f),r.child)}function gp(t,r,o,u,f){if(Qt(o)){var p=!0;ul(r)}else p=!1;if(Ds(r,f),r.stateNode===null)Rl(t,r),ip(r,o,u),Nc(r,o,u,f),u=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var x=_.context,B=o.contextType;typeof B=="object"&&B!==null?B=gn(B):(B=Qt(o)?Pi:Nt.current,B=As(r,B));var Y=o.getDerivedStateFromProps,X=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||x!==B)&&sp(r,_,u,B),Ur=!1;var G=r.memoizedState;_.state=G,vl(r,u,_,f),x=r.memoizedState,S!==u||G!==x||Wt.current||Ur?(typeof Y=="function"&&(Dc(r,o,Y,u),x=r.memoizedState),(S=Ur||rp(r,o,S,u,G,x,B))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=x),_.props=u,_.state=x,_.context=B,u=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Dd(t,r),S=r.memoizedProps,B=r.type===r.elementType?S:Dn(r.type,S),_.props=B,X=r.pendingProps,G=_.context,x=o.contextType,typeof x=="object"&&x!==null?x=gn(x):(x=Qt(o)?Pi:Nt.current,x=As(r,x));var ie=o.getDerivedStateFromProps;(Y=typeof ie=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==X||G!==x)&&sp(r,_,u,x),Ur=!1,G=r.memoizedState,_.state=G,vl(r,u,_,f);var ue=r.memoizedState;S!==X||G!==ue||Wt.current||Ur?(typeof ie=="function"&&(Dc(r,o,ie,u),ue=r.memoizedState),(B=Ur||rp(r,o,B,u,G,ue,x)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ue,x),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ue,x)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),_.props=u,_.state=ue,_.context=x,u=B):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return Fc(t,r,o,u,p,f)}function Fc(t,r,o,u,f,p){mp(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return f&&wd(r,o,!1),gr(t,r,p);u=r.stateNode,c_.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=ks(r,t.child,null,p),r.child=ks(r,null,S,p)):Bt(t,r,S,p),r.memoizedState=u.state,f&&wd(r,o,!0),r.child}function yp(t){var r=t.stateNode;r.pendingContext?_d(t,r.pendingContext,r.pendingContext!==r.context):r.context&&_d(t,r.context,!1),Ec(t,r.containerInfo)}function vp(t,r,o,u,f){return xs(),dc(f),r.flags|=256,Bt(t,r,o,u),r.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function bc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _p(t,r,o){var u=r.pendingProps,f=Ye.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),qe(Ye,f&1),t===null)return fc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=_):p=bl(_,u,0,null),t=ji(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=bc(o),r.memoizedState=jc,t):Uc(r,_));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return h_(t,r,_,u,S,f,o);if(p){p=u.fallback,_=r.mode,f=t.child,S=f.sibling;var x={mode:"hidden",children:u.children};return(_&1)===0&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=x,r.deletions=null):(u=Qr(f,x),u.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=Qr(S,p):(p=ji(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?bc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=jc,u}return p=t.child,t=p.sibling,u=Qr(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Uc(t,r){return r=bl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Al(t,r,o,u){return u!==null&&dc(u),ks(r,t.child,null,o),t=Uc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function h_(t,r,o,u,f,p,_){if(o)return r.flags&256?(r.flags&=-257,u=Oc(Error(n(422))),Al(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,f=r.mode,u=bl({mode:"visible",children:u.children},f,0,null),p=ji(p,f,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&ks(r,t.child,null,_),r.child.memoizedState=bc(_),r.memoizedState=jc,p);if((r.mode&1)===0)return Al(t,r,_,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Oc(p,u,void 0),Al(t,r,_,u)}if(S=(_&t.childLanes)!==0,Kt||S){if(u=Et,u!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|_))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,pr(t,f),Ln(u,t,f,-1))}return nh(),u=Oc(Error(n(421))),Al(t,r,_,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=S_.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,an=Mr(f.nextSibling),on=r,Ge=!0,Vn=null,t!==null&&(pn[mn++]=fr,pn[mn++]=dr,pn[mn++]=xi,fr=t.id,dr=t.overflow,xi=r),r=Uc(r,u.children),r.flags|=4096,r)}function Ep(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),yc(t.return,r,o)}function zc(t,r,o,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function wp(t,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Ye.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,o,r);else if(t.tag===19)Ep(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Ye,u),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&_l(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),zc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&_l(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}zc(r,!0,o,null,p);break;case"together":zc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Rl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function gr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Oi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function f_(t,r,o){switch(r.tag){case 3:yp(r),xs();break;case 5:Ld(r);break;case 1:Qt(r.type)&&ul(r);break;case 4:Ec(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;qe(ml,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Ye,Ye.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?_p(t,r,o):(qe(Ye,Ye.current&1),t=gr(t,r,o),t!==null?t.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return wp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Ye,Ye.current),u)break;return null;case 22:case 23:return r.lanes=0,pp(t,r,o)}return gr(t,r,o)}var Tp,Bc,Ip,Sp;Tp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Bc=function(){},Ip=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Di(Wn.current);var p=null;switch(o){case"input":f=hi(t,f),u=hi(t,u),p=[];break;case"select":f=se({},f,{value:void 0}),u=se({},u,{value:void 0}),p=[];break;case"textarea":f=lo(t,f),u=lo(t,u),p=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ol)}mo(o,u);var _;o=null;for(B in f)if(!u.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var S=f[B];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var x=u[B];if(S=f!=null?f[B]:void 0,u.hasOwnProperty(B)&&x!==S&&(x!=null||S!=null))if(B==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||x&&x.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in x)x.hasOwnProperty(_)&&S[_]!==x[_]&&(o||(o={}),o[_]=x[_])}else o||(p||(p=[]),p.push(B,o)),o=x;else B==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(p=p||[]).push(B,x)):B==="children"?typeof x!="string"&&typeof x!="number"||(p=p||[]).push(B,""+x):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(x!=null&&B==="onScroll"&&He("scroll",t),p||S===x||(p=[])):(p=p||[]).push(B,x))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},Sp=function(t,r,o,u){o!==u&&(r.flags|=4)};function Go(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function d_(t,r,o){var u=r.pendingProps;switch(cc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(r),null;case 1:return Qt(r.type)&&ll(),Lt(r),null;case 3:return u=r.stateNode,Ns(),We(Wt),We(Nt),Ic(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(dl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vn!==null&&(Zc(Vn),Vn=null))),Bc(t,r),Lt(r),null;case 5:wc(r);var f=Di(qo.current);if(o=r.type,t!==null&&r.stateNode!=null)Ip(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Lt(r),null}if(t=Di(Wn.current),dl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Hn]=r,u[bo]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",u),He("close",u);break;case"iframe":case"object":case"embed":He("load",u);break;case"video":case"audio":for(f=0;f<Mo.length;f++)He(Mo[f],u);break;case"source":He("error",u);break;case"img":case"image":case"link":He("error",u),He("load",u);break;case"details":He("toggle",u);break;case"input":Ki(u,p),He("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},He("invalid",u);break;case"textarea":Yi(u,p),He("invalid",u)}mo(o,p),f=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&sl(u.textContent,S,t),f=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&sl(u.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&He("scroll",u)}switch(o){case"input":er(u),Va(u,p,!0);break;case"textarea":er(u),uo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=ol)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ct(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Hn]=r,t[bo]=u,Tp(t,r,!1,!1),r.stateNode=t;e:{switch(_=go(o,u),o){case"dialog":He("cancel",t),He("close",t),f=u;break;case"iframe":case"object":case"embed":He("load",t),f=u;break;case"video":case"audio":for(f=0;f<Mo.length;f++)He(Mo[f],t);f=u;break;case"source":He("error",t),f=u;break;case"img":case"image":case"link":He("error",t),He("load",t),f=u;break;case"details":He("toggle",t),f=u;break;case"input":Ki(t,u),f=hi(t,u),He("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=se({},u,{value:void 0}),He("invalid",t);break;case"textarea":Yi(t,u),f=lo(t,u),He("invalid",t);break;default:f=u}mo(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var x=S[p];p==="style"?fo(t,x):p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&co(t,x)):p==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Cr(t,x):typeof x=="number"&&Cr(t,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?x!=null&&p==="onScroll"&&He("scroll",t):x!=null&&re(t,p,x,_))}switch(o){case"input":er(t),Va(t,u,!1);break;case"textarea":er(t),uo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?nr(t,!!u.multiple,p,!1):u.defaultValue!=null&&nr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ol)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Lt(r),null;case 6:if(t&&r.stateNode!=null)Sp(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Di(qo.current),Di(Wn.current),dl(r)){if(u=r.stateNode,o=r.memoizedProps,u[Hn]=r,(p=u.nodeValue!==o)&&(t=on,t!==null))switch(t.tag){case 3:sl(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sl(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Hn]=r,r.stateNode=u}return Lt(r),null;case 13:if(We(Ye),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&an!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Rd(),xs(),r.flags|=98560,p=!1;else if(p=dl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Hn]=r}else xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Lt(r),p=!1}else Vn!==null&&(Zc(Vn),Vn=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ye.current&1)!==0?pt===0&&(pt=3):nh())),r.updateQueue!==null&&(r.flags|=4),Lt(r),null);case 4:return Ns(),Bc(t,r),t===null&&Fo(r.stateNode.containerInfo),Lt(r),null;case 10:return gc(r.type._context),Lt(r),null;case 17:return Qt(r.type)&&ll(),Lt(r),null;case 19:if(We(Ye),p=r.memoizedState,p===null)return Lt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Go(p,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(_=_l(t),_!==null){for(r.flags|=128,Go(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Fs&&(r.flags|=128,u=!0,Go(p,!1),r.lanes=4194304)}else{if(!u)if(t=_l(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Go(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ge)return Lt(r),null}else 2*$e()-p.renderingStartTime>Fs&&o!==1073741824&&(r.flags|=128,u=!0,Go(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ye.current,qe(Ye,u?o&1|2:o&1),r):(Lt(r),null);case 22:case 23:return th(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(ln&1073741824)!==0&&(Lt(r),r.subtreeFlags&6&&(r.flags|=8192)):Lt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function p_(t,r){switch(cc(r),r.tag){case 1:return Qt(r.type)&&ll(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ns(),We(Wt),We(Nt),Ic(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return wc(r),null;case 13:if(We(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ye),null;case 4:return Ns(),null;case 10:return gc(r.type._context),null;case 22:case 23:return th(),null;case 24:return null;default:return null}}var Pl=!1,Mt=!1,m_=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ls(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ze(t,r,u)}else o.current=null}function $c(t,r,o){try{o()}catch(u){Ze(t,r,u)}}var Cp=!1;function g_(t,r){if(tc=Nr,t=rd(),Qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,x=-1,B=0,Y=0,X=t,G=null;t:for(;;){for(var ie;X!==o||f!==0&&X.nodeType!==3||(S=_+f),X!==p||u!==0&&X.nodeType!==3||(x=_+u),X.nodeType===3&&(_+=X.nodeValue.length),(ie=X.firstChild)!==null;)G=X,X=ie;for(;;){if(X===t)break t;if(G===o&&++B===f&&(S=_),G===p&&++Y===u&&(x=_),(ie=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=ie}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(nc={focusedElem:t,selectionRange:o},Nr=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,j=r.stateNode,k=j.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Dn(r.type,ce),rt);j.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Ze(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return ue=Cp,Cp=!1,ue}function Yo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&$c(r,o,p)}f=f.next}while(f!==u)}}function xl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function qc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Ap(t){var r=t.alternate;r!==null&&(t.alternate=null,Ap(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Hn],delete r[bo],delete r[oc],delete r[Jv],delete r[Zv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rp(t){return t.tag===5||t.tag===3||t.tag===4}function Pp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ol));else if(u!==4&&(t=t.child,t!==null))for(Hc(t,r,o),t=t.sibling;t!==null;)Hc(t,r,o),t=t.sibling}function Wc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Wc(t,r,o),t=t.sibling;t!==null;)Wc(t,r,o),t=t.sibling}var Ct=null,Nn=!1;function Br(t,r,o){for(o=o.child;o!==null;)xp(t,r,o),o=o.sibling}function xp(t,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ei,o)}catch{}switch(o.tag){case 5:Mt||Ls(o,r);case 6:var u=Ct,f=Nn;Ct=null,Br(t,r,o),Ct=u,Nn=f,Ct!==null&&(Nn?(t=Ct,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Ct.removeChild(o.stateNode));break;case 18:Ct!==null&&(Nn?(t=Ct,o=o.stateNode,t.nodeType===8?sc(t.parentNode,o):t.nodeType===1&&sc(t,o),Pn(t)):sc(Ct,o.stateNode));break;case 4:u=Ct,f=Nn,Ct=o.stateNode.containerInfo,Nn=!0,Br(t,r,o),Ct=u,Nn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var p=f,_=p.destroy;p=p.tag,_!==void 0&&((p&2)!==0||(p&4)!==0)&&$c(o,r,_),f=f.next}while(f!==u)}Br(t,r,o);break;case 1:if(!Mt&&(Ls(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Ze(o,r,S)}Br(t,r,o);break;case 21:Br(t,r,o);break;case 22:o.mode&1?(Mt=(u=Mt)||o.memoizedState!==null,Br(t,r,o),Mt=u):Br(t,r,o);break;default:Br(t,r,o)}}function kp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new m_),r.forEach(function(u){var f=C_.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function On(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:Ct=S.stateNode,Nn=!1;break e;case 3:Ct=S.stateNode.containerInfo,Nn=!0;break e;case 4:Ct=S.stateNode.containerInfo,Nn=!0;break e}S=S.return}if(Ct===null)throw Error(n(160));xp(p,_,f),Ct=null,Nn=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(B){Ze(f,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Vp(r,t),r=r.sibling}function Vp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(r,t),Kn(t),u&4){try{Yo(3,t,t.return),xl(3,t)}catch(ce){Ze(t,t.return,ce)}try{Yo(5,t,t.return)}catch(ce){Ze(t,t.return,ce)}}break;case 1:On(r,t),Kn(t),u&512&&o!==null&&Ls(o,o.return);break;case 5:if(On(r,t),Kn(t),u&512&&o!==null&&Ls(o,o.return),t.flags&32){var f=t.stateNode;try{Cr(f,"")}catch(ce){Ze(t,t.return,ce)}}if(u&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&oo(f,p),go(S,_);var B=go(S,p);for(_=0;_<x.length;_+=2){var Y=x[_],X=x[_+1];Y==="style"?fo(f,X):Y==="dangerouslySetInnerHTML"?co(f,X):Y==="children"?Cr(f,X):re(f,Y,X,B)}switch(S){case"input":ao(f,p);break;case"textarea":Xi(f,p);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var ie=p.value;ie!=null?nr(f,!!p.multiple,ie,!1):G!==!!p.multiple&&(p.defaultValue!=null?nr(f,!!p.multiple,p.defaultValue,!0):nr(f,!!p.multiple,p.multiple?[]:"",!1))}f[bo]=p}catch(ce){Ze(t,t.return,ce)}}break;case 6:if(On(r,t),Kn(t),u&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(On(r,t),Kn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Pn(r.containerInfo)}catch(ce){Ze(t,t.return,ce)}break;case 4:On(r,t),Kn(t);break;case 13:On(r,t),Kn(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Gc=$e())),u&4&&kp(t);break;case 22:if(Y=o!==null&&o.memoizedState!==null,t.mode&1?(Mt=(B=Mt)||Y,On(r,t),Mt=B):On(r,t),Kn(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!Y&&(t.mode&1)!==0)for(ae=t,Y=t.child;Y!==null;){for(X=ae=Y;ae!==null;){switch(G=ae,ie=G.child,G.tag){case 0:case 11:case 14:case 15:Yo(4,G,G.return);break;case 1:Ls(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){Ze(u,o,ce)}}break;case 5:Ls(G,G.return);break;case 22:if(G.memoizedState!==null){Op(X);continue}}ie!==null?(ie.return=G,ae=ie):Op(X)}Y=Y.sibling}e:for(Y=null,X=t;;){if(X.tag===5){if(Y===null){Y=X;try{f=X.stateNode,B?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=X.stateNode,x=X.memoizedProps.style,_=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=ho("display",_))}catch(ce){Ze(t,t.return,ce)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=B?"":X.memoizedProps}catch(ce){Ze(t,t.return,ce)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:On(r,t),Kn(t),u&4&&kp(t);break;case 21:break;default:On(r,t),Kn(t)}}function Kn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Rp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Cr(f,""),u.flags&=-33);var p=Pp(t);Wc(t,p,f);break;case 3:case 4:var _=u.stateNode.containerInfo,S=Pp(t);Hc(t,S,_);break;default:throw Error(n(161))}}catch(x){Ze(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function y_(t,r,o){ae=t,Dp(t)}function Dp(t,r,o){for(var u=(t.mode&1)!==0;ae!==null;){var f=ae,p=f.child;if(f.tag===22&&u){var _=f.memoizedState!==null||Pl;if(!_){var S=f.alternate,x=S!==null&&S.memoizedState!==null||Mt;S=Pl;var B=Mt;if(Pl=_,(Mt=x)&&!B)for(ae=f;ae!==null;)_=ae,x=_.child,_.tag===22&&_.memoizedState!==null?Lp(f):x!==null?(x.return=_,ae=x):Lp(f);for(;p!==null;)ae=p,Dp(p),p=p.sibling;ae=f,Pl=S,Mt=B}Np(t)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,ae=p):Np(t)}}function Np(t){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Mt||xl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Mt)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:Dn(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Od(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Od(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var Y=B.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&Pn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mt||r.flags&512&&qc(r)}catch(G){Ze(r,r.return,G)}}if(r===t){ae=null;break}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}}function Op(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ae=o;break}ae=r.return}}function Lp(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{xl(4,r)}catch(x){Ze(r,o,x)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(x){Ze(r,f,x)}}var p=r.return;try{qc(r)}catch(x){Ze(r,p,x)}break;case 5:var _=r.return;try{qc(r)}catch(x){Ze(r,_,x)}}}catch(x){Ze(r,r.return,x)}if(r===t){ae=null;break}var S=r.sibling;if(S!==null){S.return=r.return,ae=S;break}ae=r.return}}var v_=Math.ceil,kl=ve.ReactCurrentDispatcher,Qc=ve.ReactCurrentOwner,vn=ve.ReactCurrentBatchConfig,Ne=0,Et=null,ot=null,At=0,ln=0,Ms=Fr(0),pt=0,Xo=null,Oi=0,Vl=0,Kc=0,Jo=null,Gt=null,Gc=0,Fs=1/0,yr=null,Dl=!1,Yc=null,$r=null,Nl=!1,qr=null,Ol=0,Zo=0,Xc=null,Ll=-1,Ml=0;function $t(){return(Ne&6)!==0?$e():Ll!==-1?Ll:Ll=$e()}function Hr(t){return(t.mode&1)===0?1:(Ne&2)!==0&&At!==0?At&-At:t_.transition!==null?(Ml===0&&(Ml=Ti()),Ml):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Ro(t.type)),t)}function Ln(t,r,o,u){if(50<Zo)throw Zo=0,Xc=null,Error(n(185));xr(t,o,u),((Ne&2)===0||t!==Et)&&(t===Et&&((Ne&2)===0&&(Vl|=o),pt===4&&Wr(t,At)),Yt(t,u),o===1&&Ne===0&&(r.mode&1)===0&&(Fs=$e()+500,cl&&br()))}function Yt(t,r){var o=t.callbackNode;sr(t,r);var u=wi(t,t===Et?At:0);if(u===0)o!==null&&To(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&To(o),r===1)t.tag===0?e_(Fp.bind(null,t)):Td(Fp.bind(null,t)),Yv(function(){(Ne&6)===0&&br()}),o=null;else{switch(Vr(u)){case 1:o=_i;break;case 4:o=Ar;break;case 16:o=hn;break;case 536870912:o=Ma;break;default:o=hn}o=Hp(o,Mp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Mp(t,r){if(Ll=-1,Ml=0,(Ne&6)!==0)throw Error(n(327));var o=t.callbackNode;if(js()&&t.callbackNode!==o)return null;var u=wi(t,t===Et?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Fl(t,u);else{r=u;var f=Ne;Ne|=2;var p=bp();(Et!==t||At!==r)&&(yr=null,Fs=$e()+500,Mi(t,r));do try{w_();break}catch(S){jp(t,S)}while(!0);mc(),kl.current=p,Ne=f,ot!==null?r=0:(Et=null,At=0,r=pt)}if(r!==0){if(r===2&&(f=nn(t),f!==0&&(u=f,r=Jc(t,f))),r===1)throw o=Xo,Mi(t,0),Wr(t,u),Yt(t,$e()),o;if(r===6)Wr(t,u);else{if(f=t.current.alternate,(u&30)===0&&!__(f)&&(r=Fl(t,u),r===2&&(p=nn(t),p!==0&&(u=p,r=Jc(t,p))),r===1))throw o=Xo,Mi(t,0),Wr(t,u),Yt(t,$e()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Fi(t,Gt,yr);break;case 3:if(Wr(t,u),(u&130023424)===u&&(r=Gc+500-$e(),10<r)){if(wi(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){$t(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=ic(Fi.bind(null,t,Gt,yr),r);break}Fi(t,Gt,yr);break;case 4:if(Wr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var _=31-Ut(u);p=1<<_,_=r[_],_>f&&(f=_),u&=~p}if(u=f,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*v_(u/1960))-u,10<u){t.timeoutHandle=ic(Fi.bind(null,t,Gt,yr),u);break}Fi(t,Gt,yr);break;case 5:Fi(t,Gt,yr);break;default:throw Error(n(329))}}}return Yt(t,$e()),t.callbackNode===o?Mp.bind(null,t):null}function Jc(t,r){var o=Jo;return t.current.memoizedState.isDehydrated&&(Mi(t,r).flags|=256),t=Fl(t,r),t!==2&&(r=Gt,Gt=o,r!==null&&Zc(r)),t}function Zc(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function __(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!kn(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Wr(t,r){for(r&=~Kc,r&=~Vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function Fp(t){if((Ne&6)!==0)throw Error(n(327));js();var r=wi(t,0);if((r&1)===0)return Yt(t,$e()),null;var o=Fl(t,r);if(t.tag!==0&&o===2){var u=nn(t);u!==0&&(r=u,o=Jc(t,u))}if(o===1)throw o=Xo,Mi(t,0),Wr(t,r),Yt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Fi(t,Gt,yr),Yt(t,$e()),null}function eh(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(Fs=$e()+500,cl&&br())}}function Li(t){qr!==null&&qr.tag===0&&(Ne&6)===0&&js();var r=Ne;Ne|=1;var o=vn.transition,u=Re;try{if(vn.transition=null,Re=1,t)return t()}finally{Re=u,vn.transition=o,Ne=r,(Ne&6)===0&&br()}}function th(){ln=Ms.current,We(Ms)}function Mi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Gv(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(cc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ll();break;case 3:Ns(),We(Wt),We(Nt),Ic();break;case 5:wc(u);break;case 4:Ns();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:gc(u.type._context);break;case 22:case 23:th()}o=o.return}if(Et=t,ot=t=Qr(t.current,null),At=ln=r,pt=0,Xo=null,Kc=Vl=Oi=0,Gt=Jo=null,Vi!==null){for(r=0;r<Vi.length;r++)if(o=Vi[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=f,u.next=_}o.pending=u}Vi=null}return t}function jp(t,r){do{var o=ot;try{if(mc(),El.current=Sl,wl){for(var u=Xe.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}wl=!1}if(Ni=0,_t=dt=Xe=null,Ho=!1,Wo=0,Qc.current=null,o===null||o.return===null){pt=1,Xo=r,ot=null;break}e:{var p=t,_=o.return,S=o,x=r;if(r=At,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=x,Y=S,X=Y.tag;if((Y.mode&1)===0&&(X===0||X===11||X===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ie=up(_);if(ie!==null){ie.flags&=-257,cp(ie,_,S,p,r),ie.mode&1&&lp(p,B,r),r=ie,x=B;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(x),r.updateQueue=ce}else ue.add(x);break e}else{if((r&1)===0){lp(p,B,r),nh();break e}x=Error(n(426))}}else if(Ge&&S.mode&1){var rt=up(_);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),cp(rt,_,S,p,r),dc(Os(x,S));break e}}p=x=Os(x,S),pt!==4&&(pt=2),Jo===null?Jo=[p]:Jo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var j=op(p,x,r);Nd(p,j);break e;case 1:S=x;var k=p.type,b=p.stateNode;if((p.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($r===null||!$r.has(b)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=ap(p,S,r);Nd(p,J);break e}}p=p.return}while(p!==null)}zp(o)}catch(he){r=he,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function bp(){var t=kl.current;return kl.current=Sl,t===null?Sl:t}function nh(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||(Oi&268435455)===0&&(Vl&268435455)===0||Wr(Et,At)}function Fl(t,r){var o=Ne;Ne|=2;var u=bp();(Et!==t||At!==r)&&(yr=null,Mi(t,r));do try{E_();break}catch(f){jp(t,f)}while(!0);if(mc(),Ne=o,kl.current=u,ot!==null)throw Error(n(261));return Et=null,At=0,pt}function E_(){for(;ot!==null;)Up(ot)}function w_(){for(;ot!==null&&!Oa();)Up(ot)}function Up(t){var r=qp(t.alternate,t,ln);t.memoizedProps=t.pendingProps,r===null?zp(t):ot=r,Qc.current=null}function zp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=d_(o,r,ln),o!==null){ot=o;return}}else{if(o=p_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,ot=null;return}}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);pt===0&&(pt=5)}function Fi(t,r,o){var u=Re,f=vn.transition;try{vn.transition=null,Re=1,T_(t,r,o,u)}finally{vn.transition=f,Re=u}return null}function T_(t,r,o,u){do js();while(qr!==null);if((Ne&6)!==0)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===Et&&(ot=Et=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Nl||(Nl=!0,Hp(hn,function(){return js(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=vn.transition,vn.transition=null;var _=Re;Re=1;var S=Ne;Ne|=4,Qc.current=null,g_(t,o),Vp(o,t),Bv(nc),Nr=!!tc,nc=tc=null,t.current=o,y_(o),bu(),Ne=S,Re=_,vn.transition=p}else t.current=o;if(Nl&&(Nl=!1,qr=t,Ol=f),p=t.pendingLanes,p===0&&($r=null),Fa(o.stateNode),Yt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Dl)throw Dl=!1,t=Yc,Yc=null,t;return(Ol&1)!==0&&t.tag!==0&&js(),p=t.pendingLanes,(p&1)!==0?t===Xc?Zo++:(Zo=0,Xc=t):Zo=0,br(),null}function js(){if(qr!==null){var t=Vr(Ol),r=vn.transition,o=Re;try{if(vn.transition=null,Re=16>t?16:t,qr===null)var u=!1;else{if(t=qr,qr=null,Ol=0,(Ne&6)!==0)throw Error(n(331));var f=Ne;for(Ne|=4,ae=t.current;ae!==null;){var p=ae,_=p.child;if((ae.flags&16)!==0){var S=p.deletions;if(S!==null){for(var x=0;x<S.length;x++){var B=S[x];for(ae=B;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:Yo(8,Y,p)}var X=Y.child;if(X!==null)X.return=Y,ae=X;else for(;ae!==null;){Y=ae;var G=Y.sibling,ie=Y.return;if(Ap(Y),Y===B){ae=null;break}if(G!==null){G.return=ie,ae=G;break}ae=ie}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}ae=p}}if((p.subtreeFlags&2064)!==0&&_!==null)_.return=p,ae=_;else e:for(;ae!==null;){if(p=ae,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Yo(9,p,p.return)}var j=p.sibling;if(j!==null){j.return=p.return,ae=j;break e}ae=p.return}}var k=t.current;for(ae=k;ae!==null;){_=ae;var b=_.child;if((_.subtreeFlags&2064)!==0&&b!==null)b.return=_,ae=b;else e:for(_=k;ae!==null;){if(S=ae,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:xl(9,S)}}catch(he){Ze(S,S.return,he)}if(S===_){ae=null;break e}var J=S.sibling;if(J!==null){J.return=S.return,ae=J;break e}ae=S.return}}if(Ne=f,br(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ei,t)}catch{}u=!0}return u}finally{Re=o,vn.transition=r}}return!1}function Bp(t,r,o){r=Os(o,r),r=op(t,r,1),t=zr(t,r,1),r=$t(),t!==null&&(xr(t,1,r),Yt(t,r))}function Ze(t,r,o){if(t.tag===3)Bp(t,t,o);else for(;r!==null;){if(r.tag===3){Bp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($r===null||!$r.has(u))){t=Os(o,t),t=ap(r,t,1),r=zr(r,t,1),t=$t(),r!==null&&(xr(r,1,t),Yt(r,t));break}}r=r.return}}function I_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=$t(),t.pingedLanes|=t.suspendedLanes&o,Et===t&&(At&o)===o&&(pt===4||pt===3&&(At&130023424)===At&&500>$e()-Gc?Mi(t,0):Kc|=o),Yt(t,r)}function $p(t,r){r===0&&((t.mode&1)===0?r=1:(r=as,as<<=1,(as&130023424)===0&&(as=4194304)));var o=$t();t=pr(t,r),t!==null&&(xr(t,r,o),Yt(t,o))}function S_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),$p(t,o)}function C_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),$p(t,o)}var qp;qp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Wt.current)Kt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Kt=!1,f_(t,r,o);Kt=(t.flags&131072)!==0}else Kt=!1,Ge&&(r.flags&1048576)!==0&&Id(r,fl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Rl(t,r),t=r.pendingProps;var f=As(r,Nt.current);Ds(r,o),f=Ac(null,r,u,t,f,o);var p=Rc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Qt(u)?(p=!0,ul(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,_c(r),f.updater=Cl,r.stateNode=f,f._reactInternals=r,Nc(r,u,t,o),r=Fc(null,r,u,!0,p,o)):(r.tag=0,Ge&&p&&uc(r),Bt(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Rl(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=R_(u),t=Dn(u,t),f){case 0:r=Mc(null,r,u,t,o);break e;case 1:r=gp(null,r,u,t,o);break e;case 11:r=hp(null,r,u,t,o);break e;case 14:r=fp(null,r,u,Dn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Dn(u,f),Mc(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Dn(u,f),gp(t,r,u,f,o);case 3:e:{if(yp(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,f=p.element,Dd(t,r),vl(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Os(Error(n(423)),r),r=vp(t,r,u,o,f);break e}else if(u!==f){f=Os(Error(n(424)),r),r=vp(t,r,u,o,f);break e}else for(an=Mr(r.stateNode.containerInfo.firstChild),on=r,Ge=!0,Vn=null,o=kd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(xs(),u===f){r=gr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return Ld(r),t===null&&fc(r),u=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,_=f.children,rc(u,f)?_=null:p!==null&&rc(u,p)&&(r.flags|=32),mp(t,r),Bt(t,r,_,o),r.child;case 6:return t===null&&fc(r),null;case 13:return _p(t,r,o);case 4:return Ec(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ks(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Dn(u,f),hp(t,r,u,f,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,p=r.memoizedProps,_=f.value,qe(ml,u._currentValue),u._currentValue=_,p!==null)if(kn(p.value,_)){if(p.children===f.children&&!Wt.current){r=gr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var x=S.firstContext;x!==null;){if(x.context===u){if(p.tag===1){x=mr(-1,o&-o),x.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var Y=B.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),B.pending=x}}p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),yc(p.return,o,r),S.lanes|=o;break}x=x.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),yc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Bt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Ds(r,o),f=gn(f),u=u(f),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,f=Dn(u,r.pendingProps),f=Dn(u.type,f),fp(t,r,u,f,o);case 15:return dp(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:Dn(u,f),Rl(t,r),r.tag=1,Qt(u)?(t=!0,ul(r)):t=!1,Ds(r,o),ip(r,u,f),Nc(r,u,f,o),Fc(null,r,u,!0,t,o);case 19:return wp(t,r,o);case 22:return pp(t,r,o)}throw Error(n(156,r.tag))};function Hp(t,r){return ss(t,r)}function A_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,o,u){return new A_(t,r,o,u)}function rh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R_(t){if(typeof t=="function")return rh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===Vt)return 14}return 2}function Qr(t,r){var o=t.alternate;return o===null?(o=_n(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jl(t,r,o,u,f,p){var _=2;if(u=t,typeof t=="function")rh(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case D:return ji(o.children,f,p,r);case C:_=8,f|=8;break;case P:return t=_n(12,o,r,f|2),t.elementType=P,t.lanes=p,t;case A:return t=_n(13,o,r,f),t.elementType=A,t.lanes=p,t;case tt:return t=_n(19,o,r,f),t.elementType=tt,t.lanes=p,t;case Ue:return bl(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:_=10;break e;case N:_=9;break e;case M:_=11;break e;case Vt:_=14;break e;case Dt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=_n(_,o,r,f),r.elementType=t,r.type=u,r.lanes=p,r}function ji(t,r,o,u){return t=_n(7,t,u,r),t.lanes=o,t}function bl(t,r,o,u){return t=_n(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function ih(t,r,o){return t=_n(6,t,null,r),t.lanes=o,t}function sh(t,r,o){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function P_(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pr(0),this.expirationTimes=Pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function oh(t,r,o,u,f,p,_,S,x){return t=new P_(t,r,o,S,x),r===1?(r=1,p===!0&&(r|=8)):r=0,p=_n(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(p),t}function x_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Wp(t){if(!t)return jr;t=t._reactInternals;e:{if(In(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Qt(o))return Ed(t,o,r)}return r}function Qp(t,r,o,u,f,p,_,S,x){return t=oh(o,u,!0,t,f,p,_,S,x),t.context=Wp(null),o=t.current,u=$t(),f=Hr(o),p=mr(u,f),p.callback=r??null,zr(o,p,f),t.current.lanes=f,xr(t,f,u),Yt(t,u),t}function Ul(t,r,o,u){var f=r.current,p=$t(),_=Hr(f);return o=Wp(o),r.context===null?r.context=o:r.pendingContext=o,r=mr(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=zr(f,r,_),t!==null&&(Ln(t,f,_,p),yl(t,f,_)),_}function zl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function ah(t,r){Kp(t,r),(t=t.alternate)&&Kp(t,r)}function k_(){return null}var Gp=typeof reportError=="function"?reportError:function(t){console.error(t)};function lh(t){this._internalRoot=t}Bl.prototype.render=lh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Ul(t,r,null,null)},Bl.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Li(function(){Ul(null,t,null,null)}),r[cr]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ba();t={blockedOn:null,target:t,priority:r};for(var o=0;o<zn.length&&r!==0&&r<zn[o].priority;o++);zn.splice(o,0,t),o===0&&Ha(t)}};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function V_(t,r,o,u,f){if(f){if(typeof u=="function"){var p=u;u=function(){var B=zl(_);p.call(B)}}var _=Qp(r,u,t,0,null,!1,!1,"",Yp);return t._reactRootContainer=_,t[cr]=_.current,Fo(t.nodeType===8?t.parentNode:t),Li(),_}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var S=u;u=function(){var B=zl(x);S.call(B)}}var x=oh(t,0,!1,null,null,!1,!1,"",Yp);return t._reactRootContainer=x,t[cr]=x.current,Fo(t.nodeType===8?t.parentNode:t),Li(function(){Ul(r,x,o,u)}),x}function ql(t,r,o,u,f){var p=o._reactRootContainer;if(p){var _=p;if(typeof f=="function"){var S=f;f=function(){var x=zl(_);S.call(x)}}Ul(r,_,t,f)}else _=V_(o,r,t,f,u);return zl(_)}Ua=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Rr(r.pendingLanes);o!==0&&(kr(r,o|1),Yt(r,$e()),(Ne&6)===0&&(Fs=$e()+500,br()))}break;case 13:Li(function(){var u=pr(t,1);if(u!==null){var f=$t();Ln(u,t,1,f)}}),ah(t,1)}},ls=function(t){if(t.tag===13){var r=pr(t,134217728);if(r!==null){var o=$t();Ln(r,t,134217728,o)}ah(t,134217728)}},za=function(t){if(t.tag===13){var r=Hr(t),o=pr(t,r);if(o!==null){var u=$t();Ln(o,t,r,u)}ah(t,r)}},Ba=function(){return Re},$a=function(t,r){var o=Re;try{return Re=t,r()}finally{Re=o}},Zi=function(t,r,o){switch(r){case"input":if(ao(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=al(u);if(!f)throw Error(n(90));Qi(u),ao(u,f)}}}break;case"textarea":Xi(t,o);break;case"select":r=o.value,r!=null&&nr(t,!!o.multiple,r,!1)}},mi=eh,vo=Li;var D_={usingClientEntryPoint:!1,Events:[Uo,Ss,al,bn,yo,eh]},ea={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N_={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wo(t),t===null?null:t.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||k_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Ei=Hl.inject(N_),tn=Hl}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D_,Xt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(r))throw Error(n(200));return x_(t,r,null,o)},Xt.createRoot=function(t,r){if(!uh(t))throw Error(n(299));var o=!1,u="",f=Gp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=oh(t,1,!1,null,null,o,!1,u,f),t[cr]=r.current,Fo(t.nodeType===8?t.parentNode:t),new lh(r)},Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=wo(r),t=t===null?null:t.stateNode,t},Xt.flushSync=function(t){return Li(t)},Xt.hydrate=function(t,r,o){if(!$l(r))throw Error(n(200));return ql(null,t,r,!0,o)},Xt.hydrateRoot=function(t,r,o){if(!uh(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,f=!1,p="",_=Gp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=Qp(r,null,t,1,o??null,f,!1,p,_),t[cr]=r.current,Fo(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Bl(r)},Xt.render=function(t,r,o){if(!$l(r))throw Error(n(200));return ql(null,t,r,!1,o)},Xt.unmountComponentAtNode=function(t){if(!$l(t))throw Error(n(40));return t._reactRootContainer?(Li(function(){ql(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1},Xt.unstable_batchedUpdates=eh,Xt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!$l(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ql(t,r,o,!1,u)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var im;function Rg(){if(im)return fh.exports;im=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fh.exports=B_(),fh.exports}var sm;function $_(){if(sm)return Wl;sm=1;var i=Rg();return Wl.createRoot=i.createRoot,Wl.hydrateRoot=i.hydrateRoot,Wl}var q_=$_();const H_=Cg(q_);Rg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},ha.apply(this,arguments)}var Gr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Gr||(Gr={}));const om="popstate";function W_(i){i===void 0&&(i={});function e(a,c){let{pathname:h="/",search:m="",hash:g=""}=$i(a.location.hash.substr(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Sh("",{pathname:h,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(a,c){let h=a.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=a.location.href,v=g.indexOf("#");m=v===-1?g:g.slice(0,v)}return m+"#"+(typeof c=="string"?c:iu(c))}function s(a,c){Zh(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return K_(e,n,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Zh(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q_(){return Math.random().toString(36).substr(2,8)}function am(i,e){return{usr:i.state,key:i.key,idx:e}}function Sh(i,e,n,s){return n===void 0&&(n=null),ha({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?$i(e):e,{state:n,key:e&&e.key||s||Q_()})}function iu(i){let{pathname:e="/",search:n="",hash:s=""}=i;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function $i(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substr(n),i=i.substr(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function K_(i,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m=Gr.Pop,g=null,v=E();v==null&&(v=0,h.replaceState(ha({},h.state,{idx:v}),""));function E(){return(h.state||{idx:null}).idx}function T(){m=Gr.Pop;let z=E(),Z=z==null?null:z-v;v=z,g&&g({action:m,location:q.location,delta:Z})}function I(z,Z){m=Gr.Push;let ne=Sh(q.location,z,Z);n&&n(ne,z),v=E()+1;let re=am(ne,v),ve=q.createHref(ne);try{h.pushState(re,"",ve)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;a.location.assign(ve)}c&&g&&g({action:m,location:q.location,delta:1})}function O(z,Z){m=Gr.Replace;let ne=Sh(q.location,z,Z);n&&n(ne,z),v=E();let re=am(ne,v),ve=q.createHref(ne);h.replaceState(re,"",ve),c&&g&&g({action:m,location:q.location,delta:0})}function U(z){let Z=a.location.origin!=="null"?a.location.origin:a.location.href,ne=typeof z=="string"?z:iu(z);return ne=ne.replace(/ $/,"%20"),ut(Z,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,Z)}let q={get action(){return m},get location(){return i(a,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(om,T),g=z,()=>{a.removeEventListener(om,T),g=null}},createHref(z){return e(a,z)},createURL:U,encodeLocation(z){let Z=U(z);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:I,replace:O,go(z){return h.go(z)}};return q}var lm;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(lm||(lm={}));function G_(i,e,n){return n===void 0&&(n="/"),Y_(i,e,n)}function Y_(i,e,n,s){let a=typeof e=="string"?$i(e):e,c=ef(a.pathname||"/",n);if(c==null)return null;let h=Pg(i);X_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=u0(c);m=o0(h[g],v)}return m}function Pg(i,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(ut(g.relativePath.startsWith(s),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(s.length));let v=Xr([s,g.relativePath]),E=n.concat(g);c.children&&c.children.length>0&&(ut(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Pg(c.children,e,E,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:i0(v,c.index),routesMeta:E})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let g of xg(c.path))a(c,h,g)}),e}function xg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=xg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function X_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:s0(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const J_=/^:[\w-]+$/,Z_=3,e0=2,t0=1,n0=10,r0=-2,um=i=>i==="*";function i0(i,e){let n=i.split("/"),s=n.length;return n.some(um)&&(s+=r0),e&&(s+=e0),n.filter(a=>!um(a)).reduce((a,c)=>a+(J_.test(c)?Z_:c===""?t0:n0),s)}function s0(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function o0(i,e,n){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",T=a0({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},E),I=g.route;if(!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:Xr([c,T.pathname]),pathnameBase:d0(Xr([c,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(c=Xr([c,T.pathnameBase]))}return h}function a0(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=l0(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,E,T)=>{let{paramName:I,isOptional:O}=E;if(I==="*"){let q=m[T]||"";h=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const U=m[T];return O&&!U?v[I]=void 0:v[I]=(U||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:i}}function l0(i,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zh(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function u0(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zh(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function ef(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function c0(i,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?$i(i):i;return{pathname:n?n.startsWith("/")?n:h0(n,e):e,search:p0(s),hash:m0(a)}}function h0(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mh(i,e,n,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f0(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kg(i,e){let n=f0(i);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Vg(i,e,n,s){s===void 0&&(s=!1);let a;typeof i=="string"?a=$i(i):(a=ha({},i),ut(!a.pathname||!a.pathname.includes("?"),mh("?","pathname","search",a)),ut(!a.pathname||!a.pathname.includes("#"),mh("#","pathname","hash",a)),ut(!a.search||!a.search.includes("#"),mh("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),T-=1;a.pathname=I.join("/")}m=T>=0?e[T]:"/"}let g=c0(a,m),v=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||E)&&(g.pathname+="/"),g}const Xr=i=>i.join("/").replace(/\/\/+/g,"/"),d0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),p0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,m0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function g0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const Dg=["post","put","patch","delete"];new Set(Dg);const y0=["get",...Dg];new Set(y0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},fa.apply(this,arguments)}const tf=H.createContext(null),v0=H.createContext(null),qi=H.createContext(null),wu=H.createContext(null),li=H.createContext({outlet:null,matches:[],isDataRoute:!1}),Ng=H.createContext(null);function _0(i,e){let{relative:n}=e===void 0?{}:e;Ta()||ut(!1);let{basename:s,navigator:a}=H.useContext(qi),{hash:c,pathname:h,search:m}=Lg(i,{relative:n}),g=h;return s!=="/"&&(g=h==="/"?s:Xr([s,h])),a.createHref({pathname:g,search:m,hash:c})}function Ta(){return H.useContext(wu)!=null}function Ia(){return Ta()||ut(!1),H.useContext(wu).location}function Og(i){H.useContext(qi).static||H.useLayoutEffect(i)}function nf(){let{isDataRoute:i}=H.useContext(li);return i?N0():E0()}function E0(){Ta()||ut(!1);let i=H.useContext(tf),{basename:e,future:n,navigator:s}=H.useContext(qi),{matches:a}=H.useContext(li),{pathname:c}=Ia(),h=JSON.stringify(kg(a,n.v7_relativeSplatPath)),m=H.useRef(!1);return Og(()=>{m.current=!0}),H.useCallback(function(v,E){if(E===void 0&&(E={}),!m.current)return;if(typeof v=="number"){s.go(v);return}let T=Vg(v,JSON.parse(h),c,E.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Xr([e,T.pathname])),(E.replace?s.replace:s.push)(T,E.state,E)},[e,s,h,c,i])}function w0(){let{matches:i}=H.useContext(li),e=i[i.length-1];return e?e.params:{}}function Lg(i,e){let{relative:n}=e===void 0?{}:e,{future:s}=H.useContext(qi),{matches:a}=H.useContext(li),{pathname:c}=Ia(),h=JSON.stringify(kg(a,s.v7_relativeSplatPath));return H.useMemo(()=>Vg(i,JSON.parse(h),c,n==="path"),[i,h,c,n])}function T0(i,e){return I0(i,e)}function I0(i,e,n,s){Ta()||ut(!1);let{navigator:a,static:c}=H.useContext(qi),{matches:h}=H.useContext(li),m=h[h.length-1],g=m?m.params:{};m&&m.pathname;let v=m?m.pathnameBase:"/";m&&m.route;let E=Ia(),T;if(e){var I;let Z=typeof e=="string"?$i(e):e;v==="/"||(I=Z.pathname)!=null&&I.startsWith(v)||ut(!1),T=Z}else T=E;let O=T.pathname||"/",U=O;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");U="/"+O.replace(/^\//,"").split("/").slice(Z.length).join("/")}let q=G_(i,{pathname:U}),z=P0(q&&q.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:Xr([v,a.encodeLocation?a.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Xr([v,a.encodeLocation?a.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),h,n,s);return e&&z?H.createElement(wu.Provider,{value:{location:fa({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Gr.Pop}},z):z}function S0(){let i=D0(),e=g0(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,null)}const C0=H.createElement(S0,null);class A0 extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(li.Provider,{value:this.props.routeContext},H.createElement(Ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R0(i){let{routeContext:e,match:n,children:s}=i,a=H.useContext(tf);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(li.Provider,{value:e},s)}function P0(i,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),i==null){var c;if(!n)return null;if(n.errors)i=n.matches;else if((c=s)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let h=i,m=(a=n)==null?void 0:a.errors;if(m!=null){let E=h.findIndex(T=>T.route.id&&(m==null?void 0:m[T.route.id])!==void 0);E>=0||ut(!1),h=h.slice(0,Math.min(h.length,E+1))}let g=!1,v=-1;if(n&&s&&s.v7_partialHydration)for(let E=0;E<h.length;E++){let T=h[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=E),T.route.id){let{loaderData:I,errors:O}=n,U=T.route.loader&&I[T.route.id]===void 0&&(!O||O[T.route.id]===void 0);if(T.route.lazy||U){g=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((E,T,I)=>{let O,U=!1,q=null,z=null;n&&(O=m&&T.route.id?m[T.route.id]:void 0,q=T.route.errorElement||C0,g&&(v<0&&I===0?(O0("route-fallback"),U=!0,z=null):v===I&&(U=!0,z=T.route.hydrateFallbackElement||null)));let Z=e.concat(h.slice(0,I+1)),ne=()=>{let re;return O?re=q:U?re=z:T.route.Component?re=H.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,H.createElement(R0,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||I===0)?H.createElement(A0,{location:n.location,revalidation:n.revalidation,component:q,error:O,children:ne(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):ne()},null)}var Mg=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(Mg||{}),Fg=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Fg||{});function x0(i){let e=H.useContext(tf);return e||ut(!1),e}function k0(i){let e=H.useContext(v0);return e||ut(!1),e}function V0(i){let e=H.useContext(li);return e||ut(!1),e}function jg(i){let e=V0(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function D0(){var i;let e=H.useContext(Ng),n=k0(),s=jg();return e!==void 0?e:(i=n.errors)==null?void 0:i[s]}function N0(){let{router:i}=x0(Mg.UseNavigateStable),e=jg(Fg.UseNavigateStable),n=H.useRef(!1);return Og(()=>{n.current=!0}),H.useCallback(function(a,c){c===void 0&&(c={}),n.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,fa({fromRouteId:e},c)))},[i,e])}const cm={};function O0(i,e,n){cm[i]||(cm[i]=!0)}function L0(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function bs(i){ut(!1)}function M0(i){let{basename:e="/",children:n=null,location:s,navigationType:a=Gr.Pop,navigator:c,static:h=!1,future:m}=i;Ta()&&ut(!1);let g=e.replace(/^\/*/,"/"),v=H.useMemo(()=>({basename:g,navigator:c,static:h,future:fa({v7_relativeSplatPath:!1},m)}),[g,m,c,h]);typeof s=="string"&&(s=$i(s));let{pathname:E="/",search:T="",hash:I="",state:O=null,key:U="default"}=s,q=H.useMemo(()=>{let z=ef(E,g);return z==null?null:{location:{pathname:z,search:T,hash:I,state:O,key:U},navigationType:a}},[g,E,T,I,O,U,a]);return q==null?null:H.createElement(qi.Provider,{value:v},H.createElement(wu.Provider,{children:n,value:q}))}function F0(i){let{children:e,location:n}=i;return T0(Ch(e),n)}new Promise(()=>{});function Ch(i,e){e===void 0&&(e=[]);let n=[];return H.Children.forEach(i,(s,a)=>{if(!H.isValidElement(s))return;let c=[...e,a];if(s.type===H.Fragment){n.push.apply(n,Ch(s.props.children,c));return}s.type!==bs&&ut(!1),!s.props.index||!s.props.children||ut(!1);let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ch(s.props.children,c)),n.push(h)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Ah.apply(this,arguments)}function j0(i,e){if(i==null)return{};var n={},s=Object.keys(i),a,c;for(c=0;c<s.length;c++)a=s[c],!(e.indexOf(a)>=0)&&(n[a]=i[a]);return n}function b0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function U0(i,e){return i.button===0&&(!e||e==="_self")&&!b0(i)}const z0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B0="6";try{window.__reactRouterVersion=B0}catch{}const $0="startTransition",hm=b_[$0];function q0(i){let{basename:e,children:n,future:s,window:a}=i,c=H.useRef();c.current==null&&(c.current=W_({window:a,v5Compat:!0}));let h=c.current,[m,g]=H.useState({action:h.action,location:h.location}),{v7_startTransition:v}=s||{},E=H.useCallback(T=>{v&&hm?hm(()=>g(T)):g(T)},[g,v]);return H.useLayoutEffect(()=>h.listen(E),[h,E]),H.useEffect(()=>L0(s),[s]),H.createElement(M0,{basename:e,children:n,location:m.location,navigationType:m.action,navigator:h,future:s})}const H0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=H.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:c,replace:h,state:m,target:g,to:v,preventScrollReset:E,viewTransition:T}=e,I=j0(e,z0),{basename:O}=H.useContext(qi),U,q=!1;if(typeof v=="string"&&W0.test(v)&&(U=v,H0))try{let re=new URL(window.location.href),ve=v.startsWith("//")?new URL(re.protocol+v):new URL(v),be=ef(ve.pathname,O);ve.origin===re.origin&&be!=null?v=be+ve.search+ve.hash:q=!0}catch{}let z=_0(v,{relative:a}),Z=Q0(v,{replace:h,state:m,target:g,preventScrollReset:E,relative:a,viewTransition:T});function ne(re){s&&s(re),re.defaultPrevented||Z(re)}return H.createElement("a",Ah({},I,{href:U||z,onClick:q||c?s:ne,ref:n,target:g}))});var fm;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(fm||(fm={}));var dm;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(dm||(dm={}));function Q0(i,e){let{target:n,replace:s,state:a,preventScrollReset:c,relative:h,viewTransition:m}=e===void 0?{}:e,g=nf(),v=Ia(),E=Lg(i,{relative:h});return H.useCallback(T=>{if(U0(T,n)){T.preventDefault();let I=s!==void 0?s:iu(v)===iu(E);g(i,{replace:I,state:a,preventScrollReset:c,relative:h,viewTransition:m})}},[v,g,E,s,a,n,i,c,h,m])}function bg({usuario:i,onLogout:e}){const[n,s]=H.useState(!1),a=Ia();return H.useEffect(()=>{s(!1)},[a]),R.jsxs("nav",{style:{backgroundColor:"#1e1e1e",padding:"1rem 2rem",color:"white",position:"sticky",top:0,zIndex:1e3,borderBottom:"1px solid #444",display:"flex",justifyContent:"space-between",alignItems:"center",fontFamily:"Segoe UI, Tahoma, Geneva, Verdana, sans-serif"},children:[R.jsx("div",{style:{fontWeight:"bold",fontSize:"1.4rem"},children:R.jsx(Gn,{to:"/",style:{color:"white",textDecoration:"none"},children:"Mi App Reservas"})}),R.jsx("button",{onClick:()=>s(!n),style:{background:"none",border:"none",color:"white",fontSize:"1.8rem",cursor:"pointer",display:"none"},className:"hamburger-btn",children:"☰"}),R.jsxs("ul",{className:"nav-links",style:{listStyle:"none",display:"flex",gap:"1.5rem",margin:0,padding:0},children:[R.jsx("li",{children:R.jsx(Gn,{to:"/",style:{color:"white"},children:"Inicio"})}),R.jsx("li",{children:R.jsx(Gn,{to:"/productos",style:{color:"white"},children:"Productos"})}),R.jsx("li",{children:R.jsx(Gn,{to:"/contacto",style:{color:"white"},children:"Contacto"})}),i&&R.jsxs(R.Fragment,{children:[R.jsx("li",{children:R.jsx(Gn,{to:"/mis-reservas",style:{color:"white"},children:"Mis Reservas"})}),R.jsx("li",{children:R.jsx("button",{onClick:e,style:{backgroundColor:"#e63946",border:"none",padding:"0.4rem 0.8rem",borderRadius:"5px",color:"white",cursor:"pointer"},children:"Cerrar sesión"})})]})]}),R.jsxs("div",{className:`mobile-menu ${n?"open":""}`,style:{display:"none",position:"absolute",top:"60px",right:0,backgroundColor:"#1e1e1e",width:"200px",boxShadow:"-2px 2px 5px rgba(0,0,0,0.5)",flexDirection:"column",padding:"1rem",borderRadius:"0 0 0 8px"},children:[R.jsx(Gn,{to:"/",style:{color:"white",marginBottom:"0.5rem"},children:"Inicio"}),R.jsx(Gn,{to:"/productos",style:{color:"white",marginBottom:"0.5rem"},children:"Productos"}),R.jsx(Gn,{to:"/contacto",style:{color:"white",marginBottom:"0.5rem"},children:"Contacto"}),i&&R.jsxs(R.Fragment,{children:[R.jsx(Gn,{to:"/mis-reservas",style:{color:"white",marginBottom:"0.5rem"},children:"Mis Reservas"}),R.jsx("button",{onClick:e,style:{backgroundColor:"#e63946",border:"none",padding:"0.4rem 0.8rem",borderRadius:"5px",color:"white",cursor:"pointer",marginTop:"1rem",width:"100%"},children:"Cerrar sesión"})]})]}),R.jsx("style",{children:`
        @media (max-width: 768px) {
          .hamburger-btn {
            display: block;
          }
          .nav-links {
            display: none;
          }
          .mobile-menu {
            display: ${n?"flex":"none"};
          }
        }
      `})]})}const K0=()=>{};var pm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},G0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},zg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let I=(m&15)<<2|v>>6,O=v&63;g||(O=64,h||(I=64)),s.push(n[E],n[T],n[I],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Ug(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):G0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const T=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||T==null)throw new Y0;const I=c<<2|m>>4;if(s.push(I),v!==64){const O=m<<4&240|v>>2;if(s.push(O),T!==64){const U=v<<6&192|T;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X0=function(i){const e=Ug(i);return zg.encodeByteArray(e,!0)},su=function(i){return X0(i).replace(/\./g,"")},J0=function(i){try{return zg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=()=>Z0().__FIREBASE_DEFAULTS__,tE=()=>{if(typeof process>"u"||typeof pm>"u")return;const i=pm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&J0(i[1]);return e&&JSON.parse(e)},rf=()=>{try{return K0()||eE()||tE()||nE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rE=i=>{var e,n;return(n=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},iE=i=>{const e=rE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Bg=()=>{var i;return(i=rf())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return i.endsWith(".cloudworkstations.dev")}async function oE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[su(JSON.stringify(n)),su(JSON.stringify(h)),""].join(".")}const oa={};function lE(){const i={prod:[],emulator:[]};for(const e of Object.keys(oa))oa[e]?i.emulator.push(e):i.prod.push(e);return i}function uE(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let mm=!1;function $g(i,e){if(typeof window>"u"||typeof document>"u"||!sf(window.location.host)||oa[i]===e||oa[i]||mm)return;oa[i]=e;function n(I){return`__firebase__banner__${I}`}const s="__firebase__banner",c=lE().prod.length>0;function h(){const I=document.getElementById(s);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,O){I.setAttribute("width","24"),I.setAttribute("id",O),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{mm=!0,h()},I}function E(I,O){I.setAttribute("id",O),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=uE(s),O=n("text"),U=document.getElementById(O)||document.createElement("span"),q=n("learnmore"),z=document.getElementById(q)||document.createElement("a"),Z=n("preprendIcon"),ne=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const re=I.element;m(re),E(z,q);const ve=v();g(ne,Z),re.append(ne,U,z,ve),document.body.appendChild(re)}c?(U.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hE(){var i;const e=(i=rf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fE(){return!hE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dE(){try{return typeof indexedDB=="object"}catch{return!1}}function pE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="FirebaseError";class Zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=mE,Object.setPrototypeOf(this,Zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qg.prototype.create)}}class qg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?gE(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Zs(a,m,s)}}function gE(i,e){return i.replace(yE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const yE=/\{\$([^}]+)}/g;function ou(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if(gm(c)&&gm(h)){if(!ou(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function gm(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EE(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_E(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _E(i){return i===bi?void 0:i}function EE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const TE={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},IE=Ve.INFO,SE={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},CE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=SE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hg{constructor(e){this.name=e,this._logLevel=IE,this._logHandler=CE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const AE=(i,e)=>e.some(n=>i instanceof n);let ym,vm;function RE(){return ym||(ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PE(){return vm||(vm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Wg=new WeakMap,Rh=new WeakMap,Qg=new WeakMap,gh=new WeakMap,of=new WeakMap;function xE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(Jr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Wg.set(n,i)}).catch(()=>{}),of.set(e,i),e}function kE(i){if(Rh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Rh.set(i,e)}let Ph={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Qg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function VE(i){Ph=i(Ph)}function DE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(yh(this),e,...n);return Qg.set(s,e.sort?e.sort():[e]),Jr(s)}:PE().includes(i)?function(...e){return i.apply(yh(this),e),Jr(Wg.get(this))}:function(...e){return Jr(i.apply(yh(this),e))}}function NE(i){return typeof i=="function"?DE(i):(i instanceof IDBTransaction&&kE(i),AE(i,RE())?new Proxy(i,Ph):i)}function Jr(i){if(i instanceof IDBRequest)return xE(i);if(gh.has(i))return gh.get(i);const e=NE(i);return e!==i&&(gh.set(i,e),of.set(e,i)),e}const yh=i=>of.get(i);function OE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=Jr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Jr(h.result),g.oldVersion,g.newVersion,Jr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const LE=["get","getKey","getAll","getAllKeys","count"],ME=["put","add","delete","clear"],vh=new Map;function _m(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vh.get(e))return vh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ME.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||LE.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return vh.set(e,c),c}VE(i=>({...i,get:(e,n,s)=>_m(e,n)||i.get(e,n,s),has:(e,n)=>!!_m(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function jE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xh="@firebase/app",Em="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Hg("@firebase/app"),bE="@firebase/app-compat",UE="@firebase/analytics-compat",zE="@firebase/analytics",BE="@firebase/app-check-compat",$E="@firebase/app-check",qE="@firebase/auth",HE="@firebase/auth-compat",WE="@firebase/database",QE="@firebase/data-connect",KE="@firebase/database-compat",GE="@firebase/functions",YE="@firebase/functions-compat",XE="@firebase/installations",JE="@firebase/installations-compat",ZE="@firebase/messaging",ew="@firebase/messaging-compat",tw="@firebase/performance",nw="@firebase/performance-compat",rw="@firebase/remote-config",iw="@firebase/remote-config-compat",sw="@firebase/storage",ow="@firebase/storage-compat",aw="@firebase/firestore",lw="@firebase/vertexai",uw="@firebase/firestore-compat",cw="firebase",hw="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",fw={[xh]:"fire-core",[bE]:"fire-core-compat",[zE]:"fire-analytics",[UE]:"fire-analytics-compat",[$E]:"fire-app-check",[BE]:"fire-app-check-compat",[qE]:"fire-auth",[HE]:"fire-auth-compat",[WE]:"fire-rtdb",[QE]:"fire-data-connect",[KE]:"fire-rtdb-compat",[GE]:"fire-fn",[YE]:"fire-fn-compat",[XE]:"fire-iid",[JE]:"fire-iid-compat",[ZE]:"fire-fcm",[ew]:"fire-fcm-compat",[tw]:"fire-perf",[nw]:"fire-perf-compat",[rw]:"fire-rc",[iw]:"fire-rc-compat",[sw]:"fire-gcs",[ow]:"fire-gcs-compat",[aw]:"fire-fst",[uw]:"fire-fst-compat",[lw]:"fire-vertex","fire-js":"fire-js",[cw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Map,dw=new Map,Vh=new Map;function wm(i,e){try{i.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function lu(i){const e=i.name;if(Vh.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Vh.set(e,i);for(const n of au.values())wm(n,i);for(const n of dw.values())wm(n,i);return!0}function pw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function mw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new qg("app","Firebase",gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=hw;function Kg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Zr.create("bad-app-name",{appName:String(a)});if(n||(n=Bg()),!n)throw Zr.create("no-options");const c=au.get(a);if(c){if(ou(n,c.options)&&ou(s,c.config))return c;throw Zr.create("duplicate-app",{appName:a})}const h=new wE(a);for(const g of Vh.values())h.addComponent(g);const m=new yw(n,s,h);return au.set(a,m),m}function _w(i=kh){const e=au.get(i);if(!e&&i===kh&&Bg())return Kg();if(!e)throw Zr.create("no-app",{appName:i});return e}function qs(i,e,n){var s;let a=(s=fw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(m.join(" "));return}lu(new da(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebase-heartbeat-database",ww=1,pa="firebase-heartbeat-store";let _h=null;function Gg(){return _h||(_h=OE(Ew,ww,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Zr.create("idb-open",{originalErrorMessage:i.message})})),_h}async function Tw(i){try{const n=(await Gg()).transaction(pa),s=await n.objectStore(pa).get(Yg(i));return await n.done,s}catch(e){if(e instanceof Zs)Er.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function Tm(i,e){try{const s=(await Gg()).transaction(pa,"readwrite");await s.objectStore(pa).put(e,Yg(i)),await s.done}catch(n){if(n instanceof Zs)Er.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(s.message)}}}function Yg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1024,Sw=30;class Cw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Im();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>Sw){const h=Pw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Im(),{heartbeatsToSend:s,unsentEntries:a}=Aw(this._heartbeatsCache.heartbeats),c=su(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Er.warn(n),""}}}function Im(){return new Date().toISOString().substring(0,10)}function Aw(i,e=Iw){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Sm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Sm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Rw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dE()?pE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sm(i){return su(JSON.stringify({version:2,heartbeats:i})).length}function Pw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){lu(new da("platform-logger",e=>new FE(e),"PRIVATE")),lu(new da("heartbeat",e=>new Cw(e),"PRIVATE")),qs(xh,Em,i),qs(xh,Em,"esm2017"),qs("fire-js","")}xw("");var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ei,Xg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function P(){}P.prototype=C.prototype,D.D=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(V,N,M){for(var A=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)A[tt-2]=arguments[tt];return C.prototype[N].apply(V,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,P){P||(P=0);var V=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)V[N]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(N=0;16>N;++N)V[N]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],N=D.g[2];var M=D.g[3],A=C+(M^P&(N^M))+V[0]+3614090360&4294967295;C=P+(A<<7&4294967295|A>>>25),A=M+(N^C&(P^N))+V[1]+3905402710&4294967295,M=C+(A<<12&4294967295|A>>>20),A=N+(P^M&(C^P))+V[2]+606105819&4294967295,N=M+(A<<17&4294967295|A>>>15),A=P+(C^N&(M^C))+V[3]+3250441966&4294967295,P=N+(A<<22&4294967295|A>>>10),A=C+(M^P&(N^M))+V[4]+4118548399&4294967295,C=P+(A<<7&4294967295|A>>>25),A=M+(N^C&(P^N))+V[5]+1200080426&4294967295,M=C+(A<<12&4294967295|A>>>20),A=N+(P^M&(C^P))+V[6]+2821735955&4294967295,N=M+(A<<17&4294967295|A>>>15),A=P+(C^N&(M^C))+V[7]+4249261313&4294967295,P=N+(A<<22&4294967295|A>>>10),A=C+(M^P&(N^M))+V[8]+1770035416&4294967295,C=P+(A<<7&4294967295|A>>>25),A=M+(N^C&(P^N))+V[9]+2336552879&4294967295,M=C+(A<<12&4294967295|A>>>20),A=N+(P^M&(C^P))+V[10]+4294925233&4294967295,N=M+(A<<17&4294967295|A>>>15),A=P+(C^N&(M^C))+V[11]+2304563134&4294967295,P=N+(A<<22&4294967295|A>>>10),A=C+(M^P&(N^M))+V[12]+1804603682&4294967295,C=P+(A<<7&4294967295|A>>>25),A=M+(N^C&(P^N))+V[13]+4254626195&4294967295,M=C+(A<<12&4294967295|A>>>20),A=N+(P^M&(C^P))+V[14]+2792965006&4294967295,N=M+(A<<17&4294967295|A>>>15),A=P+(C^N&(M^C))+V[15]+1236535329&4294967295,P=N+(A<<22&4294967295|A>>>10),A=C+(N^M&(P^N))+V[1]+4129170786&4294967295,C=P+(A<<5&4294967295|A>>>27),A=M+(P^N&(C^P))+V[6]+3225465664&4294967295,M=C+(A<<9&4294967295|A>>>23),A=N+(C^P&(M^C))+V[11]+643717713&4294967295,N=M+(A<<14&4294967295|A>>>18),A=P+(M^C&(N^M))+V[0]+3921069994&4294967295,P=N+(A<<20&4294967295|A>>>12),A=C+(N^M&(P^N))+V[5]+3593408605&4294967295,C=P+(A<<5&4294967295|A>>>27),A=M+(P^N&(C^P))+V[10]+38016083&4294967295,M=C+(A<<9&4294967295|A>>>23),A=N+(C^P&(M^C))+V[15]+3634488961&4294967295,N=M+(A<<14&4294967295|A>>>18),A=P+(M^C&(N^M))+V[4]+3889429448&4294967295,P=N+(A<<20&4294967295|A>>>12),A=C+(N^M&(P^N))+V[9]+568446438&4294967295,C=P+(A<<5&4294967295|A>>>27),A=M+(P^N&(C^P))+V[14]+3275163606&4294967295,M=C+(A<<9&4294967295|A>>>23),A=N+(C^P&(M^C))+V[3]+4107603335&4294967295,N=M+(A<<14&4294967295|A>>>18),A=P+(M^C&(N^M))+V[8]+1163531501&4294967295,P=N+(A<<20&4294967295|A>>>12),A=C+(N^M&(P^N))+V[13]+2850285829&4294967295,C=P+(A<<5&4294967295|A>>>27),A=M+(P^N&(C^P))+V[2]+4243563512&4294967295,M=C+(A<<9&4294967295|A>>>23),A=N+(C^P&(M^C))+V[7]+1735328473&4294967295,N=M+(A<<14&4294967295|A>>>18),A=P+(M^C&(N^M))+V[12]+2368359562&4294967295,P=N+(A<<20&4294967295|A>>>12),A=C+(P^N^M)+V[5]+4294588738&4294967295,C=P+(A<<4&4294967295|A>>>28),A=M+(C^P^N)+V[8]+2272392833&4294967295,M=C+(A<<11&4294967295|A>>>21),A=N+(M^C^P)+V[11]+1839030562&4294967295,N=M+(A<<16&4294967295|A>>>16),A=P+(N^M^C)+V[14]+4259657740&4294967295,P=N+(A<<23&4294967295|A>>>9),A=C+(P^N^M)+V[1]+2763975236&4294967295,C=P+(A<<4&4294967295|A>>>28),A=M+(C^P^N)+V[4]+1272893353&4294967295,M=C+(A<<11&4294967295|A>>>21),A=N+(M^C^P)+V[7]+4139469664&4294967295,N=M+(A<<16&4294967295|A>>>16),A=P+(N^M^C)+V[10]+3200236656&4294967295,P=N+(A<<23&4294967295|A>>>9),A=C+(P^N^M)+V[13]+681279174&4294967295,C=P+(A<<4&4294967295|A>>>28),A=M+(C^P^N)+V[0]+3936430074&4294967295,M=C+(A<<11&4294967295|A>>>21),A=N+(M^C^P)+V[3]+3572445317&4294967295,N=M+(A<<16&4294967295|A>>>16),A=P+(N^M^C)+V[6]+76029189&4294967295,P=N+(A<<23&4294967295|A>>>9),A=C+(P^N^M)+V[9]+3654602809&4294967295,C=P+(A<<4&4294967295|A>>>28),A=M+(C^P^N)+V[12]+3873151461&4294967295,M=C+(A<<11&4294967295|A>>>21),A=N+(M^C^P)+V[15]+530742520&4294967295,N=M+(A<<16&4294967295|A>>>16),A=P+(N^M^C)+V[2]+3299628645&4294967295,P=N+(A<<23&4294967295|A>>>9),A=C+(N^(P|~M))+V[0]+4096336452&4294967295,C=P+(A<<6&4294967295|A>>>26),A=M+(P^(C|~N))+V[7]+1126891415&4294967295,M=C+(A<<10&4294967295|A>>>22),A=N+(C^(M|~P))+V[14]+2878612391&4294967295,N=M+(A<<15&4294967295|A>>>17),A=P+(M^(N|~C))+V[5]+4237533241&4294967295,P=N+(A<<21&4294967295|A>>>11),A=C+(N^(P|~M))+V[12]+1700485571&4294967295,C=P+(A<<6&4294967295|A>>>26),A=M+(P^(C|~N))+V[3]+2399980690&4294967295,M=C+(A<<10&4294967295|A>>>22),A=N+(C^(M|~P))+V[10]+4293915773&4294967295,N=M+(A<<15&4294967295|A>>>17),A=P+(M^(N|~C))+V[1]+2240044497&4294967295,P=N+(A<<21&4294967295|A>>>11),A=C+(N^(P|~M))+V[8]+1873313359&4294967295,C=P+(A<<6&4294967295|A>>>26),A=M+(P^(C|~N))+V[15]+4264355552&4294967295,M=C+(A<<10&4294967295|A>>>22),A=N+(C^(M|~P))+V[6]+2734768916&4294967295,N=M+(A<<15&4294967295|A>>>17),A=P+(M^(N|~C))+V[13]+1309151649&4294967295,P=N+(A<<21&4294967295|A>>>11),A=C+(N^(P|~M))+V[4]+4149444226&4294967295,C=P+(A<<6&4294967295|A>>>26),A=M+(P^(C|~N))+V[11]+3174756917&4294967295,M=C+(A<<10&4294967295|A>>>22),A=N+(C^(M|~P))+V[2]+718787259&4294967295,N=M+(A<<15&4294967295|A>>>17),A=P+(M^(N|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+M&4294967295}s.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var P=C-this.blockSize,V=this.B,N=this.h,M=0;M<C;){if(N==0)for(;M<=P;)a(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<C;)if(V[N++]=D.charCodeAt(M++),N==this.blockSize){a(this,V),N=0;break}}else for(;M<C;)if(V[N++]=D[M++],N==this.blockSize){a(this,V),N=0;break}}this.h=N,this.o+=C},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var P=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=P&255,P/=256;for(this.u(D),D=Array(16),C=P=0;4>C;++C)for(var V=0;32>V;V+=8)D[P++]=this.g[C]>>>V&255;return D};function c(D,C){var P=m;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function h(D,C){this.h=C;for(var P=[],V=!0,N=D.length-1;0<=N;N--){var M=D[N]|0;V&&M==C||(P[N]=M,V=!1)}this.g=P}var m={};function g(D){return-128<=D&&128>D?c(D,function(C){return new h([C|0],0>C?-1:0)}):new h([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return z(v(-D));for(var C=[],P=1,V=0;D>=P;V++)C[V]=D/P|0,P*=4294967296;return new h(C,0)}function E(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return z(E(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=v(Math.pow(C,8)),V=T,N=0;N<D.length;N+=8){var M=Math.min(8,D.length-N),A=parseInt(D.substring(N,N+M),C);8>M?(M=v(Math.pow(C,M)),V=V.j(M).add(v(A))):(V=V.j(P),V=V.add(v(A)))}return V}var T=g(0),I=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(q(this))return-z(this).m();for(var D=0,C=1,P=0;P<this.g.length;P++){var V=this.i(P);D+=(0<=V?V:4294967296+V)*C,C*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if(q(this))return"-"+z(this).toString(D);for(var C=v(Math.pow(D,6)),P=this,V="";;){var N=ve(P,C).g;P=Z(P,N.j(C));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=N,U(P))return M+V;for(;6>M.length;)M="0"+M;V=M+V}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function q(D){return D.h==-1}i.l=function(D){return D=Z(this,D),q(D)?-1:U(D)?0:1};function z(D){for(var C=D.g.length,P=[],V=0;V<C;V++)P[V]=~D.g[V];return new h(P,~D.h).add(I)}i.abs=function(){return q(this)?z(this):this},i.add=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0,N=0;N<=C;N++){var M=V+(this.i(N)&65535)+(D.i(N)&65535),A=(M>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=A>>>16,M&=65535,A&=65535,P[N]=A<<16|M}return new h(P,P[P.length-1]&-2147483648?-1:0)};function Z(D,C){return D.add(z(C))}i.j=function(D){if(U(this)||U(D))return T;if(q(this))return q(D)?z(this).j(z(D)):z(z(this).j(D));if(q(D))return z(this.j(z(D)));if(0>this.l(O)&&0>D.l(O))return v(this.m()*D.m());for(var C=this.g.length+D.g.length,P=[],V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<D.g.length;N++){var M=this.i(V)>>>16,A=this.i(V)&65535,tt=D.i(N)>>>16,Vt=D.i(N)&65535;P[2*V+2*N]+=A*Vt,ne(P,2*V+2*N),P[2*V+2*N+1]+=M*Vt,ne(P,2*V+2*N+1),P[2*V+2*N+1]+=A*tt,ne(P,2*V+2*N+1),P[2*V+2*N+2]+=M*tt,ne(P,2*V+2*N+2)}for(V=0;V<C;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=C;V<2*C;V++)P[V]=0;return new h(P,0)};function ne(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function re(D,C){this.g=D,this.h=C}function ve(D,C){if(U(C))throw Error("division by zero");if(U(D))return new re(T,T);if(q(D))return C=ve(z(D),C),new re(z(C.g),z(C.h));if(q(C))return C=ve(D,z(C)),new re(z(C.g),C.h);if(30<D.g.length){if(q(D)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var P=I,V=C;0>=V.l(D);)P=be(P),V=be(V);var N=De(P,1),M=De(V,1);for(V=De(V,2),P=De(P,2);!U(V);){var A=M.add(V);0>=A.l(D)&&(N=N.add(P),M=A),V=De(V,1),P=De(P,1)}return C=Z(D,N.j(C)),new re(N,C)}for(N=T;0<=D.l(C);){for(P=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),M=v(P),A=M.j(C);q(A)||0<A.l(D);)P-=V,M=v(P),A=M.j(C);U(M)&&(M=I),N=N.add(M),D=Z(D,A)}return new re(N,D)}i.A=function(D){return ve(this,D).h},i.and=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)&D.i(V);return new h(P,this.h&D.h)},i.or=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)|D.i(V);return new h(P,this.h|D.h)},i.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],V=0;V<C;V++)P[V]=this.i(V)^D.i(V);return new h(P,this.h^D.h)};function be(D){for(var C=D.g.length+1,P=[],V=0;V<C;V++)P[V]=D.i(V)<<1|D.i(V-1)>>>31;return new h(P,D.h)}function De(D,C){var P=C>>5;C%=32;for(var V=D.g.length-P,N=[],M=0;M<V;M++)N[M]=0<C?D.i(M+P)>>>C|D.i(M+P+1)<<32-C:D.i(M+P);return new h(N,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Xg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=E,ei=h}).apply(typeof Cm<"u"?Cm:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jg,na,Zg,Jl,Dh,ey,ty,ny;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var F=l[w];if(!(F in y))break e;y=y[F]}l=l[l.length-1],w=y[l],d=d(w),d!=w&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,w=!1,F={next:function(){if(!w&&y<l.length){var $=y++;return{value:d($,l[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function E(l,d,y){return l.call.apply(l.bind,arguments)}function T(l,d,y){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function I(l,d,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,I.apply(null,arguments)}function O(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function U(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(w,F,$){for(var ee=Array(arguments.length-2),je=2;je<arguments.length;je++)ee[je-2]=arguments[je];return d.prototype[F].apply(w,ee)}}function q(l){const d=l.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=l[w];return y}return[]}function z(l,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const F=l.length||0,$=w.length||0;l.length=F+$;for(let ee=0;ee<$;ee++)l[F+ee]=w[ee]}else l.push(w)}}class Z{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ne(l){return/^[\s\xa0]*$/.test(l)}function re(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ve(l){return ve[" "](l),l}ve[" "]=function(){};var be=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function De(l,d,y){for(const w in l)d.call(y,l[w],w,l)}function D(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function C(l){const d={};for(const y in l)d[y]=l[y];return d}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(l,d){let y,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(y in w)l[y]=w[y];for(let $=0;$<P.length;$++)y=P[$],Object.prototype.hasOwnProperty.call(w,y)&&(l[y]=w[y])}}function N(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function M(l){m.setTimeout(()=>{throw l},0)}function A(){var l=pe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const w=Vt.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var Vt=new Z(()=>new Dt,l=>l.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,te=!1,pe=new tt,se=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(L)}};var L=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){M(y)}var d=Vt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}te=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Se(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(be){e:{try{ve(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Pe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Se.aa.h.call(this)}}U(Se,fe);var Pe={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,d,y,w,F){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=F,this.key=++Me,this.da=this.fa=!1}function yt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function er(l){this.src=l,this.g={},this.h=0}er.prototype.add=function(l,d,y,w,F){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var ee=Sr(l,d,w,F);return-1<ee?(d=l[ee],y||(d.fa=!1)):(d=new Be(d,this.src,$,!!w,F),d.fa=y,l.push(d)),d};function Qi(l,d){var y=d.type;if(y in l.g){var w=l.g[y],F=Array.prototype.indexOf.call(w,d,void 0),$;($=0<=F)&&Array.prototype.splice.call(w,F,1),$&&(yt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Sr(l,d,y,w){for(var F=0;F<l.length;++F){var $=l[F];if(!$.da&&$.listener==d&&$.capture==!!y&&$.ha==w)return F}return-1}var hi="closure_lm_"+(1e6*Math.random()|0),Ki={};function oo(l,d,y,w,F){if(Array.isArray(d)){for(var $=0;$<d.length;$++)oo(l,d[$],y,w,F);return null}return y=uo(y),l&&l[Le]?l.K(d,y,v(w)?!!w.capture:!1,F):ao(l,d,y,!1,w,F)}function ao(l,d,y,w,F,$){if(!d)throw Error("Invalid event type");var ee=v(F)?!!F.capture:!!F,je=Yi(l);if(je||(l[hi]=je=new er(l)),y=je.add(d,y,w,ee,$),y.proxy)return y;if(w=Va(),y.proxy=w,w.src=l,w.listener=y,l.addEventListener)Te||(F=ee),F===void 0&&(F=!1),l.addEventListener(d.toString(),w,F);else if(l.attachEvent)l.attachEvent(nr(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Va(){function l(y){return d.call(l.src,l.listener,y)}const d=lo;return l}function Gi(l,d,y,w,F){if(Array.isArray(d))for(var $=0;$<d.length;$++)Gi(l,d[$],y,w,F);else w=v(w)?!!w.capture:!!w,y=uo(y),l&&l[Le]?(l=l.i,d=String(d).toString(),d in l.g&&($=l.g[d],y=Sr($,y,w,F),-1<y&&(yt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete l.g[d],l.h--)))):l&&(l=Yi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Sr(d,y,w,F)),(y=-1<l?d[l]:null)&&tr(y))}function tr(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Le])Qi(d.i,l);else{var y=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(y,w,l.capture):d.detachEvent?d.detachEvent(nr(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=Yi(d))?(Qi(y,l),y.h==0&&(y.src=null,d[hi]=null)):yt(l)}}}function nr(l){return l in Ki?Ki[l]:Ki[l]="on"+l}function lo(l,d){if(l.da)l=!0;else{d=new Se(d,this);var y=l.listener,w=l.ha||l.src;l.fa&&tr(l),l=y.call(w,d)}return l}function Yi(l){return l=l[hi],l instanceof er?l:null}var Xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function uo(l){return typeof l=="function"?l:(l[Xi]||(l[Xi]=function(d){return l.handleEvent(d)}),l[Xi])}function ct(){Q.call(this),this.i=new er(this),this.M=this,this.F=null}U(ct,Q),ct.prototype[Le]=!0,ct.prototype.removeEventListener=function(l,d,y,w){Gi(this,l,d,y,w)};function ht(l,d){var y,w=l.F;if(w)for(y=[];w;w=w.F)y.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var F=d;d=new fe(w,l),V(d,F)}if(F=!0,y)for(var $=y.length-1;0<=$;$--){var ee=d.g=y[$];F=rr(ee,w,!0,d)&&F}if(ee=d.g=l,F=rr(ee,w,!0,d)&&F,F=rr(ee,w,!1,d)&&F,y)for($=0;$<y.length;$++)ee=d.g=y[$],F=rr(ee,w,!1,d)&&F}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],w=0;w<y.length;w++)yt(y[w]);delete l.g[d],l.h--}}this.F=null},ct.prototype.K=function(l,d,y,w){return this.i.add(String(l),d,!1,y,w)},ct.prototype.L=function(l,d,y,w){return this.i.add(String(l),d,!0,y,w)};function rr(l,d,y,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,$=0;$<d.length;++$){var ee=d[$];if(ee&&!ee.da&&ee.capture==y){var je=ee.listener,ft=ee.ha||ee.src;ee.fa&&Qi(l.i,ee),F=je.call(ft,w)!==!1&&F}}return F&&!w.defaultPrevented}function co(l,d,y){if(typeof l=="function")y&&(l=I(l,y));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Cr(l){l.g=co(()=>{l.g=null,l.i&&(l.i=!1,Cr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class fi extends Q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Cr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function di(l){Q.call(this),this.h=l,this.g={}}U(di,Q);var ho=[];function fo(l){De(l.g,function(d,y){this.g.hasOwnProperty(y)&&tr(d)},l),l.g={}}di.prototype.N=function(){di.aa.N.call(this),fo(this)},di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var po=m.JSON.stringify,mo=m.JSON.parse,go=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function pi(){}pi.prototype.h=null;function Ji(l){return l.h||(l.h=l.i())}function Zi(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){fe.call(this,"d")}U(jn,fe);function es(){fe.call(this,"c")}U(es,fe);var bn={},yo=null;function mi(){return yo=yo||new ct}bn.La="serverreachability";function vo(l){fe.call(this,bn.La,l)}U(vo,fe);function ir(l){const d=mi();ht(d,new vo(d))}bn.STAT_EVENT="statevent";function _o(l,d){fe.call(this,bn.STAT_EVENT,l),this.stat=d}U(_o,fe);function nt(l){const d=mi();ht(d,new _o(d,l))}bn.Ma="timingevent";function ts(l,d){fe.call(this,bn.Ma,l),this.size=d}U(ts,fe);function wn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function gi(){this.g=!0}gi.prototype.xa=function(){this.g=!1};function yi(l,d,y,w,F,$){l.info(function(){if(l.g)if($)for(var ee="",je=$.split("&"),ft=0;ft<je.length;ft++){var xe=je[ft].split("=");if(1<xe.length){var vt=xe[0];xe=xe[1];var st=vt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(vt+"="+xe+"&"):ee+(vt+"=redacted&")}}else ee=null;else ee=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+d+`
`+y+`
`+ee})}function ns(l,d,y,w,F,$,ee){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+d+`
`+y+`
`+$+" "+ee})}function Tn(l,d,y,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+ju(l,y)+(w?" "+w:"")})}function Eo(l,d){l.info(function(){return"TIMEOUT: "+d})}gi.prototype.info=function(){};function ju(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var w=y[l];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return po(y)}catch{return d}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},In;function vi(){}U(vi,pi),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},In=new vi;function Sn(l,d,y,w){this.j=l,this.i=d,this.l=y,this.R=w||1,this.U=new di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Na}function Na(){this.i=null,this.g="",this.h=!1}var wo={},is={};function ss(l,d,y){l.L=1,l.v=kr(nn(d)),l.m=y,l.P=!0,To(l,null)}function To(l,d){l.F=Date.now(),$e(l),l.A=nn(l.v);var y=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Dr(y.i,"t",w),l.C=0,y=l.j.J,l.h=new Na,l.g=Xa(l.j,y?d:null,!l.m),0<l.O&&(l.M=new fi(I(l.Y,l,l.g),l.O)),d=l.U,y=l.g,w=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(ho[0]=F.toString()),F=ho);for(var $=0;$<F.length;$++){var ee=oo(y,F[$],w||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?C(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),ir(),yi(l.i,l.u,l.A,l.l,l.R,l.m)}Sn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Ht(l)==3?d.j():this.Y(l)},Sn.prototype.Y=function(l){try{if(l==this.g)e:{const st=Ht(this.g);var d=this.g.Ba();const dn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Po(this.g)))){this.J||st!=4||d==7||(d==8||0>=dn?ir(3):ir(2)),_i(this);var y=this.g.Z();this.X=y;t:if(Oa(this)){var w=Po(this.g);l="";var F=w.length,$=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Ar(this);var ee="";break t}this.h.i=new m.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(w[d],{stream:!($&&d==F-1)});w.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,ns(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ft=this.g;if((je=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(je)){var xe=je;break t}}xe=null}if(y=xe)Tn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Io(this,y);else{this.o=!1,this.s=3,nt(12),hn(this),Ar(this);break e}}if(this.P){y=!0;let sn;for(;!this.J&&this.C<ee.length;)if(sn=bu(this,ee),sn==is){st==4&&(this.s=4,nt(14),y=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==wo){this.s=4,nt(15),Tn(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else Tn(this.i,this.l,sn,null),Io(this,sn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)Tn(this.i,this.l,ee,"[Invalid Chunked Response]"),hn(this),Ar(this);else if(0<ee.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ko(vt),vt.M=!0,nt(11))}}else Tn(this.i,this.l,ee,null),Io(this,ee);st==4&&hn(this),this.o&&!this.J&&(st==4?gs(this.j,this):(this.o=!1,$e(this)))}else hs(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),hn(this),Ar(this)}}}catch{}finally{}};function Oa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function bu(l,d){var y=l.C,w=d.indexOf(`
`,y);return w==-1?is:(y=Number(d.substring(y,w)),isNaN(y)?wo:(w+=1,w+y>d.length?is:(d=d.slice(w,w+y),l.C=w+y,d)))}Sn.prototype.cancel=function(){this.J=!0,hn(this)};function $e(l){l.S=Date.now()+l.I,La(l,l.I)}function La(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wn(I(l.ba,l),d)}function _i(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Sn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Eo(this.i,this.A),this.L!=2&&(ir(),nt(17)),hn(this),this.s=2,Ar(this)):La(this,this.S-l)};function Ar(l){l.j.G==0||l.J||gs(l.j,l)}function hn(l){_i(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,fo(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Io(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)ms(y),xn(y);else break e;ps(y),nt(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=wn(I(y.Za,y),6e3));if(1>=Fa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ur(y,11)}else if((l.K||y.g==l)&&ms(y),!ne(d))for(F=y.Da.g.parse(d),d=0;d<F.length;d++){let xe=F[d];if(y.T=xe[0],xe=xe[1],y.G==2)if(xe[0]=="c"){y.K=xe[1],y.ia=xe[2];const vt=xe[3];vt!=null&&(y.la=vt,y.j.info("VER="+y.la));const st=xe[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const dn=xe[5];dn!=null&&typeof dn=="number"&&0<dn&&(w=1.5*dn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const sn=l.g;if(sn){const Ai=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var $=w.h;$.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(So($,$.h),$.h=null))}if(w.D){const vs=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;vs&&(w.ya=vs,ze(w.I,w.D,vs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ee=l;if(w.qa=Ya(w,w.J?w.ia:null,w.W),ee.K){ja(w.h,ee);var je=ee,ft=w.L;ft&&(je.I=ft),je.B&&(_i(je),$e(je)),w.g=ee}else Ci(w);0<y.i.length&&$n(y)}else xe[0]!="stop"&&xe[0]!="close"||ur(y,7);else y.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?ur(y,7):St(y):xe[0]!="noop"&&y.l&&y.l.ta(xe),y.v=0)}}ir(4)}catch{}}var Ma=class{constructor(l,d){this.g=l,this.map=d}};function Ei(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Fa(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function So(l,d){l.g?l.g.add(d):l.h=d}function ja(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Ei.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ba(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return q(l.i)}function os(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,w=0;w<y;w++)d.push(l[w]);return d}d=[],y=0;for(w in l)d[y++]=l[w];return d}function as(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const w in l)d[y++]=w;return d}}}function Rr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=as(l),w=os(l),F=w.length,$=0;$<F;$++)d.call(void 0,w[$],y&&y[$],l)}var wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var w=l[y].indexOf("="),F=null;if(0<=w){var $=l[y].substring(0,w);F=l[y].substring(w+1)}else $=l[y];d($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function sr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof sr){this.h=l.h,Ti(this,l.j),this.o=l.o,this.g=l.g,Pr(this,l.s),this.l=l.l;var d=l.i,y=new Un;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),xr(this,y),this.m=l.m}else l&&(d=String(l).match(wi))?(this.h=!1,Ti(this,d[1]||"",!0),this.o=Re(d[2]||""),this.g=Re(d[3]||"",!0),Pr(this,d[4]),this.l=Re(d[5]||"",!0),xr(this,d[6]||"",!0),this.m=Re(d[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}sr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Vr(d,ls,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Vr(d,ls,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Vr(y,y.charAt(0)=="/"?Ba:za,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Vr(y,Co)),l.join("")};function nn(l){return new sr(l)}function Ti(l,d,y){l.j=y?Re(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Pr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function xr(l,d,y){d instanceof Un?(l.i=d,zn(l.i,l.h)):(y||(d=Vr(d,$a)),l.i=new Un(d,l.h))}function ze(l,d,y){l.i.set(d,y)}function kr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Re(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Ua),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ua(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ls=/[#\/\?@]/g,za=/[#\?:]/g,Ba=/[#\?]/g,$a=/[#\?@]/g,Co=/#/g;function Un(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function It(l){l.g||(l.g=new Map,l.h=0,l.i&&Uu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Un.prototype,i.add=function(l,d){It(this),this.i=null,l=fn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function Cn(l,d){It(l),d=fn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function An(l,d){return It(l),d=fn(l,d),l.g.has(d)}i.forEach=function(l,d){It(this),this.g.forEach(function(y,w){y.forEach(function(F){l.call(d,F,w,this)},this)},this)},i.na=function(){It(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const F=l[w];for(let $=0;$<F.length;$++)y.push(d[w])}return y},i.V=function(l){It(this);let d=[];if(typeof l=="string")An(this,l)&&(d=d.concat(this.g.get(fn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return It(this),this.i=null,l=fn(this,l),An(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Dr(l,d,y){Cn(l,d),0<y.length&&(l.i=null,l.g.set(fn(l,d),q(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const $=encodeURIComponent(String(w)),ee=this.V(w);for(w=0;w<ee.length;w++){var F=$;ee[w]!==""&&(F+="="+encodeURIComponent(String(ee[w]))),l.push(F)}}return this.i=l.join("&")};function fn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function zn(l,d){d&&!l.j&&(It(l),l.i=null,l.g.forEach(function(y,w){var F=w.toLowerCase();w!=F&&(Cn(this,w),Dr(this,F,y))},l)),l.j=d}function zu(l,d){const y=new gi;if(m.Image){const w=new Image;w.onload=O(qt,y,"TestLoadImage: loaded",!0,d,w),w.onerror=O(qt,y,"TestLoadImage: error",!1,d,w),w.onabort=O(qt,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=O(qt,y,"TestLoadImage: timeout",!1,d,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function qa(l,d){const y=new gi,w=new AbortController,F=setTimeout(()=>{w.abort(),qt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?qt(y,"TestPingServer: ok",!0,d):qt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),qt(y,"TestPingServer: error",!1,d)})}function qt(l,d,y,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(y)}catch{}}function Bu(){this.g=new go}function Ha(l,d,y){const w=y||"";try{Rr(l,function(F,$){let ee=F;v(F)&&(ee=po(F)),d.push(w+$+"="+encodeURIComponent(ee))})}catch(F){throw d.push(w+"type="+encodeURIComponent("_badmap")),F}}function or(l){this.l=l.Ub||null,this.j=l.eb||!1}U(or,pi),or.prototype.g=function(){return new Ii(this.l,this.j)},or.prototype.i=function(l){return function(){return l}}({});function Ii(l,d){ct.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ii,ct),i=Ii.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Pn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Rn(this):Pn(this),this.readyState==3&&Wa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Rn(this))},i.Qa=function(l){this.g&&(this.response=l,Rn(this))},i.ga=function(){this.g&&Rn(this)};function Rn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ar(l){let d="";return De(l,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function Nr(l,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=ar(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ze(l,d,y))}function Ke(l){ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ke,ct);var $u=/^https?$/i,Ao=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():In.g(),this.v=this.o?Ji(this.o):Ji(In),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch($){Si(this,$);return}if(l=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)y.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())y.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),F=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ao,d,void 0))||w||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ee]of y)this.g.setRequestHeader($,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cs(this),this.u=!0,this.g.send(l),this.u=!1}catch($){Si(this,$)}};function Si(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,us(l),rn(l)}function us(l){l.A||(l.A=!0,ht(l,"complete"),ht(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ht(this,"complete"),ht(this,"abort"),rn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rn(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ro(this):this.bb())},i.bb=function(){Ro(this)};function Ro(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)co(l.Ea,0,l);else if(ht(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=ee===0){var F=String(l.D).match(wi)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),w=!$u.test(F?F.toLowerCase():"")}y=w}if(y)ht(l,"complete"),ht(l,"success");else{l.m=6;try{var $=2<Ht(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",us(l)}}finally{rn(l)}}}}function rn(l,d){if(l.g){cs(l);const y=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ht(l,"ready");try{y.onreadystatechange=w}catch{}}}function cs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),mo(d)}};function Po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function hs(l){const d={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ne(l[w]))continue;var y=N(l[w]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=d[F]||[];d[F]=$,$.push(y)}D(d,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function xo(l){this.Aa=0,this.i=[],this.j=new gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,l),this.cb=Bn("retryDelaySeedMs",1e4,l),this.Wa=Bn("forwardChannelMaxRetries",2,l),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(l&&l.concurrentRequestLimit),this.Da=new Bu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,w){nt(0),this.W=l,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Ya(this,null,this.W),$n(this)};function St(l){if(fs(l),l.G==3){var d=l.U++,y=nn(l.I);if(ze(y,"SID",l.K),ze(y,"RID",d),ze(y,"TYPE","terminate"),lr(l,y),d=new Sn(l,l.j,d),d.L=2,d.v=kr(nn(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=Xa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}Ga(l)}function xn(l){l.g&&(ko(l),l.g.cancel(),l.g=null)}function fs(l){xn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ms(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function $n(l){if(!tn(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||se(),te||(Ue(),te=!0),pe.add(d,l),l.B=0}}function qu(l,d){return Fa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wn(I(l.Ga,l,d),Ka(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Sn(this,this.j,l);let $=this.o;if(this.S&&($?($=C($),V($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Or(this,F,d),y=nn(this.I),ze(y,"RID",l),ze(y,"CVER",22),this.D&&ze(y,"X-HTTP-Session-Id",this.D),lr(this,y),$&&(this.O?d="headers="+encodeURIComponent(String(ar($)))+"&"+d:this.m&&Nr(y,this.m,$)),So(this.h,F),this.Ua&&ze(y,"TYPE","init"),this.P?(ze(y,"$req",d),ze(y,"SID","null"),F.T=!0,ss(F,y,null)):ss(F,y,d),this.G=2}}else this.G==3&&(l?ds(this,l):this.i.length==0||tn(this.h)||ds(this))};function ds(l,d){var y;d?y=d.l:y=l.U++;const w=nn(l.I);ze(w,"SID",l.K),ze(w,"RID",y),ze(w,"AID",l.T),lr(l,w),l.m&&l.o&&Nr(w,l.m,l.o),y=new Sn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Or(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),So(l.h,y),ss(y,w,d)}function lr(l,d){l.H&&De(l.H,function(y,w){ze(d,w,y)}),l.l&&Rr({},function(y,w){ze(d,w,y)})}function Or(l,d,y){y=Math.min(l.i.length,y);var w=l.l?I(l.l.Na,l.l,l):null;e:{var F=l.i;let $=-1;for(;;){const ee=["count="+y];$==-1?0<y?($=F[0].g,ee.push("ofs="+$)):$=0:ee.push("ofs="+$);let je=!0;for(let ft=0;ft<y;ft++){let xe=F[ft].g;const vt=F[ft].map;if(xe-=$,0>xe)$=Math.max(0,F[ft].g-100),je=!1;else try{Ha(vt,ee,"req"+xe+"_")}catch{w&&w(vt)}}if(je){w=ee.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,w}function Ci(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||se(),te||(Ue(),te=!0),pe.add(d,l),l.v=0}}function ps(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wn(I(l.Fa,l),Ka(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Qa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wn(I(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),xn(this),Qa(this))};function ko(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Qa(l){l.g=new Sn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=nn(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),lr(l,d),l.m&&l.o&&Nr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=kr(nn(d)),y.m=null,y.P=!0,To(y,l)}i.Za=function(){this.C!=null&&(this.C=null,xn(this),ps(this),nt(19))};function ms(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function gs(l,d){var y=null;if(l.g==d){ms(l),ko(l),l.g=null;var w=2}else if(Ut(l.h,d))y=d.D,ja(l.h,d),w=1;else return;if(l.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;w=mi(),ht(w,new ts(w,y)),$n(l)}else Ci(l);else if(F=d.s,F==3||F==0&&0<d.X||!(w==1&&qu(l,d)||w==2&&ps(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),F){case 1:ur(l,5);break;case 4:ur(l,10);break;case 3:ur(l,6);break;default:ur(l,2)}}}function Ka(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ur(l,d){if(l.j.info("Error code "+d),d==2){var y=I(l.fb,l),w=l.Xa;const F=!w;w=new sr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ti(w,"https"),kr(w),F?zu(w.toString(),y):qa(w.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),Ga(l),fs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ga(l){if(l.G=0,l.ka=[],l.l){const d=ba(l.h);(d.length!=0||l.i.length!=0)&&(z(l.ka,d),z(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function Ya(l,d,y){var w=y instanceof sr?nn(y):new sr(y);if(w.g!="")d&&(w.g=d+"."+w.g),Pr(w,w.s);else{var F=m.location;w=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var $=new sr(null);w&&Ti($,w),d&&($.g=d),F&&Pr($,F),y&&($.l=y),w=$}return y=l.D,d=l.ya,y&&d&&ze(w,y,d),ze(w,"VER",l.la),lr(l,w),w}function Xa(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ke(new or({eb:y})):new Ke(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vo(){}i=Vo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ys(){}ys.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){ct.call(this),this.g=new xo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ne(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ne(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new qn(this)}U(zt,ct),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){St(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=po(l),l=y);d.i.push(new Ma(d.Ya++,l)),d.G==3&&$n(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,zt.aa.N.call(this)};function Ja(l){jn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}U(Ja,jn);function Za(){es.call(this),this.status=1}U(Za,es);function qn(l){this.g=l}U(qn,Vo),qn.prototype.ua=function(){ht(this.g,"a")},qn.prototype.ta=function(l){ht(this.g,new Ja(l))},qn.prototype.sa=function(l){ht(this.g,new Za)},qn.prototype.ra=function(){ht(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,ny=function(){return new ys},ty=function(){return mi()},ey=bn,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Jl=rs,Da.COMPLETE="complete",Zg=Da,Zi.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,na=Zi,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Jg=Ke}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});const Am="@firebase/firestore",Rm="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Hg("@firebase/firestore");function Us(){return zi.logLevel}function oe(i,...e){if(zi.logLevel<=Ve.DEBUG){const n=e.map(af);zi.debug(`Firestore (${eo}): ${i}`,...n)}}function wr(i,...e){if(zi.logLevel<=Ve.ERROR){const n=e.map(af);zi.error(`Firestore (${eo}): ${i}`,...n)}}function Ws(i,...e){if(zi.logLevel<=Ve.WARN){const n=e.map(af);zi.warn(`Firestore (${eo}): ${i}`,...n)}}function af(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ry(i,s,n)}function ry(i,e,n){let s=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw wr(s),new Error(s)}function Fe(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||ry(e,a,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class Vw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dw{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new iy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new jt(e)}}class Nw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ow{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Nw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Pm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Mw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function Nh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Ie(s,a);{const c=sy(),h=Fw(c.encode(xm(i,n)),c.encode(xm(e,n)));return h!==0?h:Ie(s,a)}}n+=s>65535?2:1}return Ie(i.length,e.length)}function xm(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function Fw(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ie(i[n],e[n]);return Ie(i.length,e.length)}function Qs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=-62135596800,Vm=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Vm);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<km)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vm}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-km;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new mt(0,0))}static max(){return new Ee(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="__name__";class Yn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ye(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ye(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Yn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Ie(e.length,n.length)}static compareSegments(e,n){const s=Yn.isNumericId(e),a=Yn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Yn.extractNumericId(e).compare(Yn.extractNumericId(n)):Nh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}}class Qe extends Yn{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const jw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Yn{construct(e,n,s){return new Pt(e,n,s)}static isValidIdentifier(e){return jw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dm}static keyField(){return new Pt([Dm])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new le(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new le(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Qe.fromString(e))}static fromName(e){return new de(Qe.fromString(e).popFirst(5))}static empty(){return new de(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=-1;function bw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new ni(a,de.empty(),e)}function Uw(i){return new ni(i.readTime,i.key,ma)}class ni{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ni(Ee.min(),de.empty(),ma)}static max(){return new ni(Ee.max(),de.empty(),ma)}}function zw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(i.documentKey,e.documentKey),n!==0?n:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==Bw)throw i;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++c,h&&c===a&&n()},g=>s(g))}),h=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const v=g;n(e[v]).next(E=>{h[v]=E,++m,m===c&&s(h)},E=>a(E))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function qw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Tu.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-1;function Iu(i){return i==null}function uu(i){return i===0&&1/i==-1/0}function Hw(i){return typeof i=="number"&&Number.isInteger(i)&&!uu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="";function Ww(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Nm(e)),e=Qw(i.get(n),e);return Nm(e)}function Qw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case ay:n+="";break;default:n+=c}}return n}function Nm(i){return i+ay+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ui(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ly(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kl(this.root,e,this.comparator,!0)}}class Kl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lm(this.data.getIterator())}getIteratorFrom(e){return new Lm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Lm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new un([])}unionWith(e){let n=new gt(Pt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uy("Invalid base64 string: "+c):c}}(e);return new kt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const Kw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=Kw.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ii(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="server_timestamp",hy="__type__",fy="__previous_value__",dy="__local_write_time__";function uf(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[hy])===null||n===void 0?void 0:n.stringValue)===cy}function Su(i){const e=i.mapValue.fields[fy];return uf(e)?Su(e):e}function ga(i){const e=ri(i.mapValue.fields[dy].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n,s,a,c,h,m,g,v,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=E}}const cu="(default)";class ya{constructor(e,n){this.projectId=e,this.database=n||cu}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database===cu}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="__type__",Yw="__max__",Gl={mapValue:{}},my="__vector__",hu="value";function si(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?uf(i)?4:Jw(i)?9007199254740991:Xw(i)?10:11:ye(28295,{value:i})}function Zn(i,e){if(i===e)return!0;const n=si(i);if(n!==si(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ga(i).isEqual(ga(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=ri(a.timestampValue),m=ri(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ii(a.bytesValue).isEqual(ii(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=it(a.doubleValue),m=it(c.doubleValue);return h===m?uu(h)===uu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Qs(i.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Om(h)!==Om(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Zn(h[g],m[g])))return!1;return!0}(i,e);default:return ye(52216,{left:i})}}function va(i,e){return(i.values||[]).find(n=>Zn(n,e))!==void 0}function Ks(i,e){if(i===e)return 0;const n=si(i),s=si(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(c,h){const m=it(c.integerValue||c.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Mm(i.timestampValue,e.timestampValue);case 4:return Mm(ga(i),ga(e));case 5:return Nh(i.stringValue,e.stringValue);case 6:return function(c,h){const m=ii(c),g=ii(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const E=Ie(m[v],g[v]);if(E!==0)return E}return Ie(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Ie(it(c.latitude),it(h.latitude));return m!==0?m:Ie(it(c.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Fm(i.arrayValue,e.arrayValue);case 10:return function(c,h){var m,g,v,E;const T=c.fields||{},I=h.fields||{},O=(m=T[hu])===null||m===void 0?void 0:m.arrayValue,U=(g=I[hu])===null||g===void 0?void 0:g.arrayValue,q=Ie(((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:Fm(O,U)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===Gl.mapValue&&h===Gl.mapValue)return 0;if(c===Gl.mapValue)return 1;if(h===Gl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),v=h.fields||{},E=Object.keys(v);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const I=Nh(g[T],E[T]);if(I!==0)return I;const O=Ks(m[g[T]],v[E[T]]);if(O!==0)return O}return Ie(g.length,E.length)}(i.mapValue,e.mapValue);default:throw ye(23264,{Pe:n})}}function Mm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const n=ri(i),s=ri(e),a=Ie(n.seconds,s.seconds);return a!==0?a:Ie(n.nanos,s.nanos)}function Fm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Ks(n[a],s[a]);if(c)return c}return Ie(n.length,s.length)}function Gs(i){return Oh(i)}function Oh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ri(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ii(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return de.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Oh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Oh(n.fields[h])}`;return a+"}"}(i.mapValue):ye(61005,{value:i})}function Zl(i){switch(si(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Su(i);return e?16+Zl(e):16;case 5:return 2*i.stringValue.length;case 6:return ii(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Zl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ui(s.fields,(c,h)=>{a+=c.length+Zl(h)}),a}(i.mapValue);default:throw ye(13486,{value:i})}}function jm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lh(i){return!!i&&"integerValue"in i}function cf(i){return!!i&&"arrayValue"in i}function bm(i){return!!i&&"nullValue"in i}function Um(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function eu(i){return!!i&&"mapValue"in i}function Xw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[py])===null||n===void 0?void 0:n.stringValue)===my}function aa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ui(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=aa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=aa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Jw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Yw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=aa(n)}setAll(e){let n=Pt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=aa(h):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];eu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ui(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Zt(aa(this.value))}}function gy(i){const e=[];return ui(i.fields,(n,s)=>{const a=new Pt([n]);if(eu(s)){const c=gy(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new bt(e,0,Ee.min(),Ee.min(),Ee.min(),Zt.empty(),0)}static newFoundDocument(e,n,s,a){return new bt(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new bt(e,2,n,Ee.min(),Ee.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,Ee.min(),Ee.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.position=e,this.inclusive=n}}function zm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=Ks(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Zn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{}class lt extends yy{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new t1(e,n,s):n==="array-contains"?new i1(e,s):n==="in"?new s1(e,s):n==="not-in"?new o1(e,s):n==="array-contains-any"?new a1(e,s):new lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new n1(e,s):new r1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ks(n,this.value)):n!==null&&si(this.value)===si(n)&&this.matchesComparison(Ks(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends yy{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Fn(e,n)}matches(e){return vy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function vy(i){return i.op==="and"}function _y(i){return e1(i)&&vy(i)}function e1(i){for(const e of i.filters)if(e instanceof Fn)return!1;return!0}function Mh(i){if(i instanceof lt)return i.field.canonicalString()+i.op.toString()+Gs(i.value);if(_y(i))return i.filters.map(e=>Mh(e)).join(",");{const e=i.filters.map(n=>Mh(n)).join(",");return`${i.op}(${e})`}}function Ey(i,e){return i instanceof lt?function(s,a){return a instanceof lt&&s.op===a.op&&s.field.isEqual(a.field)&&Zn(s.value,a.value)}(i,e):i instanceof Fn?function(s,a){return a instanceof Fn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,h,m)=>c&&Ey(h,a.filters[m]),!0):!1}(i,e):void ye(19439)}function wy(i){return i instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gs(n.value)}`}(i):i instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(wy).join(" ,")+"}"}(i):"Filter"}class t1 extends lt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class n1 extends lt{constructor(e,n){super(e,"in",n),this.keys=Ty("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r1 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Ty("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ty(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>de.fromName(s.referenceValue))}class i1 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cf(n)&&va(n.arrayValue,this.value)}}class s1 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}}class o1 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!va(this.value.arrayValue,n)}}class a1 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>va(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.Ie=null}}function $m(i,e=null,n=[],s=[],a=null,c=null,h=null){return new l1(i,e,n,s,a,c,h)}function hf(i){const e=we(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Mh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Iu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Gs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Gs(s)).join(",")),e.Ie=n}return e.Ie}function ff(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Zw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ey(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bm(i.startAt,e.startAt)&&Bm(i.endAt,e.endAt)}function Fh(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function u1(i,e,n,s,a,c,h,m){return new Sa(i,e,n,s,a,c,h,m)}function df(i){return new Sa(i)}function qm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Iy(i){return i.collectionGroup!==null}function la(i){const e=we(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new gt(Pt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new du(c,s))}),n.has(Pt.keyField().canonicalString())||e.Ee.push(new du(Pt.keyField(),s))}return e.Ee}function Xn(i){const e=we(i);return e.de||(e.de=c1(e,la(i))),e.de}function c1(i,e){if(i.limitType==="F")return $m(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new du(a.field,c)});const n=i.endAt?new fu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new fu(i.startAt.position,i.startAt.inclusive):null;return $m(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function jh(i,e){const n=i.filters.concat([e]);return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function bh(i,e,n){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Cu(i,e){return ff(Xn(i),Xn(e))&&i.limitType===e.limitType}function Sy(i){return`${hf(Xn(i))}|lt:${i.limitType}`}function zs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>wy(a)).join(", ")}]`),Iu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Gs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Gs(a)).join(",")),`Target(${s})`}(Xn(i))}; limitType=${i.limitType})`}function Au(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):de.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of la(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=zm(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,la(s),a)||s.endAt&&!function(h,m,g){const v=zm(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,la(s),a))}(i,e)}function h1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Cy(i){return(e,n)=>{let s=!1;for(const a of la(i)){const c=f1(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function f1(i,e,n){const s=i.field.isKeyField()?de.comparator(e.key,n.key):function(c,h,m){const g=h.data.field(c),v=m.data.field(c);return g!==null&&v!==null?Ks(g,v):ye(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Je(de.comparator);function Tr(){return d1}const Ay=new Je(de.comparator);function ra(...i){let e=Ay;for(const n of i)e=e.insert(n.key,n);return e}function Ry(i){let e=Ay;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ui(){return ua()}function Py(){return ua()}function ua(){return new Hi(i=>i.toString(),(i,e)=>i.isEqual(e))}const p1=new Je(de.comparator),m1=new gt(de.comparator);function Ae(...i){let e=m1;for(const n of i)e=e.add(n);return e}const g1=new gt(Ie);function y1(){return g1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function xy(i){return{integerValue:""+i}}function v1(i,e){return Hw(e)?xy(e):pf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this._=void 0}}function _1(i,e,n){return i instanceof pu?function(a,c){const h={fields:{[hy]:{stringValue:cy},[dy]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&uf(c)&&(c=Su(c)),c&&(h.fields[fy]=c),{mapValue:h}}(n,e):i instanceof _a?Vy(i,e):i instanceof Ea?Dy(i,e):function(a,c){const h=ky(a,c),m=Hm(h)+Hm(a.Re);return Lh(h)&&Lh(a.Re)?xy(m):pf(a.serializer,m)}(i,e)}function E1(i,e,n){return i instanceof _a?Vy(i,e):i instanceof Ea?Dy(i,e):n}function ky(i,e){return i instanceof mu?function(s){return Lh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class pu extends Ru{}class _a extends Ru{constructor(e){super(),this.elements=e}}function Vy(i,e){const n=Ny(e);for(const s of i.elements)n.some(a=>Zn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Ea extends Ru{constructor(e){super(),this.elements=e}}function Dy(i,e){let n=Ny(e);for(const s of i.elements)n=n.filter(a=>!Zn(a,s));return{arrayValue:{values:n}}}class mu extends Ru{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Hm(i){return it(i.integerValue||i.doubleValue)}function Ny(i){return cf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function w1(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof _a&&a instanceof _a||s instanceof Ea&&a instanceof Ea?Qs(s.elements,a.elements,Zn):s instanceof mu&&a instanceof mu?Zn(s.Re,a.Re):s instanceof pu&&a instanceof pu}(i.transform,e.transform)}class T1{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tu(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Pu{}function Oy(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new mf(i.key,Mn.none()):new Ca(i.key,i.data,Mn.none());{const n=i.data,s=Zt.empty();let a=new gt(Pt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new ci(i.key,s,new un(a.toArray()),Mn.none())}}function I1(i,e,n){i instanceof Ca?function(a,c,h){const m=a.value.clone(),g=Qm(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ci?function(a,c,h){if(!tu(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=Qm(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Ly(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ca(i,e,n,s){return i instanceof Ca?function(c,h,m,g){if(!tu(c.precondition,h))return m;const v=c.value.clone(),E=Km(c.fieldTransforms,g,h);return v.setAll(E),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof ci?function(c,h,m,g){if(!tu(c.precondition,h))return m;const v=Km(c.fieldTransforms,g,h),E=h.data;return E.setAll(Ly(c)),E.setAll(v),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(c,h,m){return tu(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function S1(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=ky(s.transform,a||null);c!=null&&(n===null&&(n=Zt.empty()),n.set(s.field,c))}return n||null}function Wm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Qs(s,a,(c,h)=>w1(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ca extends Pu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ci extends Pu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ly(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Qm(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,E1(h,m,n[a]))}return s}function Km(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,_1(c,h,e))}return s}class mf extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C1 extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&I1(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ca(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ca(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Py();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=Oy(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(n,s)=>Wm(n,s))&&Qs(this.baseMutations,e.baseMutations,(n,s)=>Wm(n,s))}}class gf{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return p1}();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new gf(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ke;function x1(i){switch(i){case K.OK:return ye(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ye(15467,{code:i})}}function My(i){if(i===void 0)return wr("GRPC error has no .code"),K.UNKNOWN;switch(i){case at.OK:return K.OK;case at.CANCELLED:return K.CANCELLED;case at.UNKNOWN:return K.UNKNOWN;case at.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case at.INTERNAL:return K.INTERNAL;case at.UNAVAILABLE:return K.UNAVAILABLE;case at.UNAUTHENTICATED:return K.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case at.NOT_FOUND:return K.NOT_FOUND;case at.ALREADY_EXISTS:return K.ALREADY_EXISTS;case at.PERMISSION_DENIED:return K.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case at.ABORTED:return K.ABORTED;case at.OUT_OF_RANGE:return K.OUT_OF_RANGE;case at.UNIMPLEMENTED:return K.UNIMPLEMENTED;case at.DATA_LOSS:return K.DATA_LOSS;default:return ye(39323,{code:i})}}(ke=at||(at={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new ei([4294967295,4294967295],0);function Gm(i){const e=sy().encode(i),n=new Xg;return n.update(e),new Uint8Array(n.digest())}function Ym(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ei([n,s],0),new ei([a,c],0)]}class yf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ia(`Invalid padding: ${n}`);if(s<0)throw new ia(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ia(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ia(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ei.fromNumber(this.pe)}we(e,n,s){let a=e.add(n.multiply(ei.fromNumber(s)));return a.compare(k1)===1&&(a=new ei([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Gm(e),[s,a]=Ym(n);for(let c=0;c<this.hashCount;c++){const h=this.we(s,a,c);if(!this.be(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new yf(c,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const n=Gm(e),[s,a]=Ym(n);for(let c=0;c<this.hashCount;c++){const h=this.we(s,a,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Aa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xu(Ee.min(),a,new Je(Ie),Tr(),Ae())}}class Aa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Aa(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,s,a){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=a}}class Fy{constructor(e,n){this.targetId=e,this.Ce=n}}class jy{constructor(e,n,s=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Xm{constructor(){this.Fe=0,this.Me=Jm(),this.xe=kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ae(),n=Ae(),s=Ae();return this.Me.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ye(38017,{changeType:c})}}),new Aa(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=Jm()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Fe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class V1{constructor(e){this.ze=e,this.je=new Map,this.He=Tr(),this.Je=Yl(),this.Ye=Yl(),this.Ze=new Je(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:ye(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,s=e.Ce.count,a=this._t(n);if(a){const c=a.target;if(Fh(c))if(s===0){const h=new de(c.path);this.tt(n,h,bt.newNoDocument(h,Ee.min()))}else Fe(s===1,20013,{expectedCount:s});else{const h=this.ut(n);if(h!==s){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,v)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=ii(s).toUint8Array()}catch(g){if(g instanceof uy)return Ws("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new yf(h,a,c)}catch(g){return Ws(g instanceof ia?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,c,null),a++)}),a}It(e){const n=new Map;this.je.forEach((c,h)=>{const m=this._t(h);if(m){if(c.current&&Fh(m.target)){const g=new de(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,bt.newNoDocument(g,e))}c.Le&&(n.set(h,c.qe()),c.Qe())}});let s=Ae();this.Ye.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const v=this._t(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.He.forEach((c,h)=>h.setReadTime(e));const a=new xu(e,n,this.Ze,this.He,s);return this.He=Tr(),this.Je=Yl(),this.Ye=Yl(),this.Ze=new Je(Ie),a}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Xm,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new gt(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new gt(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Xm),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Yl(){return new Je(de.comparator)}function Jm(){return new Je(de.comparator)}const D1={asc:"ASCENDING",desc:"DESCENDING"},N1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O1={and:"AND",or:"OR"};class L1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uh(i,e){return i.useProto3Json||Iu(e)?e:{value:e}}function gu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function by(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function M1(i,e){return gu(i,e.toTimestamp())}function Jn(i){return Fe(!!i,49232),Ee.fromTimestamp(function(n){const s=ri(n);return new mt(s.seconds,s.nanos)}(i))}function vf(i,e){return zh(i,e).canonicalString()}function zh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Uy(i){const e=Qe.fromString(i);return Fe(Hy(e),10190,{key:e.toString()}),e}function Bh(i,e){return vf(i.databaseId,e.path)}function Eh(i,e){const n=Uy(e);if(n.get(1)!==i.databaseId.projectId)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new de(By(n))}function zy(i,e){return vf(i.databaseId,e)}function F1(i){const e=Uy(i);return e.length===4?Qe.emptyPath():By(e)}function $h(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function By(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Zm(i,e,n){return{name:Bh(i,e),fields:n.value.mapValue.fields}}function j1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ye(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,E){return v.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),kt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),kt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const E=v.code===void 0?K.UNKNOWN:My(v.code);return new le(E,v.message||"")}(h);n=new jy(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Eh(i,s.document.name),c=Jn(s.document.updateTime),h=s.document.createTime?Jn(s.document.createTime):Ee.min(),m=new Zt({mapValue:{fields:s.document.fields}}),g=bt.newFoundDocument(a,c,h,m),v=s.targetIds||[],E=s.removedTargetIds||[];n=new nu(v,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Eh(i,s.document),c=s.readTime?Jn(s.readTime):Ee.min(),h=bt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new nu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Eh(i,s.document),c=s.removedTargetIds||[];n=new nu([],c,a,null)}else{if(!("filter"in e))return ye(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new P1(a,c),m=s.targetId;n=new Fy(m,h)}}return n}function b1(i,e){let n;if(e instanceof Ca)n={update:Zm(i,e.key,e.value)};else if(e instanceof mf)n={delete:Bh(i,e.key)};else if(e instanceof ci)n={update:Zm(i,e.key,e.data),updateMask:K1(e.fieldMask)};else{if(!(e instanceof C1))return ye(16599,{ft:e.type});n={verify:Bh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _a)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ea)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mu)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw ye(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:M1(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ye(27497)}(i,e.precondition)),n}function U1(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(n=>function(a,c){let h=a.updateTime?Jn(a.updateTime):Jn(c);return h.isEqual(Ee.min())&&(h=Jn(c)),new T1(h,a.transformResults||[])}(n,e))):[]}function z1(i,e){return{documents:[zy(i,e.path)]}}function B1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zy(i,a);const c=function(v){if(v.length!==0)return qy(Fn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(v){if(v.length!==0)return v.map(E=>function(I){return{field:Bs(I.field),direction:H1(I.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Uh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:n,parent:a}}function $1(i){let e=F1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=function(T){const I=$y(T);return I instanceof Fn&&_y(I)?I.getFilters():[I]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(I=>function(U){return new du($s(U.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(T){let I;return I=typeof T=="object"?T.value:T,Iu(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(T){const I=!!T.before,O=T.values||[];return new fu(O,I)}(n.startAt));let v=null;return n.endAt&&(v=function(T){const I=!T.before,O=T.values||[];return new fu(O,I)}(n.endAt)),u1(e,a,h,c,m,"F",g,v)}function q1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $y(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$s(n.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$s(n.unaryFilter.field);return lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$s(n.unaryFilter.field);return lt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=$s(n.unaryFilter.field);return lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(i):i.fieldFilter!==void 0?function(n){return lt.create($s(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(s=>$y(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(n.compositeFilter.op))}(i):ye(30097,{filter:i})}function H1(i){return D1[i]}function W1(i){return N1[i]}function Q1(i){return O1[i]}function Bs(i){return{fieldPath:i.canonicalString()}}function $s(i){return Pt.fromServerFormat(i.fieldPath)}function qy(i){return i instanceof lt?function(n){if(n.op==="=="){if(Um(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(bm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Um(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(bm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:W1(n.op),value:n.value}}}(i):i instanceof Fn?function(n){const s=n.getFilters().map(a=>qy(a));return s.length===1?s[0]:{compositeFilter:{op:Q1(n.op),filters:s}}}(i):ye(54877,{filter:i})}function K1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Hy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s,a,c=Ee.min(),h=Ee.min(),m=kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.wt=e}}function Y1(i){const e=$1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?bh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.yn=new J1}addToCollectionParentIndex(e,n){return this.yn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ni.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class J1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new gt(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new gt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wy=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(Wy,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ys(0)}static ir(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LruGarbageCollector",Z1=1048576;function ng([i,e],[n,s]){const a=Ie(i,n);return a===0?Ie(e,s):a}class eT{constructor(e){this.cr=e,this.buffer=new gt(ng),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ng(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){oe(tg,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?oe(tg,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.Ir(3e5)})}}class nT{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Tu.le);const s=new eT(n);return this.Er.forEachTarget(e,a=>s.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>s.Pr(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(eg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eg):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,a,c,h,m,g,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(v=Date.now(),Us()<=Ve.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(v-g)+`ms
Total Duration: ${v-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:T})))}}function rT(i,e){return new nT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ca(s.mutation,a,un.empty(),mt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const a=Ui();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let h=ra();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Ui();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let c=Tr();const h=ua(),m=function(){return ua()}();return n.forEach((g,v)=>{const E=s.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof ci)?c=c.insert(v.key,v):E!==void 0?(h.set(v.key,E.mutation.getFieldMask()),ca(E.mutation,v,E.mutation.getFieldMask(),mt.now())):h.set(v.key,un.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((v,E)=>h.set(v,E)),n.forEach((v,E)=>{var T;return m.set(v,new sT(E,(T=h.get(v))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ua();let a=new Je((h,m)=>h-m),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let E=s.get(g)||un.empty();E=m.applyToLocalView(v,E),s.set(g,E);const T=(a.get(m.batchId)||Ae()).add(g);a=a.insert(m.batchId,T)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,E=g.value,T=Py();E.forEach(I=>{if(!c.has(I)){const O=Oy(n.get(I),s.get(I));O!==null&&T.set(I,O),c=c.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return W.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Iy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Ui());let m=ma,g=c;return h.next(v=>W.forEach(v,(E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{g=g.insert(E,I)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,g,v,Ae())).next(E=>({batchId:m,changes:Ry(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let a=ra();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=ra();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,g=>{const v=function(T,I){return new Sa(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(E=>{E.forEach((T,I)=>{h=h.insert(T,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(h=>{c.forEach((g,v)=>{const E=v.getKey();h.get(E)===null&&(h=h.insert(E,bt.newInvalidDocument(E)))});let m=ra();return h.forEach((g,v)=>{const E=c.get(g);E!==void 0&&ca(E.mutation,v,un.empty(),mt.now()),Au(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return W.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Jn(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:Y1(a.bundledQuery),readTime:Jn(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.overlays=new Je(de.comparator),this.Or=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ui();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.St(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Or.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Ui(),c=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Je((v,E)=>v-E);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let E=c.get(v.largestBatchId);E===null&&(E=Ui(),c=c.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const m=Ui(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>m.set(v,E)),!(m.size()>=a)););return W.resolve(m)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Or.get(a.largestBatchId).delete(s.key);this.Or.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new R1(n,s));let c=this.Or.get(n);c===void 0&&(c=Ae(),this.Or.set(n,c)),this.Or.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this.Nr=new gt(Tt.Br),this.Lr=new gt(Tt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Tt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Tt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new de(new Qe([])),s=new Tt(n,e),a=new Tt(n,e+1),c=[];return this.Lr.forEachInRange([s,a],h=>{this.Qr(h),c.push(h.key)}),c}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new de(new Qe([])),s=new Tt(n,e),a=new Tt(n,e+1);let c=Ae();return this.Lr.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new Tt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Tt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return de.comparator(e.key,n.key)||Ie(e.Gr,n.Gr)}static kr(e,n){return Ie(e.Gr,n.Gr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new gt(Tt.Br)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new A1(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.zr=this.zr.add(new Tt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(h)}lookupMutationBatch(e,n){return W.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Hr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?lf:this.Jn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Tt(n,0),a=new Tt(n,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([s,a],h=>{const m=this.jr(h.Gr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Ie);return n.forEach(a=>{const c=new Tt(a,0),h=new Tt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,h],m=>{s=s.add(m.Gr)})}),W.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;de.isDocumentKey(c)||(c=c.child(""));const h=new Tt(new de(c),0);let m=new gt(Ie);return this.zr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.Gr)),!0)},h),W.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const a=this.jr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Fe(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return W.forEach(n.mutations,a=>{const c=new Tt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Tt(n,0),a=this.zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.Zr=e,this.docs=function(){return new Je(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let s=Tr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():bt.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Tr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||zw(Uw(E),s)<=0||(a.has(E.key)||Au(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ye(9500)}Xr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fT(this)}getSize(e){return W.resolve(this.size)}}class fT extends iT{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(e,a)):this.vr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.persistence=e,this.ei=new Hi(n=>hf(n),ff),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ti=0,this.ni=new _f,this.targetCount=0,this.ri=Ys.rr()}forEachTarget(e,n){return this.ei.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),W.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.ar(n),W.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.ei.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n){this.ii={},this.overlays={},this.si=new Tu(0),this.oi=!1,this.oi=!0,this._i=new uT,this.referenceDelegate=e(this),this.ai=new dT(this),this.indexManager=new X1,this.remoteDocumentCache=function(a){return new hT(a)}(s=>this.referenceDelegate.ui(s)),this.serializer=new G1(n),this.ci=new aT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new cT(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const a=new pT(this.si.next());return this.referenceDelegate.li(),s(a).next(c=>this.referenceDelegate.hi(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Pi(e,n){return W.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class pT extends $w{constructor(e){super(),this.currentSequenceNumber=e}}class Ef{constructor(e){this.persistence=e,this.Ti=new _f,this.Ii=null}static Ei(e){return new Ef(e)}get di(){if(this.Ii)return this.Ii;throw ye(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.di.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,s=>{const a=de.fromPath(s);return this.Ai(e,a).next(c=>{c||n.removeEntry(a,Ee.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return W.or([()=>W.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class yu{constructor(e,n){this.persistence=e,this.Ri=new Hi(s=>Ww(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=rT(this,n)}static Ei(e,n){return new yu(e,n)}li(){}hi(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return W.forEach(this.Ri,(s,a)=>this.gr(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Xr(e,h=>this.gr(e,h,n).next(m=>{m||(s++,c.removeEntry(h,Ee.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),W.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zl(e.data.value)),n}gr(e,n,s){return W.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.Ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=a}static Ps(e,n){let s=Ae(),a=Ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new wf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return fE()?8:qw(cE())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Rs(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.Vs(e,n,a,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new mT;return this.fs(e,n,h).next(m=>{if(c.result=m,this.Is)return this.gs(e,n,h,m.size)})}).next(()=>c.result)}gs(e,n,s,a){return s.documentReadCount<this.Es?(Us()<=Ve.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",zs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),W.resolve()):(Us()<=Ve.DEBUG&&oe("QueryEngine","Query:",zs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(Us()<=Ve.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",zs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):W.resolve())}Rs(e,n){if(qm(n))return W.resolve(null);let s=Xn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=bh(n,null,"F"),s=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=Ae(...c);return this.As.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.ps(n,m);return this.ys(n,v,h,g.readTime)?this.Rs(e,bh(n,null,"F")):this.ws(e,v,n,g)}))})))}Vs(e,n,s,a){return qm(n)||a.isEqual(Ee.min())?W.resolve(null):this.As.getDocuments(e,s).next(c=>{const h=this.ps(n,c);return this.ys(n,h,s,a)?W.resolve(null):(Us()<=Ve.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zs(n)),this.ws(e,h,n,bw(a,ma)).next(m=>m))})}ps(e,n){let s=new gt(Cy(e));return n.forEach((a,c)=>{Au(e,c)&&(s=s.add(c))}),s}ys(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}fs(e,n,s){return Us()<=Ve.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",zs(n)),this.As.getDocumentsMatchingQuery(e,n,ni.min(),s)}ws(e,n,s,a){return this.As.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="LocalStore",yT=3e8;class vT{constructor(e,n,s,a){this.persistence=e,this.bs=n,this.serializer=a,this.Ss=new Je(Ie),this.Ds=new Hi(c=>hf(c),ff),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oT(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function _T(i,e,n,s){return new vT(i,e,n,s)}async function Ky(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=Ae();for(const v of a){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of c){m.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ms:v,removedBatchIds:h,addedBatchIds:m}))})})}function ET(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,E){const T=v.batch,I=T.keys();let O=W.resolve();return I.forEach(U=>{O=O.next(()=>E.getEntry(g,U)).next(q=>{const z=v.docVersions.get(U);Fe(z!==null,48541),q.version.compareTo(z)<0&&(T.applyToRemoteDocument(q,v),q.isValidDocument()&&(q.setReadTime(v.commitVersion),E.addEntry(q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ae();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Gy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function wT(i,e){const n=we(i),s=e.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const m=[];e.targetChanges.forEach((E,T)=>{const I=a.get(T);if(!I)return;m.push(n.ai.removeMatchingKeys(c,E.removedDocuments,T).next(()=>n.ai.addMatchingKeys(c,E.addedDocuments,T)));let O=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(kt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),a=a.insert(T,O),function(q,z,Z){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=yT?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(I,O,E)&&m.push(n.ai.updateTargetData(c,O))});let g=Tr(),v=Ae();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(TT(c,h,e.documentUpdates).next(E=>{g=E.xs,v=E.Os})),!s.isEqual(Ee.min())){const E=n.ai.getLastRemoteSnapshotVersion(c).next(T=>n.ai.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,v)).next(()=>g)}).then(c=>(n.Ss=a,c))}function TT(i,e,n){let s=Ae(),a=Ae();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=Tr();return n.forEach((m,g)=>{const v=c.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):oe(Tf,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{xs:h,Os:a}})}function IT(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lf),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ST(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.ai.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.ai.allocateTargetId(s).next(h=>(a=new Yr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ss.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function qh(i,e,n){const s=we(i),a=s.Ss.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!no(h))throw h;oe(Tf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(a.target)}function rg(i,e,n){const s=we(i);let a=Ee.min(),c=Ae();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,E){const T=we(g),I=T.Ds.get(E);return I!==void 0?W.resolve(T.Ss.get(I)):T.ai.getTargetData(v,E)}(s,h,Xn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,n?a:Ee.min(),n?c:Ae())).next(m=>(CT(s,h1(e),m),{documents:m,Ns:c})))}function CT(i,e,n){let s=i.vs.get(e)||Ee.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.vs.set(e,s)}class ig{constructor(){this.activeTargetIds=y1()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AT{constructor(){this.So=new ig,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new ig,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="ConnectivityMonitor";class og{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){oe(sg,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){oe(sg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function Hh(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="RestConnection",PT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xT{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${a}`,this.qo=this.databaseId.database===cu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Qo(e,n,s,a,c){const h=Hh(),m=this.$o(e,n.toUriEncodedString());oe(wh,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(g,a,c);const{host:v}=new URL(m),E=sf(v);return this.Ko(e,m,g,s,E).then(T=>(oe(wh,`Received RPC '${e}' ${h}: `,T),T),T=>{throw Ws(wh,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Wo(e,n,s,a,c,h){return this.Qo(e,n,s,a,c)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}$o(e,n){const s=PT[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class VT extends xT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,a,c){const h=Hh();return new Promise((m,g)=>{const v=new Jg;v.setWithCredentials(!0),v.listenOnce(Zg.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Jl.NO_ERROR:const T=v.getResponseJson();oe(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Jl.TIMEOUT:oe(Ft,`RPC '${e}' ${h} timed out`),g(new le(K.DEADLINE_EXCEEDED,"Request time out"));break;case Jl.HTTP_ERROR:const I=v.getStatus();if(oe(Ft,`RPC '${e}' ${h} failed with status:`,I,"response text:",v.getResponseText()),I>0){let O=v.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O==null?void 0:O.error;if(U&&U.status&&U.message){const q=function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ne)>=0?ne:K.UNKNOWN}(U.status);g(new le(q,U.message))}else g(new le(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new le(K.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{s_:e,streamId:h,o_:v.getLastErrorCode(),__:v.getLastError()})}}finally{oe(Ft,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(a);oe(Ft,`RPC '${e}' ${h} sending request:`,a),v.send(n,"POST",E,s,15)})}a_(e,n,s){const a=Hh(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ny(),m=ty(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=c.join("");oe(Ft,`Creating RPC '${e}' stream ${a}: ${E}`,g);const T=h.createWebChannel(E,g);let I=!1,O=!1;const U=new kT({Go:z=>{O?oe(Ft,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(I||(oe(Ft,`Opening RPC '${e}' stream ${a} transport.`),T.open(),I=!0),oe(Ft,`RPC '${e}' stream ${a} sending:`,z),T.send(z))},zo:()=>T.close()}),q=(z,Z,ne)=>{z.listen(Z,re=>{try{ne(re)}catch(ve){setTimeout(()=>{throw ve},0)}})};return q(T,na.EventType.OPEN,()=>{O||(oe(Ft,`RPC '${e}' stream ${a} transport opened.`),U.t_())}),q(T,na.EventType.CLOSE,()=>{O||(O=!0,oe(Ft,`RPC '${e}' stream ${a} transport closed`),U.r_())}),q(T,na.EventType.ERROR,z=>{O||(O=!0,Ws(Ft,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),U.r_(new le(K.UNAVAILABLE,"The operation could not be completed")))}),q(T,na.EventType.MESSAGE,z=>{var Z;if(!O){const ne=z.data[0];Fe(!!ne,16349);const re=ne,ve=(re==null?void 0:re.error)||((Z=re[0])===null||Z===void 0?void 0:Z.error);if(ve){oe(Ft,`RPC '${e}' stream ${a} received error:`,ve);const be=ve.status;let De=function(P){const V=at[P];if(V!==void 0)return My(V)}(be),D=ve.message;De===void 0&&(De=K.INTERNAL,D="Unknown error status: "+be+" with message "+ve.message),O=!0,U.r_(new le(De,D)),T.close()}else oe(Ft,`RPC '${e}' stream ${a} received:`,ne),U.i_(ne)}}),q(m,ey.STAT_EVENT,z=>{z.stat===Dh.PROXY?oe(Ft,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Dh.NOPROXY&&oe(Ft,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.n_()},0),U}}function Th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(i){return new L1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,s=1e3,a=1.5,c=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=a,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="PersistentStream";class Xy{constructor(e,n,s,a,c,h,m,g){this.bi=e,this.R_=s,this.V_=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Yy(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.m_===n&&this.B_(s,a)},s=>{e(()=>{const a=new le(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(a)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{s(()=>this.L_(a))}),this.stream.onMessage(a=>{s(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return oe(ag,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(oe(ag,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DT extends Xy{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=j1(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ee.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Jn(h.readTime):Ee.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=$h(this.serializer),n.addTarget=function(c,h){let m;const g=h.target;if(m=Fh(g)?{documents:z1(c,g)}:{query:B1(c,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=by(c,h.resumeToken);const v=Uh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=gu(c,h.snapshotVersion.toTimestamp());const v=Uh(c,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=q1(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=$h(this.serializer),n.removeTarget=e,this.F_(n)}}class NT extends Xy{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=U1(e.writeResults,e.commitTime),s=Jn(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=$h(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>b1(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{}class LT extends OT{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Qo(e,zh(n,s),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(K.UNKNOWN,c.toString())})}Wo(e,n,s,a,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,zh(n,s),a,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new le(K.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class MT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(wr(n),this.ea=!1):oe("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="RemoteStore";class FT{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(h=>{s.enqueueAndForget(async()=>{Wi(this)&&(oe(Bi,"Restarting streams for network reachability change."),await async function(g){const v=we(g);v.aa.add(4),await Ra(v),v.la.set("Unknown"),v.aa.delete(4),await Vu(v)}(this))})}),this.la=new MT(s,a)}}async function Vu(i){if(Wi(i))for(const e of i.ua)await e(!0)}async function Ra(i){for(const e of i.ua)await e(!1)}function Jy(i,e){const n=we(i);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Af(n)?Cf(n):ro(n).b_()&&Sf(n,e))}function If(i,e){const n=we(i),s=ro(n);n._a.delete(e),s.b_()&&Zy(n,e),n._a.size===0&&(s.b_()?s.v_():Wi(n)&&n.la.set("Unknown"))}function Sf(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(i).U_(e)}function Zy(i,e){i.ha.Ke(e),ro(i).K_(e)}function Cf(i){i.ha=new V1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),ro(i).start(),i.la.ta()}function Af(i){return Wi(i)&&!ro(i).w_()&&i._a.size>0}function Wi(i){return we(i).aa.size===0}function ev(i){i.ha=void 0}async function jT(i){i.la.set("Online")}async function bT(i){i._a.forEach((e,n)=>{Sf(i,e)})}async function UT(i,e){ev(i),Af(i)?(i.la.ia(e),Cf(i)):i.la.set("Unknown")}async function zT(i,e,n){if(i.la.set("Online"),e instanceof jy&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const m of c.targetIds)a._a.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a._a.delete(m),a.ha.removeTarget(m))}(i,e)}catch(s){oe(Bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await vu(i,s)}else if(e instanceof nu?i.ha.Xe(e):e instanceof Fy?i.ha.ot(e):i.ha.nt(e),!n.isEqual(Ee.min()))try{const s=await Gy(i.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.ha.It(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const E=c._a.get(v);E&&c._a.set(v,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const E=c._a.get(g);if(!E)return;c._a.set(g,E.withResumeToken(kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Zy(c,g);const T=new Yr(E.target,g,v,E.sequenceNumber);Sf(c,T)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){oe(Bi,"Failed to raise snapshot:",s),await vu(i,s)}}async function vu(i,e,n){if(!no(e))throw e;i.aa.add(1),await Ra(i),i.la.set("Offline"),n||(n=()=>Gy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{oe(Bi,"Retrying IndexedDB access"),await n(),i.aa.delete(1),await Vu(i)})}function tv(i,e){return e().catch(n=>vu(i,n,e))}async function Du(i){const e=we(i),n=oi(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:lf;for(;BT(e);)try{const a=await IT(e.localStore,s);if(a===null){e.oa.length===0&&n.v_();break}s=a.batchId,$T(e,a)}catch(a){await vu(e,a)}nv(e)&&rv(e)}function BT(i){return Wi(i)&&i.oa.length<10}function $T(i,e){i.oa.push(e);const n=oi(i);n.b_()&&n.W_&&n.G_(e.mutations)}function nv(i){return Wi(i)&&!oi(i).w_()&&i.oa.length>0}function rv(i){oi(i).start()}async function qT(i){oi(i).H_()}async function HT(i){const e=oi(i);for(const n of i.oa)e.G_(n.mutations)}async function WT(i,e,n){const s=i.oa.shift(),a=gf.from(s,e,n);await tv(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Du(i)}async function QT(i,e){e&&oi(i).W_&&await async function(s,a){if(function(h){return x1(h)&&h!==K.ABORTED}(a.code)){const c=s.oa.shift();oi(s).D_(),await tv(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Du(s)}}(i,e),nv(i)&&rv(i)}async function lg(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),oe(Bi,"RemoteStore received new credentials");const s=Wi(n);n.aa.add(3),await Ra(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Vu(n)}async function KT(i,e){const n=we(i);e?(n.aa.delete(2),await Vu(n)):e||(n.aa.add(2),await Ra(n),n.la.set("Unknown"))}function ro(i){return i.Pa||(i.Pa=function(n,s,a){const c=we(n);return c.Y_(),new DT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{jo:jT.bind(null,i),Jo:bT.bind(null,i),Zo:UT.bind(null,i),Q_:zT.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),Af(i)?Cf(i):i.la.set("Unknown")):(await i.Pa.stop(),ev(i))})),i.Pa}function oi(i){return i.Ta||(i.Ta=function(n,s,a){const c=we(n);return c.Y_(),new NT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:qT.bind(null,i),Zo:QT.bind(null,i),z_:HT.bind(null,i),j_:WT.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await Du(i)):(await i.Ta.stop(),i.oa.length>0&&(oe(Bi,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new Rf(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(i,e){if(wr("AsyncQueue",`${e}: ${i}`),no(i))return new le(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=ra(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Hs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Ia=new Je(de.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ye(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class Xs{constructor(e,n,s,a,c,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Xs(e,n,Hs.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class YT{constructor(){this.queries=cg(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const a=we(n),c=a.queries;a.queries=cg(),c.forEach((h,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new le(K.ABORTED,"Firestore shutting down"))}}function cg(){return new Hi(i=>Sy(i),Cu)}async function iv(i,e){const n=we(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Va()&&e.ma()&&(s=2):(c=new GT,s=e.ma()?0:1);try{switch(s){case 0:c.Aa=await n.onListen(a,!0);break;case 1:c.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=Pf(h,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.Ra.push(e),e.ga(n.onlineState),c.Aa&&e.pa(c.Aa)&&xf(n)}async function sv(i,e){const n=we(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.Ra.indexOf(e);h>=0&&(c.Ra.splice(h,1),c.Ra.length===0?a=e.ma()?0:1:!c.Va()&&e.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XT(i,e){const n=we(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.Ra)m.pa(a)&&(s=!0);h.Aa=a}}s&&xf(n)}function JT(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const c of a.Ra)c.onError(n);s.queries.delete(e)}function xf(i){i.fa.forEach(e=>{e.next()})}var Wh,hg;(hg=Wh||(Wh={})).ya="default",hg.Cache="cache";class ov{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Wh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.key=e}}class lv{constructor(e){this.key=e}}class ZT{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ae(),this.mutatedKeys=Ae(),this.Ua=Cy(e),this.Ka=new Hs(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new ug,a=n?n.Ka:this.Ka;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,T)=>{const I=a.get(E),O=Au(this.query,T)?T:null,U=!!I&&this.mutatedKeys.has(I.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;I&&O?I.data.isEqual(O.data)?U!==q&&(s.track({type:3,doc:O}),z=!0):this.ja(I,O)||(s.track({type:2,doc:O}),z=!0,(g&&this.Ua(O,g)>0||v&&this.Ua(O,v)<0)&&(m=!0)):!I&&O?(s.track({type:0,doc:O}),z=!0):I&&!O&&(s.track({type:1,doc:I}),z=!0,(g||v)&&(m=!0)),z&&(O?(h=h.add(O),c=q?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Ka:h,za:s,ys:m,mutatedKeys:c}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((E,T)=>function(O,U){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Vt:z})}};return q(O)-q(U)}(E.type,T.type)||this.Ua(E.doc,T.doc)),this.Ha(s),a=a!=null&&a;const m=n&&!a?this.Ja():[],g=this.$a.size===0&&this.current&&!a?1:0,v=g!==this.Qa;return this.Qa=g,h.length!==0||v?{snapshot:new Xs(this.query,e.Ka,c,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new ug,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ae(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new lv(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new av(s))}),n}Xa(e){this.qa=e.Ns,this.$a=Ae();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Xs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const kf="SyncEngine";class eI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class tI{constructor(e){this.key=e,this.tu=!1}}class nI{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Hi(m=>Sy(m),Cu),this.iu=new Map,this.su=new Set,this.ou=new Je(de.comparator),this._u=new Map,this.au=new _f,this.uu={},this.cu=new Map,this.lu=Ys.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function rI(i,e,n=!0){const s=pv(i);let a;const c=s.ru.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.eu()):a=await uv(s,e,n,!0),a}async function iI(i,e){const n=pv(i);await uv(n,e,!0,!1)}async function uv(i,e,n,s){const a=await ST(i.localStore,Xn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await sI(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&Jy(i.remoteStore,a),m}async function sI(i,e,n,s,a){i.Pu=(T,I,O)=>async function(q,z,Z,ne){let re=z.view.Ga(Z);re.ys&&(re=await rg(q.localStore,z.query,!1).then(({documents:D})=>z.view.Ga(D,re)));const ve=ne&&ne.targetChanges.get(z.targetId),be=ne&&ne.targetMismatches.get(z.targetId)!=null,De=z.view.applyChanges(re,q.isPrimaryClient,ve,be);return dg(q,z.targetId,De.Ya),De.snapshot}(i,T,I,O);const c=await rg(i.localStore,e,!0),h=new ZT(e,c.Ns),m=h.Ga(c.documents),g=Aa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);dg(i,n,v.Ya);const E=new eI(e,n,h);return i.ru.set(e,E),i.iu.has(n)?i.iu.get(n).push(e):i.iu.set(n,[e]),v.snapshot}async function oI(i,e,n){const s=we(i),a=s.ru.get(e),c=s.iu.get(a.targetId);if(c.length>1)return s.iu.set(a.targetId,c.filter(h=>!Cu(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await qh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&If(s.remoteStore,a.targetId),Qh(s,a.targetId)}).catch(to)):(Qh(s,a.targetId),await qh(s.localStore,a.targetId,!0))}async function aI(i,e){const n=we(i),s=n.ru.get(e),a=n.iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),If(n.remoteStore,s.targetId))}async function lI(i,e,n){const s=mI(i);try{const a=await function(h,m){const g=we(h),v=mt.now(),E=m.reduce((O,U)=>O.add(U.key),Ae());let T,I;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=Tr(),q=Ae();return g.Cs.getEntries(O,E).next(z=>{U=z,U.forEach((Z,ne)=>{ne.isValidDocument()||(q=q.add(Z))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,U)).next(z=>{T=z;const Z=[];for(const ne of m){const re=S1(ne,T.get(ne.key).overlayedDocument);re!=null&&Z.push(new ci(ne.key,re,gy(re.value.mapValue),Mn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,v,Z,m)}).next(z=>{I=z;const Z=z.applyToLocalDocumentSet(T,q);return g.documentOverlayCache.saveOverlays(O,z.batchId,Z)})}).then(()=>({batchId:I.batchId,changes:Ry(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.uu[h.currentUser.toKey()];v||(v=new Je(Ie)),v=v.insert(m,g),h.uu[h.currentUser.toKey()]=v}(s,a.batchId,n),await Pa(s,a.changes),await Du(s.remoteStore)}catch(a){const c=Pf(a,"Failed to persist write");n.reject(c)}}async function cv(i,e){const n=we(i);try{const s=await wT(n.localStore,e);e.targetChanges.forEach((a,c)=>{const h=n._u.get(c);h&&(Fe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.tu=!0:a.modifiedDocuments.size>0?Fe(h.tu,14607):a.removedDocuments.size>0&&(Fe(h.tu,42227),h.tu=!1))}),await Pa(n,s,e)}catch(s){await to(s)}}function fg(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ru.forEach((c,h)=>{const m=h.view.ga(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let v=!1;g.queries.forEach((E,T)=>{for(const I of T.Ra)I.ga(m)&&(v=!0)}),v&&xf(g)}(s.eventManager,e),a.length&&s.nu.Q_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uI(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s._u.get(e),c=a&&a.key;if(c){let h=new Je(de.comparator);h=h.insert(c,bt.newNoDocument(c,Ee.min()));const m=Ae().add(c),g=new xu(Ee.min(),new Map,new Je(Ie),h,m);await cv(s,g),s.ou=s.ou.remove(c),s._u.delete(e),Vf(s)}else await qh(s.localStore,e,!1).then(()=>Qh(s,e,n)).catch(to)}async function cI(i,e){const n=we(i),s=e.batch.batchId;try{const a=await ET(n.localStore,e);fv(n,s,null),hv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Pa(n,a)}catch(a){await to(a)}}async function hI(i,e,n){const s=we(i);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return g.mutationQueue.lookupMutationBatch(v,m).next(T=>(Fe(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(v,T))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>g.localDocuments.getDocuments(v,E))})}(s.localStore,e);fv(s,e,n),hv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Pa(s,a)}catch(a){await to(a)}}function hv(i,e){(i.cu.get(e)||[]).forEach(n=>{n.resolve()}),i.cu.delete(e)}function fv(i,e,n){const s=we(i);let a=s.uu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.uu[s.currentUser.toKey()]=a}}function Qh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),n&&i.nu.Tu(s,n);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||dv(i,s)})}function dv(i,e){i.su.delete(e.path.canonicalString());const n=i.ou.get(e);n!==null&&(If(i.remoteStore,n),i.ou=i.ou.remove(e),i._u.delete(n),Vf(i))}function dg(i,e,n){for(const s of n)s instanceof av?(i.au.addReference(s.key,e),fI(i,s)):s instanceof lv?(oe(kf,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||dv(i,s.key)):ye(19791,{Iu:s})}function fI(i,e){const n=e.key,s=n.path.canonicalString();i.ou.get(n)||i.su.has(s)||(oe(kf,"New document in limbo: "+n),i.su.add(s),Vf(i))}function Vf(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const n=new de(Qe.fromString(e)),s=i.lu.next();i._u.set(s,new tI(n)),i.ou=i.ou.insert(n,s),Jy(i.remoteStore,new Yr(Xn(df(n.path)),s,"TargetPurposeLimboResolution",Tu.le))}}async function Pa(i,e,n){const s=we(i),a=[],c=[],h=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{h.push(s.Pu(g,e,n).then(v=>{var E;if((v||n)&&s.isPrimaryClient){const T=v?!v.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(v){a.push(v);const T=wf.Ps(g.targetId,v);c.push(T)}}))}),await Promise.all(h),s.nu.Q_(a),await async function(g,v){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>W.forEach(v,I=>W.forEach(I.ls,O=>E.persistence.referenceDelegate.addReference(T,I.targetId,O)).next(()=>W.forEach(I.hs,O=>E.persistence.referenceDelegate.removeReference(T,I.targetId,O)))))}catch(T){if(!no(T))throw T;oe(Tf,"Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const O=E.Ss.get(I),U=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(U);E.Ss=E.Ss.insert(I,q)}}}(s.localStore,c))}async function dI(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){oe(kf,"User change. New user:",e.toKey());const s=await Ky(n.localStore,e);n.currentUser=e,function(c,h){c.cu.forEach(m=>{m.forEach(g=>{g.reject(new le(K.CANCELLED,h))})}),c.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Pa(n,s.Ms)}}function pI(i,e){const n=we(i),s=n._u.get(e);if(s&&s.tu)return Ae().add(s.key);{let a=Ae();const c=n.iu.get(e);if(!c)return a;for(const h of c){const m=n.ru.get(h);a=a.unionWith(m.view.Wa)}return a}}function pv(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.nu.Q_=XT.bind(null,e.eventManager),e.nu.Tu=JT.bind(null,e.eventManager),e}function mI(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hI.bind(null,e),e}class _u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ku(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return _T(this.persistence,new gT,e.initialUser,this.serializer)}Ru(e){return new Qy(Ef.Ei,this.serializer)}Au(e){return new AT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_u.provider={build:()=>new _u};class gI extends _u{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Fe(this.persistence.referenceDelegate instanceof yu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tT(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Qy(s=>yu.Ei(s,n),this.serializer)}}class Kh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dI.bind(null,this.syncEngine),await KT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YT}()}createDatastore(e){const n=ku(e.databaseInfo.databaseId),s=function(c){return new VT(c)}(e.databaseInfo);return function(c,h,m,g){return new LT(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,h,m){return new FT(s,a,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>fg(this.syncEngine,n,0),function(){return og.C()?new og:new RT}())}createSyncEngine(e,n){return function(a,c,h,m,g,v,E){const T=new nI(a,c,h,m,g,v);return E&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=we(a);oe(Bi,"RemoteStore shutting down."),c.aa.add(5),await Ra(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kh.provider={build:()=>new Kh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="FirestoreClient";class yI{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=jt.UNAUTHENTICATED,this.clientId=oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{oe(ai,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(oe(ai,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pf(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ih(i,e){i.asyncQueue.verifyOperationInProgress(),oe(ai,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Ky(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function pg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await vI(i);oe(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>lg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>lg(e.remoteStore,a)),i._onlineComponents=e}async function vI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){oe(ai,"Using user provided OfflineComponentProvider");try{await Ih(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ws("Error using user provided cache. Falling back to memory cache: "+n),await Ih(i,new _u)}}else oe(ai,"Using default OfflineComponentProvider"),await Ih(i,new gI(void 0));return i._offlineComponents}async function gv(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(oe(ai,"Using user provided OnlineComponentProvider"),await pg(i,i._uninitializedComponentsProvider._online)):(oe(ai,"Using default OnlineComponentProvider"),await pg(i,new Kh))),i._onlineComponents}function _I(i){return gv(i).then(e=>e.syncEngine)}async function yv(i){const e=await gv(i),n=e.eventManager;return n.onListen=rI.bind(null,e.syncEngine),n.onUnlisten=oI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aI.bind(null,e.syncEngine),n}function EI(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,v){const E=new mv({next:I=>{E.yu(),h.enqueueAndForget(()=>sv(c,T));const O=I.docs.has(m);!O&&I.fromCache?v.reject(new le(K.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&g&&g.source==="server"?v.reject(new le(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new ov(df(m.path),E,{includeMetadataChanges:!0,Fa:!0});return iv(c,T)}(await yv(i),i.asyncQueue,e,n,s)),s.promise}function wI(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,v){const E=new mv({next:I=>{E.yu(),h.enqueueAndForget(()=>sv(c,T)),I.fromCache&&g.source==="server"?v.reject(new le(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new ov(m,E,{includeMetadataChanges:!0,Fa:!0});return iv(c,T)}(await yv(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i,e,n){if(!n)throw new le(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function TI(i,e,n,s){if(e===!0&&s===!0)throw new le(K.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function gg(i){if(!de.isDocumentKey(i))throw new le(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yg(i){if(de.isDocumentKey(i))throw new le(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Nu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ye(12329,{type:typeof i})}function Ir(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nu(i);throw new le(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="firestore.googleapis.com",vg=!0;class _g{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ev,this.ssl=vg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:vg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Wy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z1)throw new le(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new le(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _g({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _g(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new kw;switch(s.type){case"firstParty":return new Ow(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,$g("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mg.get(n);s&&(oe("ComponentProvider","Removing Datastore"),mg.delete(n),s.terminate())}(this),Promise.resolve()}}function II(i,e,n,s={}){var a;i=Ir(i,Ou);const c=sf(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${n}`;h.host!==Ev&&h.host!==g&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:s});if(!ou(v,m)&&(i._setSettings(v),c&&(oE(`https://${g}`),$g("Firestore",!0)),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=jt.MOCK_USER;else{E=aE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new le(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new jt(I)}i._authCredentials=new Vw(new iy(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class en{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class ti extends io{constructor(e,n,s){super(e,n,df(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new de(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function xt(i,e,...n){if(i=_r(i),_v("collection","path",e),i instanceof Ou){const s=Qe.fromString(e,...n);return yg(s),new ti(i,null,s)}{if(!(i instanceof en||i instanceof ti))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return yg(s),new ti(i.firestore,null,s)}}function wa(i,e,...n){if(i=_r(i),arguments.length===1&&(e=oy.newId()),_v("doc","path",e),i instanceof Ou){const s=Qe.fromString(e,...n);return gg(s),new en(i,null,new de(s))}{if(!(i instanceof en||i instanceof ti))throw new le(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return gg(s),new en(i.firestore,i instanceof ti?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="AsyncQueue";class wg{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Yy(this,"async_queue_retry"),this.ju=()=>{const s=Th();s&&oe(Eg,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new vr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!no(e))throw e;oe(Eg,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,wr("INTERNAL UNHANDLED ERROR: ",Tg(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const a=Rf.createAndSchedule(this,e,n,s,c=>this.Xu(c));return this.Uu.push(a),a}Ju(){this.Ku&&ye(47125,{ec:Tg(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Tg(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class so extends Ou{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new wg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wg(e),this._firestoreClient=void 0,await e}}}function SI(i,e){const n=typeof i=="object"?i:_w(),s=typeof i=="string"?i:cu,a=pw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=iE("firestore");c&&II(a,...c)}return a}function Df(i){if(i._terminated)throw new le(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||CI(i),i._firestoreClient}function CI(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,v,E){return new Gw(m,g,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vv(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new yI(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(kt.fromBase64String(e))}catch(n){throw new le(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^__.*__$/;class RI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ca(e,this.data,n,this.fieldTransforms)}}class wv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tv(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{oc:i})}}class Mf{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Mf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a.lc(e),a}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:s,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Eu(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Tv(this.oc)&&AI.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class PI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ku(e)}dc(e,n,s,a=!1){return new Mf({oc:e,methodName:n,Ec:s,path:Pt.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(i){const e=i._freezeSettings(),n=ku(i._databaseId);return new PI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xI(i,e,n,s,a,c={}){const h=i.dc(c.merge||c.mergeFields?2:0,e,n,a);jf("Data must be an object, but it was:",h,s);const m=Iv(s,h);let g,v;if(c.merge)g=new un(h.fieldMask),v=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const I=Gh(e,T,n);if(!h.contains(I))throw new le(K.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Cv(E,I)||E.push(I)}g=new un(E),v=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,v=h.fieldTransforms;return new RI(new Zt(m),g,v)}class Mu extends Nf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mu}}function kI(i,e,n,s){const a=i.dc(1,e,n);jf("Data must be an object, but it was:",a,s);const c=[],h=Zt.empty();ui(s,(g,v)=>{const E=bf(e,g,n);v=_r(v);const T=a.hc(E);if(v instanceof Mu)c.push(E);else{const I=xa(v,T);I!=null&&(c.push(E),h.set(E,I))}});const m=new un(c);return new wv(h,m,a.fieldTransforms)}function VI(i,e,n,s,a,c){const h=i.dc(1,e,n),m=[Gh(e,s,n)],g=[a];if(c.length%2!=0)throw new le(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)m.push(Gh(e,c[I])),g.push(c[I+1]);const v=[],E=Zt.empty();for(let I=m.length-1;I>=0;--I)if(!Cv(v,m[I])){const O=m[I];let U=g[I];U=_r(U);const q=h.hc(O);if(U instanceof Mu)v.push(O);else{const z=xa(U,q);z!=null&&(v.push(O),E.set(O,z))}}const T=new un(v);return new wv(E,T,h.fieldTransforms)}function DI(i,e,n,s=!1){return xa(n,i.dc(s?4:3,e))}function xa(i,e){if(Sv(i=_r(i)))return jf("Unsupported field value:",e,i),Iv(i,e);if(i instanceof Nf)return function(s,a){if(!Tv(a.oc))throw a.Tc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,a){const c=[];let h=0;for(const m of s){let g=xa(m,a.Pc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=_r(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return v1(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=mt.fromDate(s);return{timestampValue:gu(a.serializer,c)}}if(s instanceof mt){const c=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gu(a.serializer,c)}}if(s instanceof Of)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Js)return{bytesValue:by(a.serializer,s._byteString)};if(s instanceof en){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Lf)return function(h,m){return{mapValue:{fields:{[py]:{stringValue:my},[hu]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw m.Tc("VectorValues must only contain numeric values.");return pf(m.serializer,v)})}}}}}}(s,a);throw a.Tc(`Unsupported field value: ${Nu(s)}`)}(i,e)}function Iv(i,e){const n={};return ly(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(i,(s,a)=>{const c=xa(a,e.uc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Sv(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Of||i instanceof Js||i instanceof en||i instanceof Nf||i instanceof Lf)}function jf(i,e,n){if(!Sv(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Nu(n);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function Gh(i,e,n){if((e=_r(e))instanceof Lu)return e._internalPath;if(typeof e=="string")return bf(i,e);throw Eu("Field path arguments must be of type string or ",i,!1,void 0,n)}const NI=new RegExp("[~\\*/\\[\\]]");function bf(i,e,n){if(e.search(NI)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Lu(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Eu(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new le(K.INVALID_ARGUMENT,m+i+g)}function Cv(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OI extends Av{data(){return super.data()}}function Uf(i,e){return typeof e=="string"?bf(i,e):e instanceof Lu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zf{}class MI extends zf{}function Rv(i,e,...n){let s=[];e instanceof zf&&s.push(e),s=s.concat(n),function(c){const h=c.filter(g=>g instanceof Bf).length,m=c.filter(g=>g instanceof Fu).length;if(h>1||h>0&&m>0)throw new le(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class Fu extends MI{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Fu(e,n,s)}_apply(e){const n=this._parse(e);return Pv(e._query,n),new io(e.firestore,e.converter,jh(e._query,n))}_parse(e){const n=Ff(e.firestore);return function(c,h,m,g,v,E,T){let I;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Sg(T,E);const U=[];for(const q of T)U.push(Ig(g,c,q));I={arrayValue:{values:U}}}else I=Ig(g,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Sg(T,E),I=DI(m,h,T,E==="in"||E==="not-in");return lt.create(v,E,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yh(i,e,n){const s=e,a=Uf("where",i);return Fu._create(a,s,n)}class Bf extends zf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let h=a;const m=c.getFlattenedFilters();for(const g of m)Pv(h,g),h=jh(h,g)}(e._query,n),new io(e.firestore,e.converter,jh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ig(i,e,n){if(typeof(n=_r(n))=="string"){if(n==="")throw new le(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iy(e)&&n.indexOf("/")!==-1)throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Qe.fromString(n));if(!de.isDocumentKey(s))throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return jm(i,new de(s))}if(n instanceof en)return jm(i,n._key);throw new le(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nu(n)}.`)}function Sg(i,e){if(!Array.isArray(i)||i.length===0)throw new le(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pv(i,e){const n=function(a,c){for(const h of a)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FI{convertValue(e,n="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ui(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[hu].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new Lf(c)}convertGeoPoint(e){return new Of(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Su(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=ri(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Fe(Hy(s),9688,{name:e});const a=new ya(s.get(1),s.get(3)),c=new de(s.popFirst(5));return a.isEqual(n)||wr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xv extends Av{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ru(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ru extends xv{data(e={}){return super.data(e)}}class bI{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new sa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ru(this._firestore,this._userDataWriter,s.key,s,new sa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new ru(a._firestore,a._userDataWriter,m.doc.key,m.doc,new sa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new ru(a._firestore,a._userDataWriter,m.doc.key,m.doc,new sa(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:UI(m.type),doc:g,oldIndex:v,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(i){i=Ir(i,en);const e=Ir(i.firestore,so);return EI(Df(e),i._key).then(n=>$I(e,i,n))}class kv extends FI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function En(i){i=Ir(i,io);const e=Ir(i.firestore,so),n=Df(e),s=new kv(e);return LI(i._query),wI(n,i._query).then(a=>new bI(e,s,i,a))}function BI(i,e,n,...s){i=Ir(i,en);const a=Ir(i.firestore,so),c=Ff(a);let h;return h=typeof(e=_r(e))=="string"||e instanceof Lu?VI(c,"updateDoc",i._key,e,n,s):kI(c,"updateDoc",i._key,e),$f(a,[h.toMutation(i._key,Mn.exists(!0))])}function Vv(i){return $f(Ir(i.firestore,so),[new mf(i._key,Mn.none())])}function ka(i,e){const n=Ir(i.firestore,so),s=wa(i),a=jI(i.converter,e);return $f(n,[xI(Ff(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,Mn.exists(!1))]).then(()=>s)}function $f(i,e){return function(s,a){const c=new vr;return s.asyncQueue.enqueueAndForget(async()=>lI(await _I(s),a,c)),c.promise}(Df(i),e)}function $I(i,e,n){const s=n.docs.get(e._key),a=new kv(i);return new xv(i,a,e._key,s,new sa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){eo=a})(vw),lu(new da("firestore",(s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new so(new Dw(s.getProvider("auth-internal")),new Lw(h,s.getProvider("app-check-internal")),function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new le(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(v.options.projectId,E)}(h,a),h);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),qs(Am,Rm,e),qs(Am,Rm,"esm2017")})();var qI="firebase",HI="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qs(qI,HI,"app");const WI={apiKey:"AIzaSyD_-X9wB8SBu0PigamLwPbM7BFVPjRpDs0",authDomain:"mi-app-c4d2b.firebaseapp.com",projectId:"mi-app-c4d2b",storageBucket:"mi-app-c4d2b.firebasestorage.app",messagingSenderId:"597504125171",appId:"1:597504125171:web:528f515e77693cb1ffef86",measurementId:"G-F8MT002P7C"},QI=Kg(WI),et=SI(QI);window.db=et;function qf({tipo:i="info",mensaje:e,onClose:n}){const a={exito:"#38b000",error:"#e63946",info:"#0077cc",advertencia:"#f4a261"}[i]||"#0077cc";return R.jsxs("div",{style:{backgroundColor:a,color:"white",padding:"1rem",borderRadius:"6px",marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{children:e}),n&&R.jsx("button",{onClick:n,style:{background:"transparent",border:"none",color:"white",fontSize:"1.2rem",fontWeight:"bold",cursor:"pointer",marginLeft:"1rem"},children:"×"})]})}function KI({onRegister:i}){const[e,n]=H.useState(""),[s,a]=H.useState(""),[c,h]=H.useState(""),[m,g]=H.useState(""),[v,E]=H.useState(""),[T,I]=H.useState(!1),O=async U=>{if(U.preventDefault(),E(""),!e.trim()||!s.trim()||!c.trim()||!m.trim()){E("Completá todos los campos."),I(!0);return}try{const q=Rv(xt(et,"usuarios"),Yh("email","==",c));if(!(await En(q)).empty){E("Este email ya está registrado."),I(!0);return}const Z={nombre:e,apellido:s,email:c,password:m,rol:"usuario"};await ka(xt(et,"usuarios"),Z),localStorage.setItem("usuarioActual",JSON.stringify(Z)),E("¡Registro exitoso! Ahora estás logueada como usuaria."),I(!1),n(""),a(""),h(""),g(""),i&&i(Z)}catch{E("Error al conectar con la base de datos."),I(!0)}};return R.jsxs("form",{onSubmit:O,children:[R.jsx("h2",{children:"Formulario de Registro"}),R.jsx("input",{type:"text",placeholder:"Nombre",value:e,onChange:U=>n(U.target.value)}),R.jsx("input",{type:"text",placeholder:"Apellido",value:s,onChange:U=>a(U.target.value)}),R.jsx("input",{type:"email",placeholder:"Correo electrónico",value:c,onChange:U=>h(U.target.value)}),R.jsx("input",{type:"password",placeholder:"Contraseña",value:m,onChange:U=>g(U.target.value)}),R.jsx("button",{type:"submit",children:"Registrarse"}),v&&R.jsx(qf,{tipo:T?"error":"exito",mensaje:v,onClose:()=>E("")})]})}function GI({onLogin:i}){const[e,n]=H.useState(""),[s,a]=H.useState(""),[c,h]=H.useState(""),[m,g]=H.useState(!1),v=async E=>{if(E.preventDefault(),h(""),!e.trim()||!s.trim()){h("Completá todos los campos."),g(!0);return}try{const T=Rv(xt(et,"usuarios"),Yh("email","==",e),Yh("password","==",s)),I=await En(T);if(I.empty)h("Credenciales incorrectas. Revisá tu email y contraseña."),g(!0);else{const O=I.docs[0].data();localStorage.setItem("usuarioActual",JSON.stringify(O)),h("¡Inicio de sesión exitoso!"),g(!1),i(O)}}catch{h("Error al conectar con la base de datos."),g(!0)}};return R.jsxs("form",{onSubmit:v,children:[R.jsx("h2",{children:"Iniciar sesión"}),R.jsx("input",{type:"email",placeholder:"Correo electrónico",value:e,onChange:E=>n(E.target.value)}),R.jsx("input",{type:"password",placeholder:"Contraseña",value:s,onChange:E=>a(E.target.value)}),R.jsx("button",{type:"submit",children:"Ingresar"}),c&&R.jsx(qf,{tipo:m?"error":"exito",mensaje:c,onClose:()=>h("")})]})}function YI(){const[i,e]=H.useState([]),[n,s]=H.useState({titulo:"",descripcion:"",imagen:""});H.useEffect(()=>{(async()=>{const g=(await En(xt(et,"categorias"))).docs.map(v=>({id:v.id,...v.data()}));e(g)})()},[]);const a=h=>{s({...n,[h.target.name]:h.target.value})},c=async h=>{if(h.preventDefault(),!n.titulo.trim()||!n.descripcion.trim()||!n.imagen.trim()){alert("Completá todos los campos.");return}try{const m=await ka(xt(et,"categorias"),n);e([...i,{id:m.id,...n}]),s({titulo:"",descripcion:"",imagen:""})}catch{alert("Error al agregar la categoría.")}};return R.jsxs("div",{style:{marginTop:"2rem"},children:[R.jsx("h2",{children:"Administrar Categorías"}),R.jsxs("form",{onSubmit:c,children:[R.jsx("input",{type:"text",name:"titulo",placeholder:"Título",value:n.titulo,onChange:a}),R.jsx("input",{type:"text",name:"descripcion",placeholder:"Descripción",value:n.descripcion,onChange:a}),R.jsx("input",{type:"text",name:"imagen",placeholder:"URL de imagen",value:n.imagen,onChange:a}),R.jsx("button",{type:"submit",children:"Agregar categoría"})]}),R.jsx("ul",{style:{marginTop:"1rem"},children:i.map(h=>R.jsxs("li",{style:{marginBottom:"1rem"},children:[R.jsx("strong",{children:h.titulo})," - ",h.descripcion,R.jsx("br",{}),R.jsx("img",{src:h.imagen,alt:h.titulo,width:150})]},h.id))})]})}function XI(){const[i,e]=H.useState([]),[n,s]=H.useState({nombre:"",icono:""});H.useEffect(()=>{(async()=>{const v=(await En(xt(et,"caracteristicas"))).docs.map(E=>({id:E.id,...E.data()}));e(v)})()},[]);const a=m=>{s({...n,[m.target.name]:m.target.value})},c=async m=>{if(m.preventDefault(),!n.nombre.trim()||!n.icono.trim()){alert("Completá todos los campos.");return}try{const g=await ka(xt(et,"caracteristicas"),n);e([...i,{id:g.id,...n}]),s({nombre:"",icono:""})}catch{alert("Error al agregar la característica.")}},h=async m=>{try{await Vv(wa(et,"caracteristicas",m)),e(i.filter(g=>g.id!==m))}catch{alert("Error al eliminar la característica.")}};return R.jsxs("div",{style:{marginTop:"2rem"},children:[R.jsx("h2",{children:"Administrar Características"}),R.jsxs("form",{onSubmit:c,style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[R.jsx("input",{type:"text",name:"nombre",placeholder:"Ej: WiFi",value:n.nombre,onChange:a}),R.jsx("input",{type:"text",name:"icono",placeholder:"Emoji o ícono (Ej: 📶)",value:n.icono,onChange:a,style:{width:"4rem",textAlign:"center"}}),R.jsx("button",{type:"submit",children:"Agregar"})]}),R.jsx("ul",{style:{marginTop:"1rem",listStyle:"none",padding:0},children:i.map(m=>R.jsxs("li",{style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx("span",{style:{fontSize:"1.2rem"},children:m.icono}),R.jsx("span",{children:m.nombre}),R.jsx("button",{onClick:()=>h(m.id),style:{marginLeft:"auto"},children:"Eliminar"})]},m.id))})]})}function JI(){const[i,e]=H.useState([]),[n,s]=H.useState([]),[a,c]=H.useState({titulo:"",categoria:"",caracteristicas:[],imagen:""});H.useEffect(()=>{(async()=>{const E=await En(xt(et,"categorias")),T=await En(xt(et,"caracteristicas"));e(E.docs.map(I=>({id:I.id,...I.data()}))),s(T.docs.map(I=>({id:I.id,...I.data()})))})()},[]);const h=v=>{const{name:E,value:T}=v.target;c({...a,[E]:T})},m=v=>{const{value:E,checked:T}=v.target;c(T?{...a,caracteristicas:[...a.caracteristicas,E]}:{...a,caracteristicas:a.caracteristicas.filter(I=>I!==E)})},g=async v=>{if(v.preventDefault(),!a.titulo||!a.categoria){alert("Completá título y categoría");return}try{await ka(xt(et,"productos"),a),alert("Producto guardado!"),c({titulo:"",categoria:"",caracteristicas:[],imagen:""})}catch{alert("Error al guardar el producto.")}};return R.jsxs("div",{style:{marginTop:"2rem",color:"white"},children:[R.jsx("h2",{children:"Crear Producto"}),R.jsxs("form",{onSubmit:g,style:{display:"flex",flexDirection:"column",gap:"0.7rem"},children:[R.jsx("input",{type:"text",name:"titulo",placeholder:"Título del producto",value:a.titulo,onChange:h,required:!0}),R.jsxs("select",{name:"categoria",value:a.categoria,onChange:h,required:!0,children:[R.jsx("option",{value:"",children:"Seleccioná una categoría"}),i.map(v=>R.jsx("option",{value:v.titulo,children:v.titulo},v.id))]}),R.jsxs("div",{children:[R.jsx("label",{children:"Características:"}),R.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:n.map(v=>R.jsxs("label",{style:{cursor:"pointer"},children:[R.jsx("input",{type:"checkbox",value:v.nombre,checked:a.caracteristicas.includes(v.nombre),onChange:m})," ",v.icono," ",v.nombre]},v.id))})]}),R.jsx("input",{type:"text",name:"imagen",placeholder:"URL de la imagen",value:a.imagen,onChange:h}),R.jsx("button",{type:"submit",children:"Guardar Producto"})]})]})}function ZI(){const[i,e]=H.useState([]),[n,s]=H.useState([]),[a,c]=H.useState([]);H.useEffect(()=>{(async()=>{const T=await En(xt(et,"reservas")),I=await En(xt(et,"productos")),O=await En(xt(et,"usuarios"));e(T.docs.map(U=>({id:U.id,...U.data()}))),s(I.docs.map(U=>({id:U.id,...U.data()}))),c(O.docs.map(U=>({id:U.id,...U.data()})))})()},[]);const h=async(E,T)=>{try{const I=wa(et,"reservas",E);await BI(I,{estado:T}),e(i.map(O=>O.id===E?{...O,estado:T}:O))}catch{alert("Error al actualizar estado.")}},m=async E=>{try{await Vv(wa(et,"reservas",E)),e(i.filter(T=>T.id!==E))}catch{alert("Error al eliminar reserva.")}},g=E=>{const T=n.find(I=>I.id===E);return T?T.titulo:"Producto eliminado"},v=E=>{const T=a.find(I=>I.email===E);return T?`${T.nombre} ${T.apellido}`:"Usuario eliminado"};return R.jsxs("div",{style:{padding:"2rem",color:"white",minHeight:"100vh",backgroundColor:"#1e1e1e"},children:[R.jsx("h2",{children:"Gestión de Reservas"}),i.length===0?R.jsx("p",{children:"No hay reservas cargadas."}):R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white"},children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Producto"}),R.jsx("th",{children:"Usuario"}),R.jsx("th",{children:"Fecha Inicio"}),R.jsx("th",{children:"Fecha Fin"}),R.jsx("th",{children:"Estado"}),R.jsx("th",{children:"Acciones"})]})}),R.jsx("tbody",{children:i.map(E=>R.jsxs("tr",{style:{borderBottom:"1px solid #555"},children:[R.jsx("td",{children:g(E.productoId)}),R.jsx("td",{children:v(E.usuarioEmail)}),R.jsx("td",{children:E.fechaInicio}),R.jsx("td",{children:E.fechaFin}),R.jsx("td",{children:E.estado}),R.jsxs("td",{children:[E.estado!=="confirmada"&&R.jsx("button",{onClick:()=>h(E.id,"confirmada"),style:{marginRight:"0.5rem"},children:"Confirmar"}),E.estado!=="cancelada"&&R.jsx("button",{onClick:()=>h(E.id,"cancelada"),style:{marginRight:"0.5rem"},children:"Cancelar"}),R.jsx("button",{onClick:()=>m(E.id),children:"Eliminar"})]})]},E.id))})]})]})}function eS(){const[i,e]=H.useState([]);H.useEffect(()=>{const a=JSON.parse(localStorage.getItem("usuarios"))||[];e(a)},[]);const n=a=>{const c=[...i];c[a].rol=c[a].rol==="admin"?"usuario":"admin",e(c),localStorage.setItem("usuarios",JSON.stringify(c))},s=JSON.parse(localStorage.getItem("usuarioActual"));return console.log("Usuario actual:",s),R.jsxs("div",{style:{marginTop:"2rem"},children:[R.jsx("h2",{children:"Gestión de Usuarios"}),R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Nombre"}),R.jsx("th",{children:"Email"}),R.jsx("th",{children:"Rol"}),R.jsx("th",{children:"Acción"})]})}),R.jsx("tbody",{children:i.map((a,c)=>R.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[R.jsxs("td",{children:[a.nombre," ",a.apellido]}),R.jsx("td",{children:a.email}),R.jsx("td",{children:a.rol}),R.jsx("td",{children:R.jsx("button",{onClick:()=>n(c),children:a.rol==="admin"?"Quitar admin":"Hacer admin"})})]},c))})]}),(s==null?void 0:s.rol)==="admin"&&R.jsxs(R.Fragment,{children:[R.jsx(YI,{}),R.jsx(XI,{}),R.jsx(JI,{}),R.jsx(ZI,{})]})]})}function Xh(){const[i,e]=H.useState([]),[n,s]=H.useState([]),[a,c]=H.useState([]),[h,m]=H.useState(""),[g,v]=H.useState([]);H.useEffect(()=>{(async()=>{const q=(await En(xt(et,"productos"))).docs.map(re=>({id:re.id,...re.data()}));e(q);const z=[...new Set(q.map(re=>re.categoria))];s(z);const Z=q.flatMap(re=>re.caracteristicas),ne=[...new Set(Z)];c(ne)})()},[]);const E=O=>m(O.target.value),T=O=>{const U=O.target.value;v(q=>q.includes(U)?q.filter(z=>z!==U):[...q,U])},I=i.filter(O=>h&&O.categoria!==h?!1:g.length>0?g.every(U=>O.caracteristicas.includes(U)):!0);return R.jsxs("div",{style:{marginTop:"2rem",color:"white"},children:[R.jsx("h2",{children:"Productos Disponibles"}),R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsxs("label",{children:["Filtrar por categoría:"," ",R.jsxs("select",{value:h,onChange:E,children:[R.jsx("option",{value:"",children:"Todas"}),n.map((O,U)=>R.jsx("option",{value:O,children:O},U))]})]}),R.jsxs("div",{style:{marginTop:"0.5rem"},children:[R.jsx("span",{children:"Filtrar por características:"}),a.map((O,U)=>R.jsxs("label",{style:{marginLeft:"1rem",cursor:"pointer"},children:[R.jsx("input",{type:"checkbox",value:O,checked:g.includes(O),onChange:T})," ",O]},U))]})]}),R.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"1.5rem"},children:I.length===0?R.jsx("p",{children:"No hay productos que coincidan con los filtros."}):I.map(O=>R.jsxs(Gn,{to:`/productos/${O.id}`,style:{textDecoration:"none",color:"inherit",width:"280px",backgroundColor:"#2a2a2a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",overflow:"hidden",display:"flex",flexDirection:"column",cursor:"pointer",transition:"transform 0.3s ease, box-shadow 0.3s ease"},onMouseEnter:U=>{U.currentTarget.style.transform="translateY(-6px)",U.currentTarget.style.boxShadow="0 12px 24px rgba(0,0,0,0.6)"},onMouseLeave:U=>{U.currentTarget.style.transform="translateY(0)",U.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.4)"},children:[O.imagen&&R.jsx("img",{src:O.imagen,alt:O.titulo,style:{width:"100%",height:"180px",objectFit:"cover",borderBottom:"1px solid #444"}}),R.jsxs("div",{style:{padding:"1rem"},children:[R.jsx("h3",{style:{marginBottom:"0.4rem"},children:O.titulo}),R.jsxs("p",{style:{fontSize:"0.9rem",color:"#bbb"},children:["Categoría: ",R.jsx("strong",{children:O.categoria})]}),R.jsx("ul",{style:{paddingLeft:"1.2rem",fontSize:"0.9rem",margin:0,color:"#ddd"},children:O.caracteristicas.map((U,q)=>R.jsx("li",{children:U},q))})]})]},O.id))})]})}function tS(){const[i,e]=H.useState(null),n=nf();H.useEffect(()=>{const a=localStorage.getItem("usuarioActual"),c=a&&a!=="undefined"?JSON.parse(a):null;e(c)},[]);const s=()=>{localStorage.removeItem("usuarioActual"),e(null)};return R.jsxs(R.Fragment,{children:[R.jsx(bg,{usuario:i,onLogout:s}),R.jsxs("div",{style:{padding:"2rem",minHeight:"100vh",backgroundColor:"#1e1e1e",color:"white"},children:[R.jsx("h1",{children:"Mi App de Reservas"}),i?R.jsxs("div",{children:[R.jsxs("p",{children:["Hola, ",i.nombre," ",i.apellido]}),R.jsxs("div",{className:"usuario-info",children:[R.jsx("div",{className:"avatar",children:`${i.nombre[0]}${i.apellido[0]}`.toUpperCase()}),R.jsxs("div",{className:"botones-usuario",children:[R.jsx("button",{onClick:s,children:"Cerrar sesión"}),R.jsx("button",{onClick:()=>n("/mis-reservas"),children:"Ver mis reservas"})]})]}),i.rol==="admin"&&R.jsx(eS,{}),R.jsx(Xh,{})]}):R.jsxs(R.Fragment,{children:[R.jsx(KI,{onRegister:e}),R.jsx(GI,{onLogin:e}),R.jsx(Xh,{})]})]})]})}function nS(){return R.jsxs("div",{style:{padding:"2rem",color:"white",minHeight:"100vh",backgroundColor:"#1e1e1e"},children:[R.jsx("h1",{children:"Estos son los productos"}),R.jsx(Xh,{})]})}function rS(){return R.jsx("h1",{children:"Escribinos desde la página de contacto"})}function iS(){var q;const{id:i}=w0(),e=nf(),[n,s]=H.useState(null),[a,c]=H.useState(""),[h,m]=H.useState(""),[g,v]=H.useState(""),[E,T]=H.useState(!1),[I,O]=H.useState(null);H.useEffect(()=>{(async()=>{try{const ne=wa(et,"productos",i),re=await zI(ne);re.exists()?s(re.data()):e("/productos")}catch(ne){console.error("Error al obtener el producto:",ne)}})();const Z=localStorage.getItem("usuarioActual");Z&&O(JSON.parse(Z))},[i,e]);const U=async z=>{if(z.preventDefault(),v(""),T(!1),!I){v("Tenés que iniciar sesión para reservar."),T(!0);return}if(!a||!h){v("Por favor seleccioná fecha de inicio y fin."),T(!0);return}if(h<a){v("La fecha de fin no puede ser anterior a la de inicio."),T(!0);return}try{const Z={productoId:i,usuarioEmail:I.email,fechaInicio:a,fechaFin:h,estado:"pendiente",createdAt:new Date};await ka(xt(et,"reservas"),Z),v("¡Reserva realizada con éxito!"),T(!1),c(""),m("")}catch(Z){console.error("Error al guardar la reserva:",Z),v("Error al realizar la reserva. Intentá de nuevo más tarde."),T(!0)}};return n?R.jsxs("div",{style:{padding:"2rem",color:"white",minHeight:"100vh",backgroundColor:"#1e1e1e",display:"flex",flexDirection:"column",alignItems:"center"},children:[R.jsx("h1",{style:{textAlign:"center"},children:n.titulo}),n.imagen&&R.jsx("img",{src:n.imagen,alt:n.titulo,style:{width:"100%",maxWidth:"600px",borderRadius:"10px",marginBottom:"1rem",objectFit:"cover"}}),R.jsxs("div",{style:{maxWidth:"600px",width:"100%"},children:[R.jsxs("p",{children:[R.jsx("strong",{children:"Categoría:"})," ",n.categoria]}),R.jsx("p",{children:R.jsx("strong",{children:"Características:"})}),R.jsx("ul",{style:{paddingLeft:"1.5rem",marginBottom:"2rem"},children:(q=n.caracteristicas)==null?void 0:q.map((z,Z)=>R.jsx("li",{children:z},Z))}),R.jsx("h3",{children:"Reservar este producto"}),g&&R.jsx(qf,{tipo:E?"error":"exito",mensaje:g,onClose:()=>v("")}),R.jsxs("form",{onSubmit:U,style:{display:"flex",flexDirection:"column",gap:"1rem",backgroundColor:"#2a2a2a",padding:"1.5rem",borderRadius:"10px"},children:[R.jsxs("label",{children:["Fecha inicio:",R.jsx("input",{type:"date",value:a,onChange:z=>c(z.target.value),required:!0})]}),R.jsxs("label",{children:["Fecha fin:",R.jsx("input",{type:"date",value:h,onChange:z=>m(z.target.value),required:!0})]}),R.jsx("button",{type:"submit",children:"Reservar"})]}),R.jsx("button",{onClick:()=>e("/productos"),style:{marginTop:"2rem",backgroundColor:"#555"},children:"Volver a Productos"})]})]}):R.jsx("p",{style:{color:"white"},children:"Cargando..."})}function sS(){const[i,e]=H.useState([]),[n,s]=H.useState([]),[a,c]=H.useState(null);H.useEffect(()=>{const v=localStorage.getItem("usuarioActual");v&&c(JSON.parse(v))},[]),H.useEffect(()=>{(async()=>{const E=await En(xt(et,"reservas"));e(E.docs.map(T=>({id:T.id,...T.data()})))})()},[]),H.useEffect(()=>{(async()=>{const E=await En(xt(et,"productos"));s(E.docs.map(T=>({id:T.id,...T.data()})))})()},[]);const h=async v=>{const E=i.filter(T=>T.id!==v);e(E)};if(!a)return R.jsx("p",{style:{color:"white"},children:"Tenés que iniciar sesión para ver tus reservas."});const m=i.filter(v=>v.usuarioEmail===a.email);if(m.length===0)return R.jsx("p",{style:{color:"white"},children:"No tenés reservas aún."});const g=v=>{const E=n.find(T=>T.id===v);return E?E.titulo:"Producto eliminado"};return R.jsxs("div",{style:{padding:"2rem",color:"white",minHeight:"100vh",backgroundColor:"#1e1e1e"},children:[R.jsx("h2",{children:"Mis Reservas"}),R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",color:"white",fontSize:"1rem"},children:[R.jsx("thead",{children:R.jsxs("tr",{style:{borderBottom:"2px solid #555"},children:[R.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Producto"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Fecha Inicio"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Fecha Fin"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Estado"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left"},children:"Acción"})]})}),R.jsx("tbody",{children:m.map(v=>R.jsxs("tr",{style:{borderBottom:"1px solid #444"},children:[R.jsx("td",{style:{padding:"0.75rem"},children:g(v.productoId)}),R.jsx("td",{style:{padding:"0.75rem"},children:v.fechaInicio}),R.jsx("td",{style:{padding:"0.75rem"},children:v.fechaFin}),R.jsx("td",{style:{padding:"0.75rem",textTransform:"capitalize"},children:v.estado}),R.jsx("td",{style:{padding:"0.75rem"},children:v.estado!=="cancelada"&&R.jsx("button",{onClick:()=>h(v.id),style:{backgroundColor:"#e63946",border:"none",padding:"0.4rem 0.8rem",borderRadius:"5px",color:"white",cursor:"pointer",transition:"background-color 0.3s"},onMouseEnter:E=>E.currentTarget.style.backgroundColor="#b72b34",onMouseLeave:E=>E.currentTarget.style.backgroundColor="#e63946",children:"Cancelar"})})]},v.id))})]})]})}H_.createRoot(document.getElementById("root")).render(R.jsx(Ag.StrictMode,{children:R.jsxs(q0,{children:[R.jsx(bg,{}),R.jsxs(F0,{children:[R.jsx(bs,{path:"/",element:R.jsx(tS,{})}),R.jsx(bs,{path:"/productos",element:R.jsx(nS,{})}),R.jsx(bs,{path:"/contacto",element:R.jsx(rS,{})}),R.jsx(bs,{path:"/productos/:id",element:R.jsx(iS,{})}),R.jsx(bs,{path:"/mis-reservas",element:R.jsx(sS,{})})]})]})}));
